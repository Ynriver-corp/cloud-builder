"use strict";(self.webpackChunkcloud_builder=self.webpackChunkcloud_builder||[]).push([[8857],{65388:function(e,t,i){i.d(t,{s$:function(){return I},NB:function(){return C},$Z:function(){return D}});var s=i(65321),o=i(38626),n=i(23938),r=i(44240),l=i(7384),d=i(29282),a=i(51203),h=i(73046);const c=(0,h.CM)("scrollbar-button-up",h.lA.triangleUp),u=(0,h.CM)("scrollbar-button-down",h.lA.triangleDown);class p extends l.T{constructor(e,t,i){const s=e.getScrollDimensions(),o=e.getCurrentScrollPosition();if(super({lazyRender:t.lazyRender,host:i,scrollbarState:new a.M(t.verticalHasArrows?t.arrowSize:0,2===t.vertical?0:t.verticalScrollbarSize,0,s.height,s.scrollHeight,o.scrollTop),visibility:t.vertical,extraScrollbarClassName:"vertical",scrollable:e,scrollByPage:t.scrollByPage}),t.verticalHasArrows){const e=(t.arrowSize-d.J)/2,i=(t.verticalScrollbarSize-d.J)/2;this._createArrow({className:"scra",icon:c,top:e,left:i,bottom:void 0,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new n.q(null,0,1))}),this._createArrow({className:"scra",icon:u,top:void 0,left:i,bottom:e,right:void 0,bgWidth:t.verticalScrollbarSize,bgHeight:t.arrowSize,onActivate:()=>this._host.onMouseWheel(new n.q(null,0,-1))})}this._createSlider(0,Math.floor((t.verticalScrollbarSize-t.verticalSliderSize)/2),t.verticalSliderSize,void 0)}_updateSlider(e,t){this.slider.setHeight(e),this.slider.setTop(t)}_renderDomNode(e,t){this.domNode.setWidth(t),this.domNode.setHeight(e),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(e){return this._shouldRender=this._onElementScrollSize(e.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(e.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(e.height)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(e,t){return t}_sliderMousePosition(e){return e.posy}_sliderOrthogonalMousePosition(e){return e.posx}_updateScrollbarSize(e){this.slider.setWidth(e)}writeScrollPosition(e,t){e.scrollTop=t}updateOptions(e){this.updateScrollbarSize(2===e.vertical?0:e.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(e.vertical),this._scrollByPage=e.scrollByPage}}var m=i(93794),g=i(15393),v=i(4669),f=i(5976),b=i(1432),S=i(76633),w=i(16268);class y{constructor(e,t,i){this.timestamp=e,this.deltaX=t,this.deltaY=i,this.score=0}}class _{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(-1===this._front&&-1===this._rear)return!1;let e=1,t=0,i=1,s=this._rear;for(;;){const o=s===this._front?e:Math.pow(2,-i);if(e-=o,t+=this._memory[s].score*o,s===this._front)break;s=(this._capacity+s-1)%this._capacity,i++}return t<=.5}accept(e,t,i){const s=new y(e,t,i);s.score=this._computeScore(s),-1===this._front&&-1===this._rear?(this._memory[0]=s,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=s)}_computeScore(e){if(Math.abs(e.deltaX)>0&&Math.abs(e.deltaY)>0)return 1;let t=.5;-1===this._front&&-1===this._rear||this._memory[this._rear];return this._isAlmostInt(e.deltaX)&&this._isAlmostInt(e.deltaY)||(t+=.25),Math.min(Math.max(t,0),1)}_isAlmostInt(e){return Math.abs(Math.round(e)-e)<.01}}_.INSTANCE=new _;class N extends m.${constructor(e,t,i){super(),this._onScroll=this._register(new v.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new v.Q5),e.style.overflow="hidden",this._options=function(e){const t={lazyRender:void 0!==e.lazyRender&&e.lazyRender,className:void 0!==e.className?e.className:"",useShadows:void 0===e.useShadows||e.useShadows,handleMouseWheel:void 0===e.handleMouseWheel||e.handleMouseWheel,flipAxes:void 0!==e.flipAxes&&e.flipAxes,consumeMouseWheelIfScrollbarIsNeeded:void 0!==e.consumeMouseWheelIfScrollbarIsNeeded&&e.consumeMouseWheelIfScrollbarIsNeeded,alwaysConsumeMouseWheel:void 0!==e.alwaysConsumeMouseWheel&&e.alwaysConsumeMouseWheel,scrollYToX:void 0!==e.scrollYToX&&e.scrollYToX,mouseWheelScrollSensitivity:void 0!==e.mouseWheelScrollSensitivity?e.mouseWheelScrollSensitivity:1,fastScrollSensitivity:void 0!==e.fastScrollSensitivity?e.fastScrollSensitivity:5,scrollPredominantAxis:void 0===e.scrollPredominantAxis||e.scrollPredominantAxis,mouseWheelSmoothScroll:void 0===e.mouseWheelSmoothScroll||e.mouseWheelSmoothScroll,arrowSize:void 0!==e.arrowSize?e.arrowSize:11,listenOnDomNode:void 0!==e.listenOnDomNode?e.listenOnDomNode:null,horizontal:void 0!==e.horizontal?e.horizontal:1,horizontalScrollbarSize:void 0!==e.horizontalScrollbarSize?e.horizontalScrollbarSize:10,horizontalSliderSize:void 0!==e.horizontalSliderSize?e.horizontalSliderSize:0,horizontalHasArrows:void 0!==e.horizontalHasArrows&&e.horizontalHasArrows,vertical:void 0!==e.vertical?e.vertical:1,verticalScrollbarSize:void 0!==e.verticalScrollbarSize?e.verticalScrollbarSize:10,verticalHasArrows:void 0!==e.verticalHasArrows&&e.verticalHasArrows,verticalSliderSize:void 0!==e.verticalSliderSize?e.verticalSliderSize:0,scrollByPage:void 0!==e.scrollByPage&&e.scrollByPage};t.horizontalSliderSize=void 0!==e.horizontalSliderSize?e.horizontalSliderSize:t.horizontalScrollbarSize,t.verticalSliderSize=void 0!==e.verticalSliderSize?e.verticalSliderSize:t.verticalScrollbarSize,b.dz&&(t.className+=" mac");return t}(t),this._scrollable=i,this._register(this._scrollable.onScroll((e=>{this._onWillScroll.fire(e),this._onDidScroll(e),this._onScroll.fire(e)})));const s={onMouseWheel:e=>this._onMouseWheel(e),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p(this._scrollable,this._options,s)),this._horizontalScrollbar=this._register(new r.X(this._scrollable,this._options,s)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(e),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,o.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,o.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,o.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,(e=>this._onMouseOver(e))),this.onnonbubblingmouseout(this._listenOnDomNode,(e=>this._onMouseOut(e))),this._hideTimeout=this._register(new g._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,f.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarMouseDown(e){this._verticalScrollbar.delegateMouseDown(e)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(e){this._scrollable.setScrollDimensions(e,!1)}updateClassName(e){this._options.className=e,b.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(e){void 0!==e.handleMouseWheel&&(this._options.handleMouseWheel=e.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),void 0!==e.mouseWheelScrollSensitivity&&(this._options.mouseWheelScrollSensitivity=e.mouseWheelScrollSensitivity),void 0!==e.fastScrollSensitivity&&(this._options.fastScrollSensitivity=e.fastScrollSensitivity),void 0!==e.scrollPredominantAxis&&(this._options.scrollPredominantAxis=e.scrollPredominantAxis),void 0!==e.horizontal&&(this._options.horizontal=e.horizontal),void 0!==e.vertical&&(this._options.vertical=e.vertical),void 0!==e.horizontalScrollbarSize&&(this._options.horizontalScrollbarSize=e.horizontalScrollbarSize),void 0!==e.verticalScrollbarSize&&(this._options.verticalScrollbarSize=e.verticalScrollbarSize),void 0!==e.scrollByPage&&(this._options.scrollByPage=e.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(e){if(this._mouseWheelToDispose.length>0!==e&&(this._mouseWheelToDispose=(0,f.B9)(this._mouseWheelToDispose),e)){const e=e=>{this._onMouseWheel(new n.q(e))};this._mouseWheelToDispose.push(s.nm(this._listenOnDomNode,s.tw.MOUSE_WHEEL,e,{passive:!1}))}}_onMouseWheel(e){const t=_.INSTANCE;{const i=window.devicePixelRatio/(0,w.ie)();b.ED||b.IJ?t.accept(Date.now(),e.deltaX/i,e.deltaY/i):t.accept(Date.now(),e.deltaX,e.deltaY)}let i=!1;if(e.deltaY||e.deltaX){let s=e.deltaY*this._options.mouseWheelScrollSensitivity,o=e.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(s)>=Math.abs(o)?o=0:s=0),this._options.flipAxes&&([s,o]=[o,s]);const n=!b.dz&&e.browserEvent&&e.browserEvent.shiftKey;!this._options.scrollYToX&&!n||o||(o=s,s=0),e.browserEvent&&e.browserEvent.altKey&&(o*=this._options.fastScrollSensitivity,s*=this._options.fastScrollSensitivity);const r=this._scrollable.getFutureScrollPosition();let l={};if(s){const e=r.scrollTop-50*s;this._verticalScrollbar.writeScrollPosition(l,e)}if(o){const e=r.scrollLeft-50*o;this._horizontalScrollbar.writeScrollPosition(l,e)}if(l=this._scrollable.validateScrollPosition(l),r.scrollLeft!==l.scrollLeft||r.scrollTop!==l.scrollTop){this._options.mouseWheelSmoothScroll&&t.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(l):this._scrollable.setScrollPositionNow(l),i=!0}}let s=i;!s&&this._options.alwaysConsumeMouseWheel&&(s=!0),!s&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(s=!0),s&&(e.preventDefault(),e.stopPropagation())}_onDidScroll(e){this._shouldRender=this._horizontalScrollbar.onDidScroll(e)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(e)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const e=this._scrollable.getCurrentScrollPosition(),t=e.scrollTop>0,i=e.scrollLeft>0,s=i?" left":"",o=t?" top":"",n=i||t?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${s}`),this._topShadowDomNode.setClassName(`shadow${o}`),this._topLeftShadowDomNode.setClassName(`shadow${n}${o}${s}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseOut(e){this._mouseIsOver=!1,this._hide()}_onMouseOver(e){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){this._mouseIsOver||this._isDragging||(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){this._mouseIsOver||this._isDragging||this._hideTimeout.cancelAndSet((()=>this._hide()),500)}}class C extends N{constructor(e,t){(t=t||{}).mouseWheelSmoothScroll=!1;const i=new S.Rm(0,(e=>s.jL(e)));super(e,t,i),this._register(i)}setScrollPosition(e){this._scrollable.setScrollPositionNow(e)}}class D extends N{constructor(e,t,i){super(e,t,i)}setScrollPosition(e){e.reuseAnimation?this._scrollable.setScrollPositionSmooth(e,e.reuseAnimation):this._scrollable.setScrollPositionNow(e)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class I extends C{constructor(e,t){super(e,t),this._element=e,this.onScroll((e=>{e.scrollTopChanged&&(this._element.scrollTop=e.scrollTop),e.scrollLeftChanged&&(this._element.scrollLeft=e.scrollLeft)})),this.scanDomNode()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}},29282:function(e,t,i){i.d(t,{J:function(){return r},$:function(){return l}});var s=i(57974),o=i(93794),n=i(15393);const r=11;class l extends o.${constructor(e){super(),this._onActivate=e.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=e.bgWidth+"px",this.bgDomNode.style.height=e.bgHeight+"px",void 0!==e.top&&(this.bgDomNode.style.top="0px"),void 0!==e.left&&(this.bgDomNode.style.left="0px"),void 0!==e.bottom&&(this.bgDomNode.style.bottom="0px"),void 0!==e.right&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=e.className,this.domNode.classList.add(...e.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=r+"px",this.domNode.style.height=r+"px",void 0!==e.top&&(this.domNode.style.top=e.top+"px"),void 0!==e.left&&(this.domNode.style.left=e.left+"px"),void 0!==e.bottom&&(this.domNode.style.bottom=e.bottom+"px"),void 0!==e.right&&(this.domNode.style.right=e.right+"px"),this._mouseMoveMonitor=this._register(new s.Z),this.onmousedown(this.bgDomNode,(e=>this._arrowMouseDown(e))),this.onmousedown(this.domNode,(e=>this._arrowMouseDown(e))),this._mousedownRepeatTimer=this._register(new n.zh),this._mousedownScheduleRepeatTimer=this._register(new n._F)}_arrowMouseDown(e){this._onActivate(),this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancelAndSet((()=>{this._mousedownRepeatTimer.cancelAndSet((()=>this._onActivate()),1e3/24)}),200),this._mouseMoveMonitor.startMonitoring(e.target,e.buttons,s.e,(e=>{}),(()=>{this._mousedownRepeatTimer.cancel(),this._mousedownScheduleRepeatTimer.cancel()})),e.preventDefault()}}},51203:function(e,t,i){i.d(t,{M:function(){return s}});class s{constructor(e,t,i,s,o,n){this._scrollbarSize=Math.round(t),this._oppositeScrollbarSize=Math.round(i),this._arrowSize=Math.round(e),this._visibleSize=s,this._scrollSize=o,this._scrollPosition=n,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new s(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(e){const t=Math.round(e);return this._visibleSize!==t&&(this._visibleSize=t,this._refreshComputedValues(),!0)}setScrollSize(e){const t=Math.round(e);return this._scrollSize!==t&&(this._scrollSize=t,this._refreshComputedValues(),!0)}setScrollPosition(e){const t=Math.round(e);return this._scrollPosition!==t&&(this._scrollPosition=t,this._refreshComputedValues(),!0)}setScrollbarSize(e){this._scrollbarSize=Math.round(e)}setOppositeScrollbarSize(e){this._oppositeScrollbarSize=Math.round(e)}static _computeValues(e,t,i,s,o){const n=Math.max(0,i-e),r=Math.max(0,n-2*t),l=s>0&&s>i;if(!l)return{computedAvailableSize:Math.round(n),computedIsNeeded:l,computedSliderSize:Math.round(r),computedSliderRatio:0,computedSliderPosition:0};const d=Math.round(Math.max(20,Math.floor(i*r/s))),a=(r-d)/(s-i),h=o*a;return{computedAvailableSize:Math.round(n),computedIsNeeded:l,computedSliderSize:Math.round(d),computedSliderRatio:a,computedSliderPosition:Math.round(h)}}_refreshComputedValues(){const e=s._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=e.computedAvailableSize,this._computedIsNeeded=e.computedIsNeeded,this._computedSliderSize=e.computedSliderSize,this._computedSliderRatio=e.computedSliderRatio,this._computedSliderPosition=e.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize-this._computedSliderSize/2;return Math.round(t/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(e){if(!this._computedIsNeeded)return 0;const t=e-this._arrowSize;let i=this._scrollPosition;return t<this._computedSliderPosition?i-=this._visibleSize:i+=this._visibleSize,i}getDesiredScrollPositionFromDelta(e){if(!this._computedIsNeeded)return 0;const t=this._computedSliderPosition+e;return Math.round(t/this._computedSliderRatio)}}},75434:function(e,t,i){i.d(t,{Y:function(){return n}});var s=i(15393),o=i(5976);class n extends o.JT{constructor(e,t,i){super(),this._visibility=e,this._visibleClassName=t,this._invisibleClassName=i,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new s._F)}setVisibility(e){this._visibility!==e&&(this._visibility=e,this._updateShouldBeVisible())}setShouldBeVisible(e){this._rawShouldBeVisible=e,this._updateShouldBeVisible()}_applyVisibilitySetting(){return 2!==this._visibility&&(3===this._visibility||this._rawShouldBeVisible)}_updateShouldBeVisible(){const e=this._applyVisibilitySetting();this._shouldBeVisible!==e&&(this._shouldBeVisible=e,this.ensureVisibility())}setIsNeeded(e){this._isNeeded!==e&&(this._isNeeded=e,this.ensureVisibility())}setDomNode(e){this._domNode=e,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){this._isNeeded?this._shouldBeVisible?this._reveal():this._hide(!0):this._hide(!1)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet((()=>{this._domNode&&this._domNode.setClassName(this._visibleClassName)}),0))}_hide(e){this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,this._domNode&&this._domNode.setClassName(this._invisibleClassName+(e?" fade":"")))}}},23937:function(e,t,i){i.d(t,{M:function(){return b},z:function(){return S}});var s=i(5976),o=i(4669),n=i(98401),r=i(59870),l=i(9488),d=i(73098),a=i(41264),h=i(65321),c=i(65388),u=i(76633);const p={separatorBorder:a.Il.transparent};class m{constructor(e,t,i,s){this.container=e,this.view=t,this.disposable=s,this._cachedVisibleSize=void 0,"number"==typeof i?(this._size=i,this._cachedVisibleSize=void 0,e.classList.add("visible")):(this._size=0,this._cachedVisibleSize=i.cachedVisibleSize)}set size(e){this._size=e}get size(){return this._size}get visible(){return void 0===this._cachedVisibleSize}setVisible(e,t){e!==this.visible&&(e?(this.size=(0,r.u)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize="number"==typeof t?t:this.size,this.size=0),this.container.classList.toggle("visible",e),this.view.setVisible&&this.view.setVisible(e))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(e){this.container.style.pointerEvents=e?"":"none"}layout(e,t){this.layoutContainer(e),this.view.layout(this.size,e,t)}dispose(){return this.disposable.dispose(),this.view}}class g extends m{layoutContainer(e){this.container.style.top=`${e}px`,this.container.style.height=`${this.size}px`}}class v extends m{layoutContainer(e){this.container.style.left=`${e}px`,this.container.style.width=`${this.size}px`}}var f,b;!function(e){e[e.Idle=0]="Idle",e[e.Busy=1]="Busy"}(f||(f={})),function(e){e.Distribute={type:"distribute"},e.Split=function(e){return{type:"split",index:e}},e.Invisible=function(e){return{type:"invisible",cachedVisibleSize:e}}}(b||(b={}));class S extends s.JT{constructor(e,t={}){var i,s;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=f.Idle,this._onDidSashChange=this._register(new o.Q5),this.onDidSashChange=this._onDidSashChange.event,this._onDidSashReset=this._register(new o.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.orientation=n.o8(t.orientation)?0:t.orientation,this.inverseAltBehavior=!!t.inverseAltBehavior,this.proportionalLayout=!!n.o8(t.proportionalLayout)||!!t.proportionalLayout,this.getSashOrthogonalSize=t.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(0===this.orientation?"vertical":"horizontal"),e.appendChild(this.el),this.sashContainer=(0,h.R3)(this.el,(0,h.$)(".sash-container")),this.viewContainer=(0,h.$)(".split-view-container"),this.scrollable=new u.Rm(125,h.jL),this.scrollableElement=this._register(new c.$Z(this.viewContainer,{vertical:0===this.orientation?null!==(i=t.scrollbarVisibility)&&void 0!==i?i:1:2,horizontal:1===this.orientation?null!==(s=t.scrollbarVisibility)&&void 0!==s?s:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll((e=>{this.viewContainer.scrollTop=e.scrollTop,this.viewContainer.scrollLeft=e.scrollLeft}))),(0,h.R3)(this.el,this.scrollableElement.getDomNode()),this.style(t.styles||p),t.descriptor&&(this.size=t.descriptor.size,t.descriptor.views.forEach(((e,t)=>{const i=n.o8(e.visible)||e.visible?e.size:{type:"invisible",cachedVisibleSize:e.size},s=e.view;this.doAddView(s,i,t,!0)})),this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}set orthogonalStartSash(e){for(const t of this.sashItems)t.sash.orthogonalStartSash=e;this._orthogonalStartSash=e}get orthogonalEndSash(){return this._orthogonalEndSash}set orthogonalEndSash(e){for(const t of this.sashItems)t.sash.orthogonalEndSash=e;this._orthogonalEndSash=e}get startSnappingEnabled(){return this._startSnappingEnabled}set startSnappingEnabled(e){this._startSnappingEnabled!==e&&(this._startSnappingEnabled=e,this.updateSashEnablement())}get endSnappingEnabled(){return this._endSnappingEnabled}set endSnappingEnabled(e){this._endSnappingEnabled!==e&&(this._endSnappingEnabled=e,this.updateSashEnablement())}style(e){e.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",e.separatorBorder.toString()))}addView(e,t,i=this.viewItems.length,s){this.doAddView(e,t,i,s)}layout(e,t){const i=Math.max(this.size,this.contentSize);if(this.size=e,this.layoutContext=t,this.proportions)for(let t=0;t<this.viewItems.length;t++){const i=this.viewItems[t];i.size=(0,r.u)(Math.round(this.proportions[t]*e),i.minimumSize,i.maximumSize)}else{const t=(0,l.w6)(this.viewItems.length),s=t.filter((e=>1===this.viewItems[e].priority)),o=t.filter((e=>2===this.viewItems[e].priority));this.resize(this.viewItems.length-1,e-i,void 0,s,o)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map((e=>e.size/this.contentSize)))}onSashStart({sash:e,start:t,alt:i}){for(const e of this.viewItems)e.enabled=!1;const o=this.sashItems.findIndex((t=>t.sash===e)),n=(0,s.F8)((0,h.nm)(document.body,"keydown",(e=>r(this.sashDragState.current,e.altKey))),(0,h.nm)(document.body,"keyup",(()=>r(this.sashDragState.current,!1)))),r=(e,t)=>{const i=this.viewItems.map((e=>e.size));let s,r,d=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(t=!t),t){if(o===this.sashItems.length-1){const e=this.viewItems[o];d=(e.minimumSize-e.size)/2,a=(e.maximumSize-e.size)/2}else{const e=this.viewItems[o+1];d=(e.size-e.maximumSize)/2,a=(e.size-e.minimumSize)/2}}if(!t){const e=(0,l.w6)(o,-1),t=(0,l.w6)(o+1,this.viewItems.length),n=e.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),d=e.reduce(((e,t)=>e+(this.viewItems[t].viewMaximumSize-i[t])),0),a=0===t.length?Number.POSITIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),h=0===t.length?Number.NEGATIVE_INFINITY:t.reduce(((e,t)=>e+(i[t]-this.viewItems[t].viewMaximumSize)),0),c=Math.max(n,h),u=Math.min(a,d),p=this.findFirstSnapIndex(e),m=this.findFirstSnapIndex(t);if("number"==typeof p){const e=this.viewItems[p],t=Math.floor(e.viewMinimumSize/2);s={index:p,limitDelta:e.visible?c-t:c+t,size:e.size}}if("number"==typeof m){const e=this.viewItems[m],t=Math.floor(e.viewMinimumSize/2);r={index:m,limitDelta:e.visible?u+t:u-t,size:e.size}}}this.sashDragState={start:e,current:e,index:o,sizes:i,minDelta:d,maxDelta:a,alt:t,snapBefore:s,snapAfter:r,disposable:n}};r(t,i)}onSashChange({current:e}){const{index:t,start:i,sizes:s,alt:o,minDelta:n,maxDelta:r,snapBefore:l,snapAfter:d}=this.sashDragState;this.sashDragState.current=e;const a=e-i,h=this.resize(t,a,s,void 0,void 0,n,r,l,d);if(o){const e=t===this.sashItems.length-1,i=this.viewItems.map((e=>e.size)),s=e?t:t+1,o=this.viewItems[s],n=o.size-o.maximumSize,r=o.size-o.minimumSize,l=e?t-1:t+1;this.resize(l,-h,i,void 0,void 0,n,r)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(e){this._onDidSashChange.fire(e),this.sashDragState.disposable.dispose(),this.saveProportions();for(const e of this.viewItems)e.enabled=!0}onViewChange(e,t){const i=this.viewItems.indexOf(e);i<0||i>=this.viewItems.length||(t="number"==typeof t?t:e.size,t=(0,r.u)(t,e.minimumSize,e.maximumSize),this.inverseAltBehavior&&i>0?(this.resize(i-1,Math.floor((e.size-t)/2)),this.distributeEmptySpace(),this.layoutViews()):(e.size=t,this.relayout([i],void 0)))}resizeView(e,t){if(this.state!==f.Idle)throw new Error("Cant modify splitview");if(this.state=f.Busy,e<0||e>=this.viewItems.length)return;const i=(0,l.w6)(this.viewItems.length).filter((t=>t!==e)),s=[...i.filter((e=>1===this.viewItems[e].priority)),e],o=i.filter((e=>2===this.viewItems[e].priority)),n=this.viewItems[e];t=Math.round(t),t=(0,r.u)(t,n.minimumSize,Math.min(n.maximumSize,this.size)),n.size=t,this.relayout(s,o),this.state=f.Idle}distributeViewSizes(){const e=[];let t=0;for(const i of this.viewItems)i.maximumSize-i.minimumSize>0&&(e.push(i),t+=i.size);const i=Math.floor(t/e.length);for(const t of e)t.size=(0,r.u)(i,t.minimumSize,t.maximumSize);const s=(0,l.w6)(this.viewItems.length),o=s.filter((e=>1===this.viewItems[e].priority)),n=s.filter((e=>2===this.viewItems[e].priority));this.relayout(o,n)}getViewSize(e){return e<0||e>=this.viewItems.length?-1:this.viewItems[e].size}doAddView(e,t,i=this.viewItems.length,n){if(this.state!==f.Idle)throw new Error("Cant modify splitview");this.state=f.Busy;const r=(0,h.$)(".split-view-view");i===this.viewItems.length?this.viewContainer.appendChild(r):this.viewContainer.insertBefore(r,this.viewContainer.children.item(i));const a=e.onDidChange((e=>this.onViewChange(m,e))),c=(0,s.OF)((()=>this.viewContainer.removeChild(r))),u=(0,s.F8)(a,c);let p;p="number"==typeof t?t:"split"===t.type?this.getViewSize(t.index)/2:"invisible"===t.type?{cachedVisibleSize:t.cachedVisibleSize}:e.minimumSize;const m=0===this.orientation?new g(r,e,p,u):new v(r,e,p,u);if(this.viewItems.splice(i,0,m),this.viewItems.length>1){let e={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash};const t=0===this.orientation?new d.g(this.sashContainer,{getHorizontalSashTop:e=>this.getSashPosition(e),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:1})):new d.g(this.sashContainer,{getVerticalSashLeft:e=>this.getSashPosition(e),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},e),{orientation:0})),n=0===this.orientation?e=>({sash:t,start:e.startY,current:e.currentY,alt:e.altKey}):e=>({sash:t,start:e.startX,current:e.currentX,alt:e.altKey}),r=o.ju.map(t.onDidStart,n)(this.onSashStart,this),a=o.ju.map(t.onDidChange,n)(this.onSashChange,this),h=o.ju.map(t.onDidEnd,(()=>this.sashItems.findIndex((e=>e.sash===t)))),c=h(this.onSashEnd,this),u=t.onDidReset((()=>{const e=this.sashItems.findIndex((e=>e.sash===t)),i=(0,l.w6)(e,-1),s=(0,l.w6)(e+1,this.viewItems.length),o=this.findFirstSnapIndex(i),n=this.findFirstSnapIndex(s);("number"!=typeof o||this.viewItems[o].visible)&&("number"!=typeof n||this.viewItems[n].visible)&&this._onDidSashReset.fire(e)})),p=(0,s.F8)(r,a,c,u,t),m={sash:t,disposable:p};this.sashItems.splice(i-1,0,m)}let b;r.appendChild(e.element),"number"!=typeof t&&"split"===t.type&&(b=[t.index]),n||this.relayout([i],b),this.state=f.Idle,n||"number"==typeof t||"distribute"!==t.type||this.distributeViewSizes()}relayout(e,t){const i=this.viewItems.reduce(((e,t)=>e+t.size),0);this.resize(this.viewItems.length-1,this.size-i,void 0,e,t),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(e,t,i=this.viewItems.map((e=>e.size)),s,o,n=Number.NEGATIVE_INFINITY,d=Number.POSITIVE_INFINITY,a,h){if(e<0||e>=this.viewItems.length)return 0;const c=(0,l.w6)(e,-1),u=(0,l.w6)(e+1,this.viewItems.length);if(o)for(const e of o)(0,l.zI)(c,e),(0,l.zI)(u,e);if(s)for(const e of s)(0,l.al)(c,e),(0,l.al)(u,e);const p=c.map((e=>this.viewItems[e])),m=c.map((e=>i[e])),g=u.map((e=>this.viewItems[e])),v=u.map((e=>i[e])),f=c.reduce(((e,t)=>e+(this.viewItems[t].minimumSize-i[t])),0),b=c.reduce(((e,t)=>e+(this.viewItems[t].maximumSize-i[t])),0),S=0===u.length?Number.POSITIVE_INFINITY:u.reduce(((e,t)=>e+(i[t]-this.viewItems[t].minimumSize)),0),w=0===u.length?Number.NEGATIVE_INFINITY:u.reduce(((e,t)=>e+(i[t]-this.viewItems[t].maximumSize)),0),y=Math.max(f,w,n),_=Math.min(S,b,d);let N=!1;if(a){const e=this.viewItems[a.index],i=t>=a.limitDelta;N=i!==e.visible,e.setVisible(i,a.size)}if(!N&&h){const e=this.viewItems[h.index],i=t<h.limitDelta;N=i!==e.visible,e.setVisible(i,h.size)}if(N)return this.resize(e,t,i,s,o,n,d);for(let e=0,i=t=(0,r.u)(t,y,_);e<p.length;e++){const t=p[e],s=(0,r.u)(m[e]+i,t.minimumSize,t.maximumSize);i-=s-m[e],t.size=s}for(let e=0,i=t;e<g.length;e++){const t=g[e],s=(0,r.u)(v[e]-i,t.minimumSize,t.maximumSize);i+=s-v[e],t.size=s}return t}distributeEmptySpace(e){const t=this.viewItems.reduce(((e,t)=>e+t.size),0);let i=this.size-t;const s=(0,l.w6)(this.viewItems.length-1,-1),o=s.filter((e=>1===this.viewItems[e].priority)),n=s.filter((e=>2===this.viewItems[e].priority));for(const e of n)(0,l.zI)(s,e);for(const e of o)(0,l.al)(s,e);"number"==typeof e&&(0,l.al)(s,e);for(let e=0;0!==i&&e<s.length;e++){const t=this.viewItems[s[e]],o=(0,r.u)(t.size+i,t.minimumSize,t.maximumSize);i-=o-t.size,t.size=o}}layoutViews(){this.contentSize=this.viewItems.reduce(((e,t)=>e+t.size),0);let e=0;for(const t of this.viewItems)t.layout(e,this.layoutContext),e+=t.size;this.sashItems.forEach((e=>e.sash.layout())),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){0===this.orientation?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let e=!1;const t=this.viewItems.map((t=>e=t.size-t.minimumSize>0||e));e=!1;const i=this.viewItems.map((t=>e=t.maximumSize-t.size>0||e)),s=[...this.viewItems].reverse();e=!1;const o=s.map((t=>e=t.size-t.minimumSize>0||e)).reverse();e=!1;const n=s.map((t=>e=t.maximumSize-t.size>0||e)).reverse();let r=0;for(let e=0;e<this.sashItems.length;e++){const{sash:s}=this.sashItems[e];r+=this.viewItems[e].size;const d=!(t[e]&&n[e+1]),a=!(i[e]&&o[e+1]);if(d&&a){const i=(0,l.w6)(e,-1),n=(0,l.w6)(e+1,this.viewItems.length),d=this.findFirstSnapIndex(i),a=this.findFirstSnapIndex(n),h="number"==typeof d&&!this.viewItems[d].visible,c="number"==typeof a&&!this.viewItems[a].visible;h&&o[e]&&(r>0||this.startSnappingEnabled)?s.state=1:c&&t[e]&&(r<this.contentSize||this.endSnappingEnabled)?s.state=2:s.state=0}else s.state=d&&!a?1:!d&&a?2:3}}getSashPosition(e){let t=0;for(let i=0;i<this.sashItems.length;i++)if(t+=this.viewItems[i].size,this.sashItems[i].sash===e)return t;return 0}findFirstSnapIndex(e){for(const t of e){const e=this.viewItems[t];if(e.visible&&e.snap)return t}for(const t of e){const e=this.viewItems[t];if(e.visible&&e.maximumSize-e.minimumSize>0)return;if(!e.visible&&e.snap)return t}}dispose(){super.dispose(),this.viewItems.forEach((e=>e.dispose())),this.viewItems=[],this.sashItems.forEach((e=>e.disposable.dispose())),this.sashItems=[]}}},1812:function(e,t,i){i.d(t,{i:function(){return a}});var s=i(43799),o=i(65321),n=i(23937),r=i(4669);class l{constructor(e,t,i){this.columns=e,this.getColumnSize=i,this.templateId=l.TemplateId,this.renderedTemplates=new Set;const s=new Map(t.map((e=>[e.templateId,e])));this.renderers=[];for(const t of e){const e=s.get(t.templateId);if(!e)throw new Error(`Table cell renderer for template id ${t.templateId} not found.`);this.renderers.push(e)}}renderTemplate(e){const t=(0,o.R3)(e,(0,o.$)(".monaco-table-tr")),i=[],s=[];for(let e=0;e<this.columns.length;e++){const n=this.renderers[e],r=(0,o.R3)(t,(0,o.$)(".monaco-table-td",{"data-col-index":e}));r.style.width=`${this.getColumnSize(e)}px`,i.push(r),s.push(n.renderTemplate(r))}const n={container:e,cellContainers:i,cellTemplateData:s};return this.renderedTemplates.add(n),n}renderElement(e,t,i,s){for(let o=0;o<this.columns.length;o++){const n=this.columns[o].project(e);this.renderers[o].renderElement(n,t,i.cellTemplateData[o],s)}}disposeElement(e,t,i,s){for(let o=0;o<this.columns.length;o++){const n=this.renderers[o];if(n.disposeElement){const r=this.columns[o].project(e);n.disposeElement(r,t,i.cellTemplateData[o],s)}}}disposeTemplate(e){for(let t=0;t<this.columns.length;t++){this.renderers[t].disposeTemplate(e.cellTemplateData[t])}(0,o.PO)(e.container),this.renderedTemplates.delete(e)}layoutColumn(e,t){for(const{cellContainers:i}of this.renderedTemplates)i[e].style.width=`${t}px`}}l.TemplateId="row";class d{constructor(e,t){this.column=e,this.index=t,this._onDidLayout=new r.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,o.$)(".monaco-table-th",{"data-col-index":t,title:e.tooltip},e.label)}get minimumSize(){var e;return null!==(e=this.column.minimumWidth)&&void 0!==e?e:120}get maximumSize(){var e;return null!==(e=this.column.maximumWidth)&&void 0!==e?e:Number.POSITIVE_INFINITY}get onDidChange(){var e;return null!==(e=this.column.onDidChangeWidthConstraints)&&void 0!==e?e:r.ju.None}layout(e){this._onDidLayout.fire([this.index,e])}}class a{constructor(e,t,i,h,c,u){this.virtualDelegate=i,this.domId="table_id_"+ ++a.InstanceCount,this.cachedHeight=0,this.domNode=(0,o.R3)(t,(0,o.$)(`.monaco-table.${this.domId}`));const p=h.map(((e,t)=>new d(e,t))),m={size:p.reduce(((e,t)=>e+t.column.weight),0),views:p.map((e=>({size:e.column.weight,view:e})))};this.splitview=new n.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:m}),this.splitview.el.style.height=`${i.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${i.headerRowHeight}px`;const g=new l(h,c,(e=>this.splitview.getViewSize(e)));var v;this.list=new s.aV(e,this.domNode,(v=i,{getHeight:e=>v.getHeight(e),getTemplateId:()=>l.TemplateId}),[g],u),this.columnLayoutDisposable=r.ju.any(...p.map((e=>e.onDidLayout)))((([e,t])=>g.layoutColumn(e,t))),this.styleElement=(0,o.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(e){this.list.updateOptions(e)}splice(e,t,i=[]){this.list.splice(e,t,i)}getHTMLElement(){return this.domNode}style(e){const t=[];t.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {\n\t\t\ttop: ${this.virtualDelegate.headerRowHeight+1}px;\n\t\t\theight: calc(100% - ${this.virtualDelegate.headerRowHeight}px);\n\t\t}`),this.styleElement.textContent=t.join("\n"),this.list.style(e)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.splitview.dispose(),this.list.dispose(),this.columnLayoutDisposable.dispose()}}a.InstanceCount=0},5637:function(e,t,i){i.d(t,{cz:function(){return D},CH:function(){return R}});var s,o=i(5976),n=i(43799),r=i(65321),l=i(4669),d=i(59069),a=i(60350),h=i(23547),c=i(9488),u=i(25707),p=i(4850),m=i(75392),g=i(71782),v=i(63580),f=i(15393),b=i(1432),S=i(59870),w=i(6626),y=i(99670);class _ extends u.kX{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function N(e){return e instanceof u.kX?new _(e):e}class C{constructor(e,t){this.modelProvider=e,this.dnd=t,this.autoExpandDisposable=o.JT.None}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(N(e),t)}onDragOver(e,t,i,s,o=!0){const n=this.dnd.onDragOver(N(e),t&&t.element,i,s),r=this.autoExpandNode!==t;if(r&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=t),void 0===t)return n;if(r&&"boolean"!=typeof n&&n.autoExpand&&(this.autoExpandDisposable=(0,f.Vg)((()=>{const e=this.modelProvider(),i=e.getNodeLocation(t);e.isCollapsed(i)&&e.setCollapsed(i,!1),this.autoExpandNode=void 0}),500)),"boolean"==typeof n||!n.accept||void 0===n.bubble||n.feedback){if(!o){return{accept:"boolean"==typeof n?n:n.accept,effect:"boolean"==typeof n?void 0:n.effect,feedback:[i]}}return n}if(1===n.bubble){const i=this.modelProvider(),o=i.getNodeLocation(t),n=i.getParentNodeLocation(o),r=i.getNode(n),l=n&&i.getListIndex(n);return this.onDragOver(e,r,l,s,!1)}const l=this.modelProvider(),d=l.getNodeLocation(t),a=l.getListIndex(d),h=l.getListRenderCount(d);return Object.assign(Object.assign({},n),{feedback:(0,c.w6)(a,a+h)})}drop(e,t,i,s){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(N(e),t&&t.element,i,s)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}class D{constructor(e){this.delegate=e}getHeight(e){return this.delegate.getHeight(e.element)}getTemplateId(e){return this.delegate.getTemplateId(e.element)}hasDynamicHeight(e){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(e.element)}setDynamicHeight(e,t){this.delegate.setDynamicHeight&&this.delegate.setDynamicHeight(e.element,t)}}!function(e){e.None="none",e.OnHover="onHover",e.Always="always"}(s||(s={}));class I{constructor(e,t=[]){this._elements=t,this.onDidChange=l.ju.forEach(e,(e=>this._elements=e))}get elements(){return this._elements}}class z{constructor(e,t,i,s,n={}){this.renderer=e,this.modelProvider=t,this.activeNodes=s,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=z.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new w.r,this.activeIndentNodes=new Set,this.indentGuidesDisposable=o.JT.None,this.disposables=new o.SL,this.templateId=e.templateId,this.updateOptions(n),l.ju.map(i,(e=>e.node))(this.onDidChangeNodeTwistieState,this,this.disposables),e.onDidChangeTwistieState&&e.onDidChangeTwistieState(this.onDidChangeTwistieState,this,this.disposables)}updateOptions(e={}){if(void 0!==e.indent&&(this.indent=(0,S.u)(e.indent,0,40)),void 0!==e.renderIndentGuides){const t=e.renderIndentGuides!==s.None;if(t!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=t,this.indentGuidesDisposable.dispose(),t)){const e=new o.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,e),this.indentGuidesDisposable=e,this._onDidChangeActiveNodes(this.activeNodes.elements)}}void 0!==e.hideTwistiesOfChildlessElements&&(this.hideTwistiesOfChildlessElements=e.hideTwistiesOfChildlessElements)}renderTemplate(e){const t=(0,r.R3)(e,(0,r.$)(".monaco-tl-row")),i=(0,r.R3)(t,(0,r.$)(".monaco-tl-indent")),s=(0,r.R3)(t,(0,r.$)(".monaco-tl-twistie")),n=(0,r.R3)(t,(0,r.$)(".monaco-tl-contents")),l=this.renderer.renderTemplate(n);return{container:e,indent:i,twistie:s,indentGuidesDisposable:o.JT.None,templateData:l}}renderElement(e,t,i,s){"number"==typeof s&&(this.renderedNodes.set(e,{templateData:i,height:s}),this.renderedElements.set(e.element,e));const o=z.DefaultIndent+(e.depth-1)*this.indent;i.twistie.style.paddingLeft=`${o}px`,i.indent.style.width=o+this.indent-16+"px",this.renderTwistie(e,i),"number"==typeof s&&this.renderIndentGuides(e,i),this.renderer.renderElement(e,t,i.templateData,s)}disposeElement(e,t,i,s){i.indentGuidesDisposable.dispose(),this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.templateData,s),"number"==typeof s&&(this.renderedNodes.delete(e),this.renderedElements.delete(e.element))}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}onDidChangeTwistieState(e){const t=this.renderedElements.get(e);t&&this.onDidChangeNodeTwistieState(t)}onDidChangeNodeTwistieState(e){const t=this.renderedNodes.get(e);t&&(this.renderTwistie(e,t.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(e,t.templateData))}renderTwistie(e,t){t.twistie.classList.remove(...y.$6.classNamesArray);let i=!1;this.renderer.renderTwistie&&(i=this.renderer.renderTwistie(e.element,t.twistie)),e.collapsible&&(!this.hideTwistiesOfChildlessElements||e.visibleChildrenCount>0)?(i||t.twistie.classList.add(...y.$6.classNamesArray),t.twistie.classList.add("collapsible"),t.twistie.classList.toggle("collapsed",e.collapsed)):t.twistie.classList.remove("collapsible","collapsed"),e.collapsible?t.container.setAttribute("aria-expanded",String(!e.collapsed)):t.container.removeAttribute("aria-expanded")}renderIndentGuides(e,t){if((0,r.PO)(t.indent),t.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const i=new o.SL,s=this.modelProvider();let n=e;for(;;){const e=s.getNodeLocation(n),l=s.getParentNodeLocation(e);if(!l)break;const d=s.getNode(l),a=(0,r.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(d)&&a.classList.add("active"),0===t.indent.childElementCount?t.indent.appendChild(a):t.indent.insertBefore(a,t.indent.firstElementChild),this.renderedIndentGuides.add(d,a),i.add((0,o.OF)((()=>this.renderedIndentGuides.delete(d,a)))),n=d}t.indentGuidesDisposable=i}_onDidChangeActiveNodes(e){if(!this.shouldRenderIndentGuides)return;const t=new Set,i=this.modelProvider();e.forEach((e=>{const s=i.getNodeLocation(e);try{const o=i.getParentNodeLocation(s);e.collapsible&&e.children.length>0&&!e.collapsed?t.add(e):o&&t.add(i.getNode(o))}catch(e){}})),this.activeIndentNodes.forEach((e=>{t.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.remove("active")))})),t.forEach((e=>{this.activeIndentNodes.has(e)||this.renderedIndentGuides.forEach(e,(e=>e.classList.add("active")))})),this.activeIndentNodes=t}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,o.B9)(this.disposables)}}z.DefaultIndent=8;class E{constructor(e,t,i){this.tree=e,this.keyboardNavigationLabelProvider=t,this._filter=i,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new o.SL,e.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}set pattern(e){this._pattern=e,this._lowercasePattern=e.toLowerCase()}filter(e,t){if(this._filter){const i=this._filter.filter(e,t);if(this.tree.options.simpleKeyboardNavigation)return i;let s;if(s="boolean"==typeof i?i?1:0:(0,g.gB)(i)?(0,g.aG)(i.visibility):i,0===s)return!1}if(this._totalCount++,this.tree.options.simpleKeyboardNavigation||!this._pattern)return this._matchCount++,{data:m.CL.Default,visibility:!0};const i=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e),s=Array.isArray(i)?i:[i];for(const e of s){const t=e&&e.toString();if(void 0===t)return{data:m.CL.Default,visibility:!0};const i=(0,m.EW)(this._pattern,this._lowercasePattern,0,t,t.toLowerCase(),0,!0);if(i)return this._matchCount++,1===s.length?{data:i,visibility:!0}:{data:{label:t,score:i},visibility:!0}}return this.tree.options.filterOnType?2:{data:m.CL.Default,visibility:!0}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,o.B9)(this.disposables)}}class T{constructor(e,t,i,s,n){this.tree=e,this.view=i,this.filter=s,this.keyboardNavigationDelegate=n,this._enabled=!1,this._pattern="",this._empty=!1,this._onDidChangeEmptyState=new l.Q5,this.positionClassName="ne",this.automaticKeyboardNavigation=!0,this.triggered=!1,this._onDidChangePattern=new l.Q5,this.enabledDisposables=new o.SL,this.disposables=new o.SL,this.domNode=(0,r.$)(`.monaco-list-type-filter.${this.positionClassName}`),this.domNode.draggable=!0,this.disposables.add((0,r.nm)(this.domNode,"dragstart",(()=>this.onDragStart()))),this.messageDomNode=(0,r.R3)(i.getHTMLElement(),(0,r.$)(".monaco-list-type-filter-message")),this.labelDomNode=(0,r.R3)(this.domNode,(0,r.$)("span.label"));const d=(0,r.R3)(this.domNode,(0,r.$)(".controls"));this._filterOnType=!!e.options.filterOnType,this.filterOnTypeDomNode=(0,r.R3)(d,(0,r.$)("input.filter")),this.filterOnTypeDomNode.type="checkbox",this.filterOnTypeDomNode.checked=this._filterOnType,this.filterOnTypeDomNode.tabIndex=-1,this.updateFilterOnTypeTitleAndIcon(),this.disposables.add((0,r.nm)(this.filterOnTypeDomNode,"input",(()=>this.onDidChangeFilterOnType()))),this.clearDomNode=(0,r.R3)(d,(0,r.$)("button.clear"+y.vu.cssSelector)),this.clearDomNode.tabIndex=-1,this.clearDomNode.title=(0,v.N)("clear","Clear"),this.keyboardNavigationEventFilter=e.options.keyboardNavigationEventFilter,t.onDidSplice(this.onDidSpliceModel,this,this.disposables),this.updateOptions(e.options)}get enabled(){return this._enabled}get pattern(){return this._pattern}get filterOnType(){return this._filterOnType}updateOptions(e){e.simpleKeyboardNavigation?this.disable():this.enable(),void 0!==e.filterOnType&&(this._filterOnType=!!e.filterOnType,this.filterOnTypeDomNode.checked=this._filterOnType,this.updateFilterOnTypeTitleAndIcon()),void 0!==e.automaticKeyboardNavigation&&(this.automaticKeyboardNavigation=e.automaticKeyboardNavigation),this.tree.refilter(),this.render(),this.automaticKeyboardNavigation||this.onEventOrInput("")}enable(){if(this._enabled)return;const e=this.enabledDisposables.add(new p.Y(this.view.getHTMLElement(),"keydown")),t=l.ju.chain(e.event).filter((e=>!(0,n.cK)(e.target)||e.target===this.filterOnTypeDomNode)).filter((e=>"Dead"!==e.key&&!/^Media/.test(e.key))).map((e=>new d.y(e))).filter(this.keyboardNavigationEventFilter||(()=>!0)).filter((()=>this.automaticKeyboardNavigation||this.triggered)).filter((e=>this.keyboardNavigationDelegate.mightProducePrintableCharacter(e)&&!(18===e.keyCode||16===e.keyCode||15===e.keyCode||17===e.keyCode)||(this.pattern.length>0||this.triggered)&&(9===e.keyCode||1===e.keyCode)&&!e.altKey&&!e.ctrlKey&&!e.metaKey||1===e.keyCode&&(b.dz?e.altKey&&!e.metaKey:e.ctrlKey)&&!e.shiftKey)).forEach((e=>{e.stopPropagation(),e.preventDefault()})).event,i=this.enabledDisposables.add(new p.Y(this.clearDomNode,"click"));l.ju.chain(l.ju.any(t,i.event)).event(this.onEventOrInput,this,this.enabledDisposables),this.filter.pattern="",this.tree.refilter(),this.render(),this._enabled=!0,this.triggered=!1}disable(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.clear(),this.tree.refilter(),this.render(),this._enabled=!1,this.triggered=!1)}onEventOrInput(e){"string"==typeof e?this.onInput(e):e instanceof MouseEvent||9===e.keyCode||1===e.keyCode&&(b.dz?e.altKey:e.ctrlKey)?this.onInput(""):1===e.keyCode?this.onInput(0===this.pattern.length?"":this.pattern.substr(0,this.pattern.length-1)):this.onInput(this.pattern+e.browserEvent.key)}onInput(e){const t=this.view.getHTMLElement();e&&!this.domNode.parentElement?t.append(this.domNode):!e&&this.domNode.parentElement&&(this.domNode.remove(),this.tree.domFocus()),this._pattern=e,this._onDidChangePattern.fire(e),this.filter.pattern=e,this.tree.refilter(),e&&this.tree.focusNext(0,!0,void 0,(e=>!m.CL.isDefault(e.filterData)));const i=this.tree.getFocus();if(i.length>0){const e=i[0];null===this.tree.getRelativeTop(e)&&this.tree.reveal(e,.5)}this.render(),e||(this.triggered=!1)}onDragStart(){const e=this.view.getHTMLElement(),{left:t}=(0,r.i)(e),i=e.clientWidth,s=i/2,n=this.domNode.clientWidth,l=new o.SL;let d=this.positionClassName;const a=()=>{switch(d){case"nw":this.domNode.style.top="4px",this.domNode.style.left="4px";break;case"ne":this.domNode.style.top="4px",this.domNode.style.left=i-n-6+"px"}},c=()=>{this.positionClassName=d,this.domNode.className=`monaco-list-type-filter ${this.positionClassName}`,this.domNode.style.top="",this.domNode.style.left="",(0,o.B9)(l)};a(),this.domNode.classList.remove(d),this.domNode.classList.add("dragging"),l.add((0,o.OF)((()=>this.domNode.classList.remove("dragging")))),l.add((0,r.nm)(document,"dragover",(e=>(e=>{e.preventDefault();const i=e.clientX-t;e.dataTransfer&&(e.dataTransfer.dropEffect="none"),d=i<s?"nw":"ne",a()})(e)))),l.add((0,r.nm)(this.domNode,"dragend",(()=>c()))),h.P$.CurrentDragAndDropData=new h.TN("vscode-ui"),l.add((0,o.OF)((()=>h.P$.CurrentDragAndDropData=void 0)))}onDidSpliceModel(){this._enabled&&0!==this.pattern.length&&(this.tree.refilter(),this.render())}onDidChangeFilterOnType(){this.tree.updateOptions({filterOnType:this.filterOnTypeDomNode.checked}),this.tree.refilter(),this.tree.domFocus(),this.render(),this.updateFilterOnTypeTitleAndIcon()}updateFilterOnTypeTitleAndIcon(){this.filterOnType?(this.filterOnTypeDomNode.classList.remove(...y.Vf.classNamesArray),this.filterOnTypeDomNode.classList.add(...y.HS.classNamesArray),this.filterOnTypeDomNode.title=(0,v.N)("disable filter on type","Disable Filter on Type")):(this.filterOnTypeDomNode.classList.remove(...y.HS.classNamesArray),this.filterOnTypeDomNode.classList.add(...y.Vf.classNamesArray),this.filterOnTypeDomNode.title=(0,v.N)("enable filter on type","Enable Filter on Type"))}render(){const e=this.filter.totalCount>0&&0===this.filter.matchCount;this.pattern&&this.tree.options.filterOnType&&e?(this.messageDomNode.textContent=(0,v.N)("empty","No elements found"),this._empty=!0):(this.messageDomNode.innerText="",this._empty=!1),this.domNode.classList.toggle("no-matches",e),this.domNode.title=(0,v.N)("found","Matched {0} out of {1} elements",this.filter.matchCount,this.filter.totalCount),this.labelDomNode.textContent=this.pattern.length>16?""+this.pattern.substr(this.pattern.length-16):this.pattern,this._onDidChangeEmptyState.fire(this._empty)}shouldAllowFocus(e){return!(this.enabled&&this.pattern&&!this.filterOnType)||(this.filter.totalCount>0&&this.filter.matchCount<=1||!m.CL.isDefault(e.filterData))}dispose(){this._enabled&&(this.domNode.remove(),this.enabledDisposables.dispose(),this._enabled=!1,this.triggered=!1),this._onDidChangePattern.dispose(),(0,o.B9)(this.disposables)}}function P(e){let t=a.sD.Unknown;return(0,r.uU)(e.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?t=a.sD.Twistie:(0,r.uU)(e.browserEvent.target,"monaco-tl-contents","monaco-tl-row")&&(t=a.sD.Element),{browserEvent:e.browserEvent,element:e.element?e.element.element:null,target:t}}function x(e,t){t(e),e.children.forEach((e=>x(e,t)))}class L{constructor(e,t){this.getFirstViewElementWithTrait=e,this.identityProvider=t,this.nodes=[],this._onDidChange=new l.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(e,t){var i;!(null===(i=t)||void 0===i?void 0:i.__forceEvent)&&(0,c.fS)(this.nodes,e)||this._set(e,!1,t)}_set(e,t,i){if(this.nodes=[...e],this.elements=void 0,this._nodeSet=void 0,!t){const e=this;this._onDidChange.fire({get elements(){return e.get()},browserEvent:i})}}get(){return this.elements||(this.elements=this.nodes.map((e=>e.element))),[...this.elements]}getNodes(){return this.nodes}has(e){return this.nodeSet.has(e)}onDidModelSplice({insertedNodes:e,deletedNodes:t}){if(!this.identityProvider){const e=this.createNodeSet(),i=t=>e.delete(t);return t.forEach((e=>x(e,i))),void this.set([...e.values()])}const i=new Set,s=e=>i.add(this.identityProvider.getId(e.element).toString());t.forEach((e=>x(e,s)));const o=new Map,n=e=>o.set(this.identityProvider.getId(e.element).toString(),e);e.forEach((e=>x(e,n)));const r=[];for(const e of this.nodes){const t=this.identityProvider.getId(e.element).toString();if(i.has(t)){const e=o.get(t);e&&r.push(e)}else r.push(e)}if(this.nodes.length>0&&0===r.length){const e=this.getFirstViewElementWithTrait();e&&r.push(e)}this._set(r,!0)}createNodeSet(){const e=new Set;for(const t of this.nodes)e.add(t);return e}}class O extends n.sx{constructor(e,t){super(e),this.tree=t}onViewPointer(e){if((0,n.cK)(e.browserEvent.target)||(0,n.hD)(e.browserEvent.target))return;const t=e.element;if(!t)return super.onViewPointer(e);if(this.isSelectionRangeChangeEvent(e)||this.isSelectionSingleChangeEvent(e))return super.onViewPointer(e);const i=e.browserEvent.target,s=i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&e.browserEvent.offsetX<16;let o=!1;if(o="function"==typeof this.tree.expandOnlyOnTwistieClick?this.tree.expandOnlyOnTwistieClick(t.element):!!this.tree.expandOnlyOnTwistieClick,o&&!s&&2!==e.browserEvent.detail)return super.onViewPointer(e);if(!this.tree.expandOnDoubleClick&&2===e.browserEvent.detail)return super.onViewPointer(e);if(t.collapsible){const i=this.tree.model,n=i.getNodeLocation(t),r=e.browserEvent.altKey;if(this.tree.setFocus([n]),i.setCollapsed(n,void 0,r),o&&s)return}super.onViewPointer(e)}onDoubleClick(e){!e.browserEvent.target.classList.contains("monaco-tl-twistie")&&this.tree.expandOnDoubleClick&&super.onDoubleClick(e)}}class M extends n.aV{constructor(e,t,i,s,o,n,r,l){super(e,t,i,s,l),this.focusTrait=o,this.selectionTrait=n,this.anchorTrait=r}createMouseController(e){return new O(this,e.tree)}splice(e,t,i=[]){if(super.splice(e,t,i),0===i.length)return;const s=[],o=[];let n;i.forEach(((t,i)=>{this.focusTrait.has(t)&&s.push(e+i),this.selectionTrait.has(t)&&o.push(e+i),this.anchorTrait.has(t)&&(n=e+i)})),s.length>0&&super.setFocus((0,c.cU)([...super.getFocus(),...s])),o.length>0&&super.setSelection((0,c.cU)([...super.getSelection(),...o])),"number"==typeof n&&super.setAnchor(n)}setFocus(e,t,i=!1){super.setFocus(e,t),i||this.focusTrait.set(e.map((e=>this.element(e))),t)}setSelection(e,t,i=!1){super.setSelection(e,t),i||this.selectionTrait.set(e.map((e=>this.element(e))),t)}setAnchor(e,t=!1){super.setAnchor(e),t||(void 0===e?this.anchorTrait.set([]):this.anchorTrait.set([this.element(e)]))}}class R{constructor(e,t,i,a,h={}){this._options=h,this.eventBufferer=new l.E7,this.disposables=new o.SL,this._onWillRefilter=new l.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new l.Q5;const c=new D(i),u=new l.ZD,p=new l.ZD,m=new I(p.event);this.renderers=a.map((e=>new z(e,(()=>this.model),u.event,m,h)));for(let e of this.renderers)this.disposables.add(e);let g;var v,f;h.keyboardNavigationLabelProvider&&(g=new E(this,h.keyboardNavigationLabelProvider,h.filter),h=Object.assign(Object.assign({},h),{filter:g}),this.disposables.add(g)),this.focus=new L((()=>this.view.getFocusedElements()[0]),h.identityProvider),this.selection=new L((()=>this.view.getSelectedElements()[0]),h.identityProvider),this.anchor=new L((()=>this.view.getAnchorElement()),h.identityProvider),this.view=new M(e,t,c,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},(v=()=>this.model,(f=h)&&Object.assign(Object.assign({},f),{identityProvider:f.identityProvider&&{getId:e=>f.identityProvider.getId(e.element)},dnd:f.dnd&&new C(v,f.dnd),multipleSelectionController:f.multipleSelectionController&&{isSelectionSingleChangeEvent:e=>f.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},e),{element:e.element})),isSelectionRangeChangeEvent:e=>f.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},e),{element:e.element}))},accessibilityProvider:f.accessibilityProvider&&Object.assign(Object.assign({},f.accessibilityProvider),{getSetSize(e){const t=v(),i=t.getNodeLocation(e),s=t.getParentNodeLocation(i);return t.getNode(s).visibleChildrenCount},getPosInSet:e=>e.visibleChildIndex+1,isChecked:f.accessibilityProvider&&f.accessibilityProvider.isChecked?e=>f.accessibilityProvider.isChecked(e.element):void 0,getRole:f.accessibilityProvider&&f.accessibilityProvider.getRole?e=>f.accessibilityProvider.getRole(e.element):()=>"treeitem",getAriaLabel:e=>f.accessibilityProvider.getAriaLabel(e.element),getWidgetAriaLabel:()=>f.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:f.accessibilityProvider&&f.accessibilityProvider.getWidgetRole?()=>f.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:f.accessibilityProvider&&f.accessibilityProvider.getAriaLevel?e=>f.accessibilityProvider.getAriaLevel(e.element):e=>e.depth,getActiveDescendantId:f.accessibilityProvider.getActiveDescendantId&&(e=>f.accessibilityProvider.getActiveDescendantId(e.element))}),keyboardNavigationLabelProvider:f.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},f.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:e=>f.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(e.element)}),enableKeyboardNavigation:f.simpleKeyboardNavigation}))),{tree:this})),this.model=this.createModel(e,this.view,h),u.input=this.model.onDidChangeCollapseState;const b=l.ju.forEach(this.model.onDidSplice,(e=>{this.eventBufferer.bufferEvents((()=>{this.focus.onDidModelSplice(e),this.selection.onDidModelSplice(e)}))}));if(b((()=>null),null,this.disposables),p.input=l.ju.chain(l.ju.any(b,this.focus.onDidChange,this.selection.onDidChange)).debounce((()=>null),0).map((()=>{const e=new Set;for(const t of this.focus.getNodes())e.add(t);for(const t of this.selection.getNodes())e.add(t);return[...e.values()]})).event,!1!==h.keyboardSupport){const e=l.ju.chain(this.view.onKeyDown).filter((e=>!(0,n.cK)(e.target))).map((e=>new d.y(e)));e.filter((e=>15===e.keyCode)).on(this.onLeftArrow,this,this.disposables),e.filter((e=>17===e.keyCode)).on(this.onRightArrow,this,this.disposables),e.filter((e=>10===e.keyCode)).on(this.onSpace,this,this.disposables)}if(h.keyboardNavigationLabelProvider){const e=h.keyboardNavigationDelegate||n.WK;this.typeFilterController=new T(this,this.model,this.view,g,e),this.focusNavigationFilter=e=>this.typeFilterController.shouldAllowFocus(e),this.disposables.add(this.typeFilterController)}this.styleElement=(0,r.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===s.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return l.ju.map(this.view.onMouseDblClick,P)}get onPointer(){return l.ju.map(this.view.onPointer,P)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get expandOnDoubleClick(){return void 0===this._options.expandOnDoubleClick||this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return void 0===this._options.expandOnlyOnTwistieClick||this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(e={}){this._options=Object.assign(Object.assign({},this._options),e);for(const t of this.renderers)t.updateOptions(e);this.view.updateOptions(Object.assign(Object.assign({},this._options),{enableKeyboardNavigation:this._options.simpleKeyboardNavigation})),this.typeFilterController&&this.typeFilterController.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===s.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(e){this.view.scrollTop=e}domFocus(){this.view.domFocus()}layout(e,t){this.view.layout(e,t)}style(e){const t=`.${this.view.domId}`,i=[];e.treeIndentGuidesStroke&&(i.push(`.monaco-list${t}:hover .monaco-tl-indent > .indent-guide, .monaco-list${t}.always .monaco-tl-indent > .indent-guide  { border-color: ${e.treeIndentGuidesStroke.transparent(.4)}; }`),i.push(`.monaco-list${t} .monaco-tl-indent > .indent-guide.active { border-color: ${e.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=i.join("\n"),this.view.style(e)}collapse(e,t=!1){return this.model.setCollapsed(e,!0,t)}expand(e,t=!1){return this.model.setCollapsed(e,!1,t)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(e,t){const i=e.map((e=>this.model.getNode(e)));this.selection.set(i,t);const s=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setSelection(s,t,!0)}getSelection(){return this.selection.get()}setFocus(e,t){const i=e.map((e=>this.model.getNode(e)));this.focus.set(i,t);const s=e.map((e=>this.model.getListIndex(e))).filter((e=>e>-1));this.view.setFocus(s,t,!0)}focusNext(e=1,t=!1,i,s=this.focusNavigationFilter){this.view.focusNext(e,t,i,s)}getFocus(){return this.focus.get()}reveal(e,t){this.model.expandTo(e);const i=this.model.getListIndex(e);-1!==i&&this.view.reveal(i,t)}getRelativeTop(e){const t=this.model.getListIndex(e);return-1===t?null:this.view.getRelativeTop(t)}onLeftArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],s=this.model.getNodeLocation(i);if(!this.model.setCollapsed(s,!0)){const e=this.model.getParentNodeLocation(s);if(!e)return;const t=this.model.getListIndex(e);this.view.reveal(t),this.view.setFocus([t])}}onRightArrow(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],s=this.model.getNodeLocation(i);if(!this.model.setCollapsed(s,!1)){if(!i.children.some((e=>e.visible)))return;const[e]=this.view.getFocus(),t=e+1;this.view.reveal(t),this.view.setFocus([t])}}onSpace(e){e.preventDefault(),e.stopPropagation();const t=this.view.getFocusedElements();if(0===t.length)return;const i=t[0],s=this.model.getNodeLocation(i),o=e.browserEvent.altKey;this.model.setCollapsed(s,void 0,o)}dispose(){(0,o.B9)(this.disposables),this.view.dispose()}}},6126:function(e,t,i){i.d(t,{c:function(){return I},h:function(){return T}});var s=i(5637),o=i(4903),n=i(60350),r=i(5976),l=i(4669),d=i(15393),a=i(53725),h=i(25707),c=i(17301),u=i(71782),p=i(99670),m=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function r(e){try{d(s.next(e))}catch(e){n(e)}}function l(e){try{d(s.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,l)}d((s=s.apply(e,t||[])).next())}))};function g(e){return Object.assign(Object.assign({},e),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function v(e,t){return!!t.parent&&(t.parent===e||v(e,t.parent))}class f{constructor(e){this.node=e}get element(){return this.node.element.element}get children(){return this.node.children.map((e=>new f(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class b{constructor(e,t,i){this.renderer=e,this.nodeMapper=t,this.onDidChangeTwistieState=i,this.renderedNodes=new Map,this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,s){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,s)}renderTwistie(e,t){return e.slow?(t.classList.add(...p.SV.classNamesArray),!0):(t.classList.remove(...p.SV.classNamesArray),!1)}disposeElement(e,t,i,s){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear()}}function S(e){return{browserEvent:e.browserEvent,elements:e.elements.map((e=>e.element))}}function w(e){return{browserEvent:e.browserEvent,element:e.element&&e.element.element,target:e.target}}class y extends h.kX{constructor(e){super(e.elements.map((e=>e.element))),this.data=e}}function _(e){return e instanceof h.kX?new y(e):e}class N{constructor(e){this.dnd=e}getDragURI(e){return this.dnd.getDragURI(e.element)}getDragLabel(e,t){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(e.map((e=>e.element)),t)}onDragStart(e,t){this.dnd.onDragStart&&this.dnd.onDragStart(_(e),t)}onDragOver(e,t,i,s,o=!0){return this.dnd.onDragOver(_(e),t&&t.element,i,s)}drop(e,t,i,s){this.dnd.drop(_(e),t&&t.element,i,s)}onDragEnd(e){this.dnd.onDragEnd&&this.dnd.onDragEnd(e)}}function C(e){return e&&Object.assign(Object.assign({},e),{collapseByDefault:!0,identityProvider:e.identityProvider&&{getId:t=>e.identityProvider.getId(t.element)},dnd:e.dnd&&new N(e.dnd),multipleSelectionController:e.multipleSelectionController&&{isSelectionSingleChangeEvent:t=>e.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},t),{element:t.element})),isSelectionRangeChangeEvent:t=>e.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},t),{element:t.element}))},accessibilityProvider:e.accessibilityProvider&&Object.assign(Object.assign({},e.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:e.accessibilityProvider.getRole?t=>e.accessibilityProvider.getRole(t.element):()=>"treeitem",isChecked:e.accessibilityProvider.isChecked?t=>{var i;return!!(null===(i=e.accessibilityProvider)||void 0===i?void 0:i.isChecked(t.element))}:void 0,getAriaLabel:t=>e.accessibilityProvider.getAriaLabel(t.element),getWidgetAriaLabel:()=>e.accessibilityProvider.getWidgetAriaLabel(),getWidgetRole:e.accessibilityProvider.getWidgetRole?()=>e.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:e.accessibilityProvider.getAriaLevel&&(t=>e.accessibilityProvider.getAriaLevel(t.element)),getActiveDescendantId:e.accessibilityProvider.getActiveDescendantId&&(t=>e.accessibilityProvider.getActiveDescendantId(t.element))}),filter:e.filter&&{filter:(t,i)=>e.filter.filter(t.element,i)},keyboardNavigationLabelProvider:e.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},e.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t.element)}),sorter:void 0,expandOnlyOnTwistieClick:void 0===e.expandOnlyOnTwistieClick?void 0:"function"!=typeof e.expandOnlyOnTwistieClick?e.expandOnlyOnTwistieClick:t=>e.expandOnlyOnTwistieClick(t.element),additionalScrollHeight:e.additionalScrollHeight})}function D(e,t){t(e),e.children.forEach((e=>D(e,t)))}class I{constructor(e,t,i,s,o,d={}){this.user=e,this.dataSource=o,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new l.Q5,this._onDidChangeNodeSlowState=new l.Q5,this.nodeMapper=new n.VA((e=>new f(e))),this.disposables=new r.SL,this.identityProvider=d.identityProvider,this.autoExpandSingleChildren=void 0!==d.autoExpandSingleChildren&&d.autoExpandSingleChildren,this.sorter=d.sorter,this.collapseByDefault=d.collapseByDefault,this.tree=this.createTree(e,t,i,s,d),this.root=g({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return l.ju.map(this.tree.onDidChangeFocus,S)}get onDidChangeSelection(){return l.ju.map(this.tree.onDidChangeSelection,S)}get onMouseDblClick(){return l.ju.map(this.tree.onMouseDblClick,w)}get onPointer(){return l.ju.map(this.tree.onPointer,w)}get onDidFocus(){return this.tree.onDidFocus}get onDidDispose(){return this.tree.onDidDispose}createTree(e,t,i,n,r){const l=new s.cz(i),d=n.map((e=>new b(e,this.nodeMapper,this._onDidChangeNodeSlowState.event))),a=C(r)||{};return new o.H(e,t,l,d,a)}updateOptions(e={}){this.tree.updateOptions(e)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(e){this.tree.scrollTop=e}domFocus(){this.tree.domFocus()}layout(e,t){this.tree.layout(e,t)}style(e){this.tree.style(e)}getInput(){return this.root.element}setInput(e,t){return m(this,void 0,void 0,(function*(){this.refreshPromises.forEach((e=>e.cancel())),this.refreshPromises.clear(),this.root.element=e;const i=t&&{viewState:t,focus:[],selection:[]};yield this._updateChildren(e,!0,!1,i),i&&(this.tree.setFocus(i.focus),this.tree.setSelection(i.selection)),t&&"number"==typeof t.scrollTop&&(this.scrollTop=t.scrollTop)}))}_updateChildren(e=this.root.element,t=!0,i=!1,s,o){return m(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new n.ac(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield l.ju.toPromise(this._onDidRender.event));const r=this.getDataNode(e);if(yield this.refreshAndRenderNode(r,t,s,o),i)try{this.tree.rerender(r)}catch(e){}}))}rerender(e){if(void 0===e||e===this.root.element)return void this.tree.rerender();const t=this.getDataNode(e);this.tree.rerender(t)}collapse(e,t=!1){const i=this.getDataNode(e);return this.tree.collapse(i===this.root?null:i,t)}expand(e,t=!1){return m(this,void 0,void 0,(function*(){if(void 0===this.root.element)throw new n.ac(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield l.ju.toPromise(this._onDidRender.event));const i=this.getDataNode(e);if(this.tree.hasElement(i)&&!this.tree.isCollapsible(i))return!1;if(i.refreshPromise&&(yield this.root.refreshPromise,yield l.ju.toPromise(this._onDidRender.event)),i!==this.root&&!i.refreshPromise&&!this.tree.isCollapsed(i))return!1;const s=this.tree.expand(i===this.root?null:i,t);return i.refreshPromise&&(yield this.root.refreshPromise,yield l.ju.toPromise(this._onDidRender.event)),s}))}setSelection(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setSelection(i,t)}getSelection(){return this.tree.getSelection().map((e=>e.element))}setFocus(e,t){const i=e.map((e=>this.getDataNode(e)));this.tree.setFocus(i,t)}getFocus(){return this.tree.getFocus().map((e=>e.element))}reveal(e,t){this.tree.reveal(this.getDataNode(e),t)}getDataNode(e){const t=this.nodes.get(e===this.root.element?null:e);if(!t)throw new n.ac(this.user,`Data tree node not found: ${e}`);return t}refreshAndRenderNode(e,t,i,s){return m(this,void 0,void 0,(function*(){yield this.refreshNode(e,t,i),this.render(e,i,s)}))}refreshNode(e,t,i){return m(this,void 0,void 0,(function*(){let s;return this.subTreeRefreshPromises.forEach(((o,n)=>{!s&&function(e,t){return e===t||v(e,t)||v(t,e)}(n,e)&&(s=o.then((()=>this.refreshNode(e,t,i))))})),s||this.doRefreshSubTree(e,t,i)}))}doRefreshSubTree(e,t,i){return m(this,void 0,void 0,(function*(){let s;e.refreshPromise=new Promise((e=>s=e)),this.subTreeRefreshPromises.set(e,e.refreshPromise),e.refreshPromise.finally((()=>{e.refreshPromise=void 0,this.subTreeRefreshPromises.delete(e)}));try{const o=yield this.doRefreshNode(e,t,i);e.stale=!1,yield d.jT.settled(o.map((e=>this.doRefreshSubTree(e,t,i))))}finally{s()}}))}doRefreshNode(e,t,i){return m(this,void 0,void 0,(function*(){let s;if(e.hasChildren=!!this.dataSource.hasChildren(e.element),e.hasChildren){const t=(0,d.Vs)(800);t.then((()=>{e.slow=!0,this._onDidChangeNodeSlowState.fire(e)}),(e=>null)),s=this.doGetChildren(e).finally((()=>t.cancel()))}else s=Promise.resolve(a.$.empty());try{const o=yield s;return this.setChildren(e,o,t,i)}catch(t){if(e!==this.root&&this.tree.hasElement(e)&&this.tree.collapse(e),(0,c.VV)(t))return[];throw t}finally{e.slow&&(e.slow=!1,this._onDidChangeNodeSlowState.fire(e))}}))}doGetChildren(e){let t=this.refreshPromises.get(e);return t||(t=(0,d.PG)((()=>m(this,void 0,void 0,(function*(){const t=yield this.dataSource.getChildren(e.element);return this.processChildren(t)})))),this.refreshPromises.set(e,t),t.finally((()=>{this.refreshPromises.delete(e)})))}_onDidChangeCollapseState({node:e,deep:t}){null!==e.element&&!e.collapsed&&e.element.stale&&(t?this.collapse(e.element.element):this.refreshAndRenderNode(e.element,!1).catch(c.dL))}setChildren(e,t,i,s){const o=[...t];if(0===e.children.length&&0===o.length)return[];const n=new Map,r=new Map;for(const t of e.children)if(n.set(t.element,t),this.identityProvider){const e=this.tree.isCollapsed(t);r.set(t.id,{node:t,collapsed:e})}const l=[],d=o.map((t=>{const o=!!this.dataSource.hasChildren(t);if(!this.identityProvider){const i=g({element:t,parent:e,hasChildren:o});return o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(i.collapsedByDefault=!1,l.push(i)),i}const d=this.identityProvider.getId(t).toString(),a=r.get(d);if(a){const e=a.node;return n.delete(e.element),this.nodes.delete(e.element),this.nodes.set(t,e),e.element=t,e.hasChildren=o,i?a.collapsed?(e.children.forEach((e=>D(e,(e=>this.nodes.delete(e.element))))),e.children.splice(0,e.children.length),e.stale=!0):l.push(e):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(e.collapsedByDefault=!1,l.push(e)),e}const h=g({element:t,parent:e,id:d,hasChildren:o});return s&&s.viewState.focus&&s.viewState.focus.indexOf(d)>-1&&s.focus.push(h),s&&s.viewState.selection&&s.viewState.selection.indexOf(d)>-1&&s.selection.push(h),s&&s.viewState.expanded&&s.viewState.expanded.indexOf(d)>-1?l.push(h):o&&this.collapseByDefault&&!this.collapseByDefault(t)&&(h.collapsedByDefault=!1,l.push(h)),h}));for(const e of n.values())D(e,(e=>this.nodes.delete(e.element)));for(const e of d)this.nodes.set(e.element,e);return e.children.splice(0,e.children.length,...d),e!==this.root&&this.autoExpandSingleChildren&&1===d.length&&0===l.length&&(d[0].collapsedByDefault=!1,l.push(d[0])),l}render(e,t,i){const s=e.children.map((e=>this.asTreeElement(e,t))),o=i&&Object.assign(Object.assign({},i),{diffIdentityProvider:i.diffIdentityProvider&&{getId:e=>i.diffIdentityProvider.getId(e.element)}});this.tree.setChildren(e===this.root?null:e,s,o),e!==this.root&&this.tree.setCollapsible(e,e.hasChildren),this._onDidRender.fire()}asTreeElement(e,t){if(e.stale)return{element:e,collapsible:e.hasChildren,collapsed:!0};let i;return i=!(t&&t.viewState.expanded&&e.id&&t.viewState.expanded.indexOf(e.id)>-1)&&e.collapsedByDefault,e.collapsedByDefault=void 0,{element:e,children:e.hasChildren?a.$.map(e.children,(e=>this.asTreeElement(e,t))):[],collapsible:e.hasChildren,collapsed:i}}processChildren(e){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),e}dispose(){this.disposables.dispose()}}class z{constructor(e){this.node=e}get element(){return{elements:this.node.element.elements.map((e=>e.element)),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map((e=>new z(e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class E{constructor(e,t,i,s){this.renderer=e,this.nodeMapper=t,this.compressibleNodeMapperProvider=i,this.onDidChangeTwistieState=s,this.renderedNodes=new Map,this.disposables=[],this.templateId=e.templateId}renderTemplate(e){return{templateData:this.renderer.renderTemplate(e)}}renderElement(e,t,i,s){this.renderer.renderElement(this.nodeMapper.map(e),t,i.templateData,s)}renderCompressedElements(e,t,i,s){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,s)}renderTwistie(e,t){return e.slow?(t.classList.add(...p.SV.classNamesArray),!0):(t.classList.remove(...p.SV.classNamesArray),!1)}disposeElement(e,t,i,s){this.renderer.disposeElement&&this.renderer.disposeElement(this.nodeMapper.map(e),t,i.templateData,s)}disposeCompressedElements(e,t,i,s){this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(this.compressibleNodeMapperProvider().map(e),t,i.templateData,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,r.B9)(this.disposables)}}class T extends I{constructor(e,t,i,s,o,r,l={}){super(e,t,i,o,r,l),this.compressionDelegate=s,this.compressibleNodeMapper=new n.VA((e=>new z(e))),this.filter=l.filter}createTree(e,t,i,n,r){const l=new s.cz(i),d=n.map((e=>new E(e,this.nodeMapper,(()=>this.compressibleNodeMapper),this._onDidChangeNodeSlowState.event))),a=function(e){const t=e&&C(e);return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},t.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel:t=>e.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(t.map((e=>e.element)))})})}(r)||{};return new o.h(e,t,l,d,a)}asTreeElement(e,t){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(e.element)},super.asTreeElement(e,t))}updateOptions(e={}){this.tree.updateOptions(e)}render(e,t){if(!this.identityProvider)return super.render(e,t);const i=e=>this.identityProvider.getId(e).toString(),s=e=>{const t=new Set;for(const s of e){const e=this.tree.getCompressedTreeNode(s===this.root?null:s);if(e.element)for(const s of e.element.elements)t.add(i(s.element))}return t},o=s(this.tree.getSelection()),n=s(this.tree.getFocus());super.render(e,t);const r=this.getSelection();let l=!1;const d=this.getFocus();let a=!1;const h=e=>{const t=e.element;if(t)for(let e=0;e<t.elements.length;e++){const s=i(t.elements[e].element),h=t.elements[t.elements.length-1].element;o.has(s)&&-1===r.indexOf(h)&&(r.push(h),l=!0),n.has(s)&&-1===d.indexOf(h)&&(d.push(h),a=!0)}e.children.forEach(h)};h(this.tree.getCompressedTreeNode(e===this.root?null:e)),l&&this.setSelection(r),a&&this.setFocus(d)}processChildren(e){return this.filter&&(e=a.$.filter(e,(e=>{const t=this.filter.filter(e,1),i="boolean"==typeof(s=t)?s?1:0:(0,u.gB)(s)?(0,u.aG)(s.visibility):(0,u.aG)(s);var s;if(2===i)throw new Error("Recursive tree visibility not supported in async data compressed trees");return 1===i}))),super.processChildren(e)}}},32481:function(e,t,i){i.d(t,{u:function(){return n}});var s=i(5637),o=i(79020);class n extends s.CH{constructor(e,t,i,s,o,n={}){super(e,t,i,s,n),this.user=e,this.dataSource=o,this.identityProvider=n.identityProvider}createModel(e,t,i){return new o.F(e,t,i)}}},71782:function(e,t,i){i.d(t,{gB:function(){return d},aG:function(){return a},X:function(){return c}});var s=i(60350),o=i(9488),n=i(2484),r=i(4669),l=i(53725);function d(e){return"object"==typeof e&&"visibility"in e&&"data"in e}function a(e){switch(e){case!0:return 1;case!1:return 0;default:return e}}function h(e){return"boolean"==typeof e.collapsible}class c{constructor(e,t,i,s={}){this.user=e,this.list=t,this.rootRef=[],this.eventBufferer=new r.E7,this._onDidChangeCollapseState=new r.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new r.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new r.Q5,this.onDidSplice=this._onDidSplice.event,this.collapseByDefault=void 0!==s.collapseByDefault&&s.collapseByDefault,this.filter=s.filter,this.autoExpandSingleChildren=void 0!==s.autoExpandSingleChildren&&s.autoExpandSingleChildren,this.root={parent:void 0,element:i,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(e,t,i=l.$.empty(),o={}){if(0===e.length)throw new s.ac(this.user,"Invalid tree location");o.diffIdentityProvider?this.spliceSmart(o.diffIdentityProvider,e,t,i,o):this.spliceSimple(e,t,i,o)}spliceSmart(e,t,i,s,o,r){var d;void 0===s&&(s=l.$.empty()),void 0===r&&(r=null!==(d=o.diffDepth)&&void 0!==d?d:0);const{parentNode:a}=this.getParentNodeWithListIndex(t),h=[...s],c=t[t.length-1],u=new n.Hs({getElements:()=>a.children.map((t=>e.getId(t.element).toString()))},{getElements:()=>[...a.children.slice(0,c),...h,...a.children.slice(c+i)].map((t=>e.getId(t.element).toString()))}).ComputeDiff(!1);if(u.quitEarly)return this.spliceSimple(t,i,h,o);const p=t.slice(0,-1),m=(t,i,s)=>{if(r>0)for(let n=0;n<s;n++)t--,i--,this.spliceSmart(e,[...p,t,0],Number.MAX_SAFE_INTEGER,h[i].children,o,r-1)};let g=Math.min(a.children.length,c+i),v=h.length;for(const e of u.changes.sort(((e,t)=>t.originalStart-e.originalStart)))m(g,v,g-(e.originalStart+e.originalLength)),g=e.originalStart,v=e.modifiedStart-c,this.spliceSimple([...p,g],e.originalLength,l.$.slice(h,v,v+e.modifiedLength),o);m(g,v,g)}spliceSimple(e,t,i=l.$.empty(),{onDidCreateNode:s,onDidDeleteNode:n}){const{parentNode:r,listIndex:d,revealed:a,visible:h}=this.getParentNodeWithListIndex(e),c=[],u=l.$.map(i,(e=>this.createTreeNode(e,r,r.visible?1:0,a,c,s))),p=e[e.length-1],m=r.children.length>0;let g=0;for(let e=p;e>=0&&e<r.children.length;e--){const t=r.children[e];if(t.visible){g=t.visibleChildIndex;break}}const v=[];let f=0,b=0;for(const e of u)v.push(e),b+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=g+f++);const S=(0,o.db)(r.children,p,t,v);let w=0;for(const e of S)e.visible&&w++;if(0!==w)for(let e=p+v.length;e<r.children.length;e++){const t=r.children[e];t.visible&&(t.visibleChildIndex-=w)}if(r.visibleChildrenCount+=f-w,a&&h){const e=S.reduce(((e,t)=>e+(t.visible?t.renderNodeCount:0)),0);this._updateAncestorsRenderNodeCount(r,b-e),this.list.splice(d,e,c)}if(S.length>0&&n){const e=t=>{n(t),t.children.forEach(e)};S.forEach(e)}const y=r.children.length>0;m!==y&&this.setCollapsible(e.slice(0,-1),y),this._onDidSplice.fire({insertedNodes:v,deletedNodes:S});let _=r;for(;_;){if(2===_.visibility){this.refilter();break}_=_.parent}}rerender(e){if(0===e.length)throw new s.ac(this.user,"Invalid tree location");const{node:t,listIndex:i,revealed:o}=this.getTreeNodeWithListIndex(e);t.visible&&o&&this.list.splice(i,1,[t])}has(e){return this.hasTreeNode(e)}getListIndex(e){const{listIndex:t,visible:i,revealed:s}=this.getTreeNodeWithListIndex(e);return i&&s?t:-1}getListRenderCount(e){return this.getTreeNode(e).renderNodeCount}isCollapsible(e){return this.getTreeNode(e).collapsible}setCollapsible(e,t){const i=this.getTreeNode(e);void 0===t&&(t=!i.collapsible);const s={collapsible:t};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,s)))}isCollapsed(e){return this.getTreeNode(e).collapsed}setCollapsed(e,t,i){const s=this.getTreeNode(e);void 0===t&&(t=!s.collapsed);const o={collapsed:t,recursive:i||!1};return this.eventBufferer.bufferEvents((()=>this._setCollapseState(e,o)))}_setCollapseState(e,t){const{node:i,listIndex:s,revealed:o}=this.getTreeNodeWithListIndex(e),n=this._setListNodeCollapseState(i,s,o,t);if(i!==this.root&&this.autoExpandSingleChildren&&n&&!h(t)&&i.collapsible&&!i.collapsed&&!t.recursive){let s=-1;for(let e=0;e<i.children.length;e++){if(i.children[e].visible){if(s>-1){s=-1;break}s=e}}s>-1&&this._setCollapseState([...e,s],t)}return n}_setListNodeCollapseState(e,t,i,s){const o=this._setNodeCollapseState(e,s,!1);if(!i||!e.visible||!o)return o;const n=e.renderNodeCount,r=this.updateNodeAfterCollapseChange(e),l=n-(-1===t?0:1);return this.list.splice(t+1,l,r.slice(1)),o}_setNodeCollapseState(e,t,i){let s;if(e===this.root?s=!1:(h(t)?(s=e.collapsible!==t.collapsible,e.collapsible=t.collapsible):e.collapsible?(s=e.collapsed!==t.collapsed,e.collapsed=t.collapsed):s=!1,s&&this._onDidChangeCollapseState.fire({node:e,deep:i})),!h(t)&&t.recursive)for(const i of e.children)s=this._setNodeCollapseState(i,t,!0)||s;return s}expandTo(e){this.eventBufferer.bufferEvents((()=>{let t=this.getTreeNode(e);for(;t.parent;)t=t.parent,e=e.slice(0,e.length-1),t.collapsed&&this._setCollapseState(e,{collapsed:!1,recursive:!1})}))}refilter(){const e=this.root.renderNodeCount,t=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,e,t)}createTreeNode(e,t,i,s,o,n){const r={parent:t,element:e.element,children:[],depth:t.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:"boolean"==typeof e.collapsible?e.collapsible:void 0!==e.collapsed,collapsed:void 0===e.collapsed?this.collapseByDefault:e.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},d=this._filterNode(r,i);r.visibility=d,s&&o.push(r);const a=e.children||l.$.empty(),h=s&&0!==d&&!r.collapsed,c=l.$.map(a,(e=>this.createTreeNode(e,r,d,h,o,n)));let u=0,p=1;for(const e of c)r.children.push(e),p+=e.renderNodeCount,e.visible&&(e.visibleChildIndex=u++);return r.collapsible=r.collapsible||r.children.length>0,r.visibleChildrenCount=u,r.visible=2===d?u>0:1===d,r.visible?r.collapsed||(r.renderNodeCount=p):(r.renderNodeCount=0,s&&o.pop()),n&&n(r),r}updateNodeAfterCollapseChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterCollapseChange(e,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterCollapseChange(e,t){if(!1===e.visible)return 0;if(t.push(e),e.renderNodeCount=1,!e.collapsed)for(const i of e.children)e.renderNodeCount+=this._updateNodeAfterCollapseChange(i,t);return this._onDidChangeRenderNodeCount.fire(e),e.renderNodeCount}updateNodeAfterFilterChange(e){const t=e.renderNodeCount,i=[];return this._updateNodeAfterFilterChange(e,e.visible?1:0,i),this._updateAncestorsRenderNodeCount(e.parent,i.length-t),i}_updateNodeAfterFilterChange(e,t,i,s=!0){let o;if(e!==this.root){if(o=this._filterNode(e,t),0===o)return e.visible=!1,e.renderNodeCount=0,!1;s&&i.push(e)}const n=i.length;e.renderNodeCount=e===this.root?0:1;let r=!1;if(e.collapsed&&0===o)e.visibleChildrenCount=0;else{let t=0;for(const n of e.children)r=this._updateNodeAfterFilterChange(n,o,i,s&&!e.collapsed)||r,n.visible&&(n.visibleChildIndex=t++);e.visibleChildrenCount=t}return e!==this.root&&(e.visible=2===o?r:1===o),e.visible?e.collapsed||(e.renderNodeCount+=i.length-n):(e.renderNodeCount=0,s&&i.pop()),this._onDidChangeRenderNodeCount.fire(e),e.visible}_updateAncestorsRenderNodeCount(e,t){if(0!==t)for(;e;)e.renderNodeCount+=t,this._onDidChangeRenderNodeCount.fire(e),e=e.parent}_filterNode(e,t){const i=this.filter?this.filter.filter(e.element,t):1;return"boolean"==typeof i?(e.filterData=void 0,i?1:0):d(i)?(e.filterData=i.data,a(i.visibility)):(e.filterData=void 0,a(i))}hasTreeNode(e,t=this.root){if(!e||0===e.length)return!0;const[i,...s]=e;return!(i<0||i>t.children.length)&&this.hasTreeNode(s,t.children[i])}getTreeNode(e,t=this.root){if(!e||0===e.length)return t;const[i,...o]=e;if(i<0||i>t.children.length)throw new s.ac(this.user,"Invalid tree location");return this.getTreeNode(o,t.children[i])}getTreeNodeWithListIndex(e){if(0===e.length)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:t,listIndex:i,revealed:o,visible:n}=this.getParentNodeWithListIndex(e),r=e[e.length-1];if(r<0||r>t.children.length)throw new s.ac(this.user,"Invalid tree location");const l=t.children[r];return{node:l,listIndex:i,revealed:o,visible:n&&l.visible}}getParentNodeWithListIndex(e,t=this.root,i=0,o=!0,n=!0){const[r,...l]=e;if(r<0||r>t.children.length)throw new s.ac(this.user,"Invalid tree location");for(let e=0;e<r;e++)i+=t.children[e].renderNodeCount;return o=o&&!t.collapsed,n=n&&t.visible,0===l.length?{parentNode:t,listIndex:i,revealed:o,visible:n}:this.getParentNodeWithListIndex(l,t.children[r],i+1,o,n)}getNode(e=[]){return this.getTreeNode(e)}getNodeLocation(e){const t=[];let i=e;for(;i.parent;)t.push(i.parent.children.indexOf(i)),i=i.parent;return t.reverse()}getParentNodeLocation(e){return 0===e.length?void 0:1===e.length?[]:(0,o.JH)(e)[0]}}},4903:function(e,t,i){i.d(t,{h:function(){return y},H:function(){return S}});var s=i(53725),o=i(5637),n=i(79020),r=i(4669),l=i(60350);function d(e){return{element:{elements:[e.element],incompressible:e.incompressible||!1},children:s.$.map(s.$.from(e.children),d),collapsible:e.collapsible,collapsed:e.collapsed}}function a(e){const t=[e.element],i=e.incompressible||!1;let o,n;for(;[n,o]=s.$.consume(s.$.from(e.children),2),1===n.length&&!n[0].incompressible;)e=n[0],t.push(e.element);return{element:{elements:t,incompressible:i},children:s.$.map(s.$.concat(n,o),a),collapsible:e.collapsible,collapsed:e.collapsed}}function h(e,t=0){let i;return i=t<e.element.elements.length-1?[h(e,t+1)]:s.$.map(s.$.from(e.children),(e=>h(e,0))),0===t&&e.element.incompressible?{element:e.element.elements[t],children:i,incompressible:!0,collapsible:e.collapsible,collapsed:e.collapsed}:{element:e.element.elements[t],children:i,collapsible:e.collapsible,collapsed:e.collapsed}}function c(e){return h(e,0)}function u(e,t,i){return e.element===t?Object.assign(Object.assign({},e),{children:i}):Object.assign(Object.assign({},e),{children:s.$.map(s.$.from(e.children),(e=>u(e,t,i)))})}class p{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.model=new n.F(e,t,i),this.enabled=void 0===i.compressionEnabled||i.compressionEnabled,this.identityProvider=i.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(e,t=s.$.empty(),i){const o=i.diffIdentityProvider&&(n=i.diffIdentityProvider,{getId:e=>e.elements.map((e=>n.getId(e).toString())).join("\0")});var n;if(null===e){const e=s.$.map(t,this.enabled?a:d);return void this._setChildren(null,e,{diffIdentityProvider:o,diffDepth:1/0})}const r=this.nodes.get(e);if(!r)throw new Error("Unknown compressed tree node");const l=this.model.getNode(r),h=this.model.getParentNodeLocation(r),p=this.model.getNode(h),m=u(c(l),e,t),g=(this.enabled?a:d)(m),v=p.children.map((e=>e===l?g:e));this._setChildren(p.element,v,{diffIdentityProvider:o,diffDepth:l.depth-p.depth})}setCompressionEnabled(e){if(e===this.enabled)return;this.enabled=e;const t=this.model.getNode().children,i=s.$.map(t,c),o=s.$.map(i,e?a:d);this._setChildren(null,o,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(e,t,i){const s=new Set;this.model.setChildren(e,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{for(const t of e.element.elements)s.add(t),this.nodes.set(t,e.element)},onDidDeleteNode:e=>{for(const t of e.element.elements)s.has(t)||this.nodes.delete(t)}}))}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getCompressedNode(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getCompressedNode(e);return this.model.getListRenderCount(t)}getNode(e){if(void 0===e)return this.model.getNode();const t=this.getCompressedNode(e);return this.model.getNode(t)}getNodeLocation(e){const t=this.model.getNodeLocation(e);return null===t?null:t.elements[t.elements.length-1]}getParentNodeLocation(e){const t=this.getCompressedNode(e),i=this.model.getParentNodeLocation(t);return null===i?null:i.elements[i.elements.length-1]}isCollapsible(e){const t=this.getCompressedNode(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getCompressedNode(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getCompressedNode(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const s=this.getCompressedNode(e);return this.model.setCollapsed(s,t,i)}expandTo(e){const t=this.getCompressedNode(e);this.model.expandTo(t)}rerender(e){const t=this.getCompressedNode(e);this.model.rerender(t)}refilter(){this.model.refilter()}getCompressedNode(e){if(null===e)return null;const t=this.nodes.get(e);if(!t)throw new l.ac(this.user,`Tree element not found: ${e}`);return t}}const m=e=>e[e.length-1];class g{constructor(e,t){this.unwrapper=e,this.node=t}get element(){return null===this.node.element?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map((e=>new g(this.unwrapper,e)))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class v{constructor(e,t,i={}){this.rootRef=null,this.elementMapper=i.elementMapper||m;const s=e=>this.elementMapper(e.elements);this.nodeMapper=new l.VA((e=>new g(s,e))),this.model=new p(e,function(e,t){return{splice(i,s,o){t.splice(i,s,o.map((t=>e.map(t))))},updateElementHeight(e,i){t.updateElementHeight(e,i)}}}(this.nodeMapper,t),function(e,t){return Object.assign(Object.assign({},t),{identityProvider:t.identityProvider&&{getId:i=>t.identityProvider.getId(e(i))},sorter:t.sorter&&{compare:(e,i)=>t.sorter.compare(e.elements[0],i.elements[0])},filter:t.filter&&{filter:(i,s)=>t.filter.filter(e(i),s)}})}(s,i))}get onDidSplice(){return r.ju.map(this.model.onDidSplice,(({insertedNodes:e,deletedNodes:t})=>({insertedNodes:e.map((e=>this.nodeMapper.map(e))),deletedNodes:t.map((e=>this.nodeMapper.map(e)))})))}get onDidChangeCollapseState(){return r.ju.map(this.model.onDidChangeCollapseState,(({node:e,deep:t})=>({node:this.nodeMapper.map(e),deep:t})))}get onDidChangeRenderNodeCount(){return r.ju.map(this.model.onDidChangeRenderNodeCount,(e=>this.nodeMapper.map(e)))}setChildren(e,t=s.$.empty(),i={}){this.model.setChildren(e,t,i)}setCompressionEnabled(e){this.model.setCompressionEnabled(e)}has(e){return this.model.has(e)}getListIndex(e){return this.model.getListIndex(e)}getListRenderCount(e){return this.model.getListRenderCount(e)}getNode(e){return this.nodeMapper.map(this.model.getNode(e))}getNodeLocation(e){return e.element}getParentNodeLocation(e){return this.model.getParentNodeLocation(e)}isCollapsible(e){return this.model.isCollapsible(e)}setCollapsible(e,t){return this.model.setCollapsible(e,t)}isCollapsed(e){return this.model.isCollapsed(e)}setCollapsed(e,t,i){return this.model.setCollapsed(e,t,i)}expandTo(e){return this.model.expandTo(e)}rerender(e){return this.model.rerender(e)}refilter(){return this.model.refilter()}getCompressedTreeNode(e=null){return this.model.getNode(e)}}var f=i(49898),b=function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};class S extends o.CH{constructor(e,t,i,s,o={}){super(e,t,i,s,o)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(e,t=s.$.empty(),i){this.model.setChildren(e,t,i)}rerender(e){void 0!==e?this.model.rerender(e):this.view.rerender()}hasElement(e){return this.model.has(e)}createModel(e,t,i){return new n.F(e,t,i)}}class w{constructor(e,t){this._compressedTreeNodeProvider=e,this.renderer=t,this.templateId=t.templateId,t.onDidChangeTwistieState&&(this.onDidChangeTwistieState=t.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(e){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(e)}}renderElement(e,t,i,s){const o=this.compressedTreeNodeProvider.getCompressedTreeNode(e.element);1===o.element.elements.length?(i.compressedTreeNode=void 0,this.renderer.renderElement(e,t,i.data,s)):(i.compressedTreeNode=o,this.renderer.renderCompressedElements(o,t,i.data,s))}disposeElement(e,t,i,s){i.compressedTreeNode?this.renderer.disposeCompressedElements&&this.renderer.disposeCompressedElements(i.compressedTreeNode,t,i.data,s):this.renderer.disposeElement&&this.renderer.disposeElement(e,t,i.data,s)}disposeTemplate(e){this.renderer.disposeTemplate(e.data)}renderTwistie(e,t){return!!this.renderer.renderTwistie&&this.renderer.renderTwistie(e,t)}}b([f.H],w.prototype,"compressedTreeNodeProvider",null);class y extends S{constructor(e,t,i,s,o={}){const n=()=>this;super(e,t,i,s.map((e=>new w(n,e))),function(e,t){return t&&Object.assign(Object.assign({},t),{keyboardNavigationLabelProvider:t.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(i){let s;try{s=e().getCompressedTreeNode(i)}catch(e){return t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i)}return 1===s.element.elements.length?t.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(i):t.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(s.element.elements)}}})}(n,o))}setChildren(e,t=s.$.empty(),i){this.model.setChildren(e,t,i)}createModel(e,t,i){return new v(e,t,i)}updateOptions(e={}){super.updateOptions(e),void 0!==e.compressionEnabled&&this.model.setCompressionEnabled(e.compressionEnabled)}getCompressedTreeNode(e=null){return this.model.getCompressedTreeNode(e)}}},79020:function(e,t,i){i.d(t,{F:function(){return r}});var s=i(53725),o=i(71782),n=i(60350);class r{constructor(e,t,i={}){this.user=e,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new o.X(e,t,null,i),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,i.sorter&&(this.sorter={compare:(e,t)=>i.sorter.compare(e.element,t.element)}),this.identityProvider=i.identityProvider}setChildren(e,t=s.$.empty(),i={}){const o=this.getElementLocation(e);this._setChildren(o,this.preserveCollapseState(t),i)}_setChildren(e,t=s.$.empty(),i){const o=new Set,n=new Set;this.model.splice([...e,0],Number.MAX_VALUE,t,Object.assign(Object.assign({},i),{onDidCreateNode:e=>{var t;if(null===e.element)return;const s=e;if(o.add(s.element),this.nodes.set(s.element,s),this.identityProvider){const e=this.identityProvider.getId(s.element).toString();n.add(e),this.nodesByIdentity.set(e,s)}null===(t=i.onDidCreateNode)||void 0===t||t.call(i,s)},onDidDeleteNode:e=>{var t;if(null===e.element)return;const s=e;if(o.has(s.element)||this.nodes.delete(s.element),this.identityProvider){const e=this.identityProvider.getId(s.element).toString();n.has(e)||this.nodesByIdentity.delete(e)}null===(t=i.onDidDeleteNode)||void 0===t||t.call(i,s)}}))}preserveCollapseState(e=s.$.empty()){return this.sorter&&(e=[...e].sort(this.sorter.compare.bind(this.sorter))),s.$.map(e,(e=>{let t=this.nodes.get(e.element);if(!t&&this.identityProvider){const i=this.identityProvider.getId(e.element).toString();t=this.nodesByIdentity.get(i)}if(!t)return Object.assign(Object.assign({},e),{children:this.preserveCollapseState(e.children)});const i="boolean"==typeof e.collapsible?e.collapsible:t.collapsible,s=void 0!==e.collapsed?e.collapsed:t.collapsed;return Object.assign(Object.assign({},e),{collapsible:i,collapsed:s,children:this.preserveCollapseState(e.children)})}))}rerender(e){const t=this.getElementLocation(e);this.model.rerender(t)}has(e){return this.nodes.has(e)}getListIndex(e){const t=this.getElementLocation(e);return this.model.getListIndex(t)}getListRenderCount(e){const t=this.getElementLocation(e);return this.model.getListRenderCount(t)}isCollapsible(e){const t=this.getElementLocation(e);return this.model.isCollapsible(t)}setCollapsible(e,t){const i=this.getElementLocation(e);return this.model.setCollapsible(i,t)}isCollapsed(e){const t=this.getElementLocation(e);return this.model.isCollapsed(t)}setCollapsed(e,t,i){const s=this.getElementLocation(e);return this.model.setCollapsed(s,t,i)}expandTo(e){const t=this.getElementLocation(e);this.model.expandTo(t)}refilter(){this.model.refilter()}getNode(e=null){if(null===e)return this.model.getNode(this.model.rootRef);const t=this.nodes.get(e);if(!t)throw new n.ac(this.user,`Tree element not found: ${e}`);return t}getNodeLocation(e){return e.element}getParentNodeLocation(e){if(null===e)throw new n.ac(this.user,"Invalid getParentNodeLocation call");const t=this.nodes.get(e);if(!t)throw new n.ac(this.user,`Tree element not found: ${e}`);const i=this.model.getNodeLocation(t),s=this.model.getParentNodeLocation(i);return this.model.getNode(s).element}getElementLocation(e){if(null===e)return[];const t=this.nodes.get(e);if(!t)throw new n.ac(this.user,`Tree element not found: ${e}`);return this.model.getNodeLocation(t)}}},60350:function(e,t,i){var s;i.d(t,{sD:function(){return s},ac:function(){return o},VA:function(){return n}}),function(e){e[e.Unknown=0]="Unknown",e[e.Twistie=1]="Twistie",e[e.Element=2]="Element"}(s||(s={}));class o extends Error{constructor(e,t){super(`TreeError [${e}] ${t}`)}}class n{constructor(e){this.fn=e,this._map=new WeakMap}map(e){let t=this._map.get(e);return t||(t=this.fn(e),this._map.set(e,t)),t}}},99670:function(e,t,i){i.d(t,{$6:function(){return o},HS:function(){return n},Vf:function(){return r},vu:function(){return l},SV:function(){return d}});var s=i(73046);const o=(0,s.CM)("tree-item-expanded",s.lA.chevronDown),n=(0,s.CM)("tree-filter-on-type-on",s.lA.listFilter),r=(0,s.CM)("tree-filter-on-type-off",s.lA.listSelection),l=(0,s.CM)("tree-filter-clear",s.lA.close),d=(0,s.CM)("tree-item-loading",s.lA.loading)},93794:function(e,t,i){i.d(t,{$:function(){return d}});var s=i(65321),o=i(59069),n=i(23938),r=i(5976),l=i(10553);class d extends r.JT{onclick(e,t){this._register(s.nm(e,s.tw.CLICK,(e=>t(new n.n(e)))))}onmousedown(e,t){this._register(s.nm(e,s.tw.MOUSE_DOWN,(e=>t(new n.n(e)))))}onmouseover(e,t){this._register(s.nm(e,s.tw.MOUSE_OVER,(e=>t(new n.n(e)))))}onnonbubblingmouseout(e,t){this._register(s.j_(e,(e=>t(new n.n(e)))))}onkeydown(e,t){this._register(s.nm(e,s.tw.KEY_DOWN,(e=>t(new o.y(e)))))}onkeyup(e,t){this._register(s.nm(e,s.tw.KEY_UP,(e=>t(new o.y(e)))))}oninput(e,t){this._register(s.nm(e,s.tw.INPUT,t))}onblur(e,t){this._register(s.nm(e,s.tw.BLUR,t))}onfocus(e,t){this._register(s.nm(e,s.tw.FOCUS,t))}ignoreGesture(e){l.o.ignoreTarget(e)}}}}]);