"use strict";(self.webpackChunkcloud_builder=self.webpackChunkcloud_builder||[]).push([[3959],{63580:function(e,t,i){function n(e,t,...i){return function(e,t){let i;return i=0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,i){const n=i[0];return void 0!==t[n]?t[n]:e})),i}(t,i)}i.d(t,{N:function(){return n}})},31106:function(e,t,i){i.d(t,{F:function(){return r},U:function(){return o}});var n=i(72065),s=i(38819);const r=(0,n.yh)("accessibilityService"),o=new s.uy("accessibilityModeEnabled",!1)},44452:function(e,t,i){i.d(t,{A:function(){return u}});var n=i(5976),s=i(31106),r=i(4669),o=i(38819),a=i(33108),c=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},l=function(e,t){return function(i,n){t(i,n,e)}};let u=class extends n.JT{constructor(e,t){super(),this._contextKeyService=e,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new r.Q5,this._accessibilityModeEnabledContext=s.U.bindTo(this._contextKeyService);const i=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(i(),this._onDidChangeScreenReaderOptimized.fire())}))),i(),this.onDidChangeScreenReaderOptimized((()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};u=c([l(0,o.i6),l(1,a.Ui)],u)},27628:function(e,t,i){i.d(t,{vr:function(){return w},Mm:function(){return k},Id:function(){return K}});var n=i(65321),s=i(74741),r=i(5976),o=i(63580),a=i(84144),c=i(5606),l=i(91847),u=i(8030),h=i(59422),d=i(97781),p=i(76033),g=i(61364),f=i(1432),y=i(72065),m=i(38819),v=i(59069),_=i(52365),C=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},S=function(e,t){return function(i,n){t(i,n,e)}},b=function(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};function w(e,t,i,n,o,c,l){const u=e.getActions(t);return function(e,t,i,n=(e=>"navigation"===e),r=Number.MAX_SAFE_INTEGER,o=(()=>!1),c=!1){let l,u;Array.isArray(t)?(l=t,u=t):(l=t.primary,u=t.secondary);const h=new Set;for(const[t,r]of e){let e;n(t)?(e=l,e.length>0&&c&&e.push(new s.Z0)):(e=u,e.length>0&&e.push(new s.Z0));for(let n of r){i&&(n=n instanceof a.U8&&n.alt?n.alt:n);const r=e.push(n);n instanceof s.wY&&h.add({group:t,action:n,index:r-1})}}for(const{group:e,action:t,index:i}of h){const s=n(e)?l:u,a=t.actions;(a.length<=1||s.length+a.length-2<=r)&&o(t,e,s.length)&&s.splice(i,1,...a)}if(l!==u&&l.length>r){const e=l.splice(r,l.length-r);u.unshift(...e,new s.Z0)}}(u,i,!1,"string"==typeof n?e=>e===n:n,o,c,l),function(e){const t=new r.SL;for(const[,i]of e)for(const e of i)t.add(e);return t}(u)}let k=class extends p.g{constructor(e,t,i,s,o){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable}),this._keybindingService=i,this._notificationService=s,this._contextKeyService=o,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new r.XK),this._altKey=n._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return b(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}}))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,i=this._altKey.keyStatus.altKey||(f.ED||f.IJ)&&this._altKey.keyStatus.shiftKey;const s=()=>{const e=t&&i;e!==this._wantsAltCommand&&(this._wantsAltCommand=e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((e=>{i=e.altKey||(f.ED||f.IJ)&&e.shiftKey,s()}))),this._register((0,n.nm)(e,"mouseleave",(e=>{t=!1,s()}))),this._register((0,n.nm)(e,"mouseenter",(e=>{t=!0,s()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),i=this._commandAction.tooltip||this._commandAction.label;let n=t?(0,o.N)("titleAndKb","{0} ({1})",i,t):i;if(!this._wantsAltCommand&&this._menuItemAction.alt){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),i=t&&t.getLabel(),s=i?(0,o.N)("titleAndKb","{0} ({1})",e,i):e;n+=`\n[${u.xo.modifierLabels[f.OS].altKey}] ${s}`}this.label.title=n}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:i,label:s}=this;if(!i||!s)return;const o=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(o)if(d.kS.isThemeIcon(o)){const e=d.kS.asClassNameArray(o);s.classList.add(...e),this._itemClassDispose.value=(0,r.OF)((()=>{s.classList.remove(...e)}))}else o.light&&s.style.setProperty("--menu-entry-icon-light",(0,n.wY)(o.light)),o.dark&&s.style.setProperty("--menu-entry-icon-dark",(0,n.wY)(o.dark)),s.classList.add("icon"),this._itemClassDispose.value=(0,r.OF)((()=>{s.classList.remove("icon"),s.style.removeProperty("--menu-entry-icon-light"),s.style.removeProperty("--menu-entry-icon-dark")}))}};k=C([S(2,l.d),S(3,h.lT),S(4,m.i6)],k);let x=class extends g.C{constructor(e,t){super(e,{getActions:()=>e.actions},t,{menuAsChild:!0,classNames:d.kS.isThemeIcon(e.item.icon)?d.kS.asClassName(e.item.icon):void 0})}render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!d.kS.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,n.wY)(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,n.wY)(t.dark)))}}};x=C([S(1,c.i)],x);let O=class extends p.Y{constructor(e,t,i,n,s,r,o){let c;super(null,e),this._keybindingService=t,this._notificationService=i,this._contextMenuService=n,this._menuService=s,this._instaService=r,this._storageService=o,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let l=o.get(this._storageKey,1);l&&(c=e.actions.find((e=>l===e.id))),c||(c=e.actions[0]),this._defaultAction=this._instaService.createInstance(k,c,void 0),this._dropdown=new g.C(e,e.actions,this._contextMenuService,{menuAsChild:!0,classNames:["codicon","codicon-chevron-down"]}),this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof a.U8&&this.update(e.action)}))}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(k,e,void 0),this._defaultAction.actionRunner=new class extends s.Wi{runAction(e,t){return b(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render((0,n.Ce)(this._container,(0,n.$)(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-primary");const t=(0,n.$)(".action-container");this._defaultAction.render((0,n.R3)(this._container,t)),this._register((0,n.nm)(t,n.tw.KEY_DOWN,(e=>{const t=new v.y(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const i=(0,n.$)(".dropdown-action-container");this._dropdown.render((0,n.R3)(this._container,i)),this._register((0,n.nm)(i,n.tw.KEY_DOWN,(e=>{var t;const i=new v.y(e);i.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),i.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};function K(e,t){if(t instanceof a.U8)return e.createInstance(k,t,void 0);if(t instanceof a.NZ){const i=!t.actions.some((e=>e instanceof a.U8&&e.item.icon&&!d.kS.isThemeIcon(e.item.icon)));return t.item.rememberDefaultAction&&i?e.createInstance(O,t):e.createInstance(x,t)}}O=C([S(1,l.d),S(2,h.lT),S(3,c.i),S(4,a.co),S(5,y.TG),S(6,_.Uy)],O)},84144:function(e,t,i){i.d(t,{vr:function(){return f},eH:function(){return y},co:function(){return m},BH:function(){return v},NZ:function(){return _},U8:function(){return C}});var n=i(74741),s=i(72065),r=i(38819),o=i(94565),a=i(5976),c=i(4669),l=i(97781),u=i(53725),h=i(91741),d=i(73046),p=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},g=function(e,t){return function(i,n){t(i,n,e)}};function f(e){return void 0!==e.command}class y{constructor(e){this.id=y._idPool++,this._debugName=e}}y._idPool=0,y.CommandPalette=new y("CommandPalette"),y.EditorContext=new y("EditorContext"),y.SimpleEditorContext=new y("SimpleEditorContext"),y.EditorContextCopy=new y("EditorContextCopy"),y.EditorContextPeek=new y("EditorContextPeek"),y.MenubarEditMenu=new y("MenubarEditMenu"),y.MenubarCopy=new y("MenubarCopy"),y.MenubarGoMenu=new y("MenubarGoMenu"),y.MenubarSelectionMenu=new y("MenubarSelectionMenu"),y.InlineCompletionsActions=new y("InlineCompletionsActions");const m=(0,s.yh)("menuService"),v=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new c.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:e=>e===y.CommandPalette}}addCommand(e){return this.addCommands(u.$.single(e))}addCommands(e){for(const t of e)this._commands.set(t.id,t);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,a.OF)((()=>{let t=!1;for(const i of e)t=this._commands.delete(i.id)||t;t&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)}))}getCommand(e){return this._commands.get(e)}getCommands(){const e=new Map;return this._commands.forEach(((t,i)=>e.set(i,t))),e}appendMenuItem(e,t){return this.appendMenuItems(u.$.single({id:e,item:t}))}appendMenuItems(e){const t=new Set,i=new h.S;for(const{id:n,item:s}of e){let e=this._menuItems.get(n);e||(e=new h.S,this._menuItems.set(n,e)),i.push(e.push(s)),t.add(n)}return this._onDidChangeMenu.fire(t),(0,a.OF)((()=>{if(i.size>0){for(let e of i)e();this._onDidChangeMenu.fire(t),i.clear()}}))}getMenuItems(e){let t;return t=this._menuItems.has(e)?[...this._menuItems.get(e)]:[],e===y.CommandPalette&&this._appendImplicitItems(t),t}_appendImplicitItems(e){const t=new Set;for(const i of e)f(i)&&(t.add(i.command.id),i.alt&&t.add(i.alt.id));this._commands.forEach(((i,n)=>{t.has(n)||e.push({command:i})}))}};class _ extends n.wY{constructor(e,t,i,n){super(`submenuitem.${e.submenu.id}`,"string"==typeof e.title?e.title:e.title.value,[],"submenu"),this.item=e,this._menuService=t,this._contextKeyService=i,this._options=n}get actions(){const e=[],t=this._menuService.createMenu(this.item.submenu,this._contextKeyService),i=t.getActions(this._options);t.dispose();for(const[,t]of i)t.length>0&&(e.push(...t),e.push(new n.Z0));return e.length&&e.pop(),e}}let C=class e{constructor(t,i,n,s,r){var o;if(this._commandService=r,this.id=t.id,this.label=(null==n?void 0:n.renderShortTitle)&&t.shortTitle?"string"==typeof t.shortTitle?t.shortTitle:t.shortTitle.value:"string"==typeof t.title?t.title:t.title.value,this.tooltip=null!==(o=t.tooltip)&&void 0!==o?o:"",this.enabled=!t.precondition||s.contextMatchesRules(t.precondition),this.checked=!1,t.toggled){const e=t.toggled.condition?t.toggled:{condition:t.toggled};this.checked=s.contextMatchesRules(e.condition),this.checked&&e.tooltip&&(this.tooltip="string"==typeof e.tooltip?e.tooltip:e.tooltip.value),e.title&&(this.label="string"==typeof e.title?e.title:e.title.value)}this.item=t,this.alt=i?new e(i,void 0,n,s,r):void 0,this._options=n,l.kS.isThemeIcon(t.icon)&&(this.class=d.dT.asClassName(t.icon))}dispose(){}run(...e){var t,i;let n=[];return(null===(t=this._options)||void 0===t?void 0:t.arg)&&(n=[...n,this._options.arg]),(null===(i=this._options)||void 0===i?void 0:i.shouldForwardArgs)&&(n=[...n,...e]),this._commandService.executeCommand(this.id,...n)}};C=p([g(3,r.i6),g(4,o.H)],C)},84363:function(e,t,i){i.d(t,{h:function(){return h}});var n=i(15393),s=i(4669),r=i(5976),o=i(84144),a=i(94565),c=i(38819),l=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},u=function(e,t){return function(i,n){t(i,n,e)}};let h=class{constructor(e){this._commandService=e}createMenu(e,t,i=!1){return new d(e,i,this._commandService,t,this)}};h=l([u(0,a.H)],h);let d=class e{constructor(e,t,i,a,c){this._id=e,this._fireEventsForSubmenuChanges=t,this._commandService=i,this._contextKeyService=a,this._menuService=c,this._disposables=new r.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const l=new n.pY((()=>{this._build(),this._onDidChange.fire(this)}),50);this._disposables.add(l),this._disposables.add(o.BH.onDidChangeMenu((t=>{t.has(e)&&l.schedule()})));const u=this._disposables.add(new r.SL);this._onDidChange=new s.Q5({onFirstListenerAdd:()=>{const e=new n.pY((()=>this._onDidChange.fire(this)),50);u.add(e),u.add(a.onDidChangeContext((t=>{t.affectsSome(this._contextKeys)&&e.schedule()})))},onLastListenerRemove:u.clear.bind(u)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const t=o.BH.getMenuItems(this._id);let i;t.sort(e._compareMenuItems);for(const e of t){const t=e.group||"";i&&i[0]===t||(i=[t,[]],this._menuGroups.push(i)),i[1].push(e),this._collectContextKeys(e)}}_collectContextKeys(t){if(e._fillInKbExprKeys(t.when,this._contextKeys),(0,o.vr)(t)){if(t.command.precondition&&e._fillInKbExprKeys(t.command.precondition,this._contextKeys),t.command.toggled){const i=t.command.toggled.condition||t.command.toggled;e._fillInKbExprKeys(i,this._contextKeys)}}else this._fireEventsForSubmenuChanges&&o.BH.getMenuItems(t.submenu).forEach(this._collectContextKeys,this)}getActions(e){const t=[];for(let i of this._menuGroups){const[n,s]=i,r=[];for(const t of s)if(this._contextKeyService.contextMatchesRules(t.when)){const i=(0,o.vr)(t)?new o.U8(t.command,t.alt,e,this._contextKeyService,this._commandService):new o.NZ(t,this._menuService,this._contextKeyService,e);r.push(i)}r.length>0&&t.push([n,r])}return t}static _fillInKbExprKeys(e,t){if(e)for(let i of e.keys())t.add(i)}static _compareMenuItems(t,i){let n=t.group,s=i.group;if(n!==s){if(!n)return 1;if(!s)return-1;if("navigation"===n)return-1;if("navigation"===s)return 1;let e=n.localeCompare(s);if(0!==e)return e}let r=t.order||0,a=i.order||0;return r<a?-1:r>a?1:e._compareTitles((0,o.vr)(t)?t.command.title:t.title,(0,o.vr)(i)?i.command.title:i.title)}static _compareTitles(e,t){const i="string"==typeof e?e:e.original,n="string"==typeof t?t:t.original;return i.localeCompare(n)}};d=l([u(2,a.H),u(3,c.i6),u(4,o.co)],d)},46765:function(e,t,i){i.d(t,{Yb:function(){return p},Nq:function(){return g}});var n=i(38819),s=i(3070),r=i(49989),o=i(43811),a=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},c=function(e,t){return function(i,n){t(i,n,e)}};const l="historyNavigationWidget",u="historyNavigationEnabled";function h(e,t){return e.getContext(document.activeElement).getValue(t)}function d(e,t){const i=function(e,t){return e.createScoped(t.target)}(e,t);!function(e,t,i){new n.uy(i,t).bindTo(e)}(i,t,l);return{scopedContextKeyService:i,historyNavigationEnablement:new n.uy(u,!0).bindTo(i)}}let p=class extends s.V{constructor(e,t,i,n,s=!1){super(e,t,s,i),this._register(d(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};p=a([c(3,n.i6)],p);let g=class extends o.R{constructor(e,t,i,n,s=!1){super(e,t,s,i),this._register(d(n,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};g=a([c(3,n.i6)],g),r.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:n.Ao.and(n.Ao.has(l),n.Ao.equals(u,!0)),primary:16,secondary:[528],handler:(e,t)=>{const i=h(e.get(n.i6),l);if(i){i.historyNavigator.showPreviousValue()}}}),r.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:n.Ao.and(n.Ao.has(l),n.Ao.equals(u,!0)),primary:18,secondary:[530],handler:(e,t)=>{const i=h(e.get(n.i6),l);if(i){i.historyNavigator.showNextValue()}}})},1122:function(e,t,i){i.d(t,{r:function(){return r}});var n=i(65321),s=function(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{c(n.next(e))}catch(e){r(e)}}function a(e){try{c(n.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class r{constructor(){this.mapTextToType=new Map,this.findText=""}writeText(e,t){return s(this,void 0,void 0,(function*(){if(t)return void this.mapTextToType.set(t,e);try{return yield navigator.clipboard.writeText(e)}catch(e){console.error(e)}const i=document.activeElement,s=document.body.appendChild((0,n.$)("textarea",{"aria-hidden":!0}));s.style.height="1px",s.style.width="1px",s.style.position="absolute",s.value=e,s.focus(),s.select(),document.execCommand("copy"),i instanceof HTMLElement&&i.focus(),document.body.removeChild(s)}))}readText(e){return s(this,void 0,void 0,(function*(){if(e)return this.mapTextToType.get(e)||"";try{return yield navigator.clipboard.readText()}catch(e){return console.error(e),""}}))}readFindText(){return s(this,void 0,void 0,(function*(){return this.findText}))}writeFindText(e){return s(this,void 0,void 0,(function*(){this.findText=e}))}}},84972:function(e,t,i){i.d(t,{p:function(){return n}});const n=(0,i(72065).yh)("clipboardService")},94565:function(e,t,i){i.d(t,{H:function(){return l},P:function(){return u}});var n=i(5976),s=i(98401),r=i(72065),o=i(4669),a=i(91741),c=i(53725);const l=(0,r.yh)("commandService"),u=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new o.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(e,t){if(!e)throw new Error("invalid command");if("string"==typeof e){if(!t)throw new Error("invalid command");return this.registerCommand({id:e,handler:t})}if(e.description){const t=[];for(let i of e.description.args)t.push(i.constraint);const i=e.handler;e.handler=function(e,...n){return(0,s.D8)(n,t),i(e,...n)}}const{id:i}=e;let r=this._commands.get(i);r||(r=new a.S,this._commands.set(i,r));let o=r.unshift(e),c=(0,n.OF)((()=>{o();const e=this._commands.get(i);(null==e?void 0:e.isEmpty())&&this._commands.delete(i)}));return this._onDidRegisterCommand.fire(i),c}registerCommandAlias(e,t){return u.registerCommand(e,((e,...i)=>e.get(l).executeCommand(t,...i)))}getCommand(e){const t=this._commands.get(e);if(t&&!t.isEmpty())return c.$.first(t)}getCommands(){const e=new Map;for(const t of this._commands.keys()){const i=this.getCommand(t);i&&e.set(t,i)}return e}};u.registerCommand("noop",(()=>{}))},33108:function(e,t,i){i.d(t,{Ui:function(){return o},Od:function(){return a},KV:function(){return c},xL:function(){return l},Mt:function(){return h},MR:function(){return d},O4:function(){return p}});var n=i(89872),s=i(72065),r=i(23193);const o=(0,s.yh)("configurationService");function a(e,t){const i=Object.create(null);for(let n in e)c(i,n,e[n],t);return i}function c(e,t,i,n){const s=t.split("."),r=s.pop();let o=e;for(let e=0;e<s.length;e++){let i=s[e],r=o[i];switch(typeof r){case"undefined":r=o[i]=Object.create(null);break;case"object":break;default:return void n(`Ignoring ${t} as ${s.slice(0,e+1).join(".")} is ${JSON.stringify(r)}`)}o=r}if("object"==typeof o&&null!==o)try{o[r]=i}catch(e){n(`Ignoring ${t} as ${s.join(".")} is ${JSON.stringify(o)}`)}else n(`Ignoring ${t} as ${s.join(".")} is ${JSON.stringify(o)}`)}function l(e,t){u(e,t.split("."))}function u(e,t){const i=t.shift();if(0!==t.length){if(-1!==Object.keys(e).indexOf(i)){const n=e[i];"object"!=typeof n||Array.isArray(n)||(u(n,t),0===Object.keys(n).length&&delete e[i])}}else delete e[i]}function h(e,t,i){const n=function(e,t){let i=e;for(const e of t){if("object"!=typeof i||null===i)return;i=i[e]}return i}(e,t.split("."));return void 0===n?i:n}function d(){const e=n.B.as(r.IP.Configuration).getConfigurationProperties();return Object.keys(e)}function p(){const e=Object.create(null),t=n.B.as(r.IP.Configuration).getConfigurationProperties();for(let i in t){c(e,i,t[i].default,(e=>console.error(`Conflict in default settings: ${e}`)))}return e}},19461:function(e,t,i){i.d(t,{VV:function(){return u},lK:function(){return h},VK:function(){return d},YX:function(){return p}});var n=i(43702),s=i(9488),r=i(98401),o=i(36248),a=i(70666),c=i(23193),l=i(33108);class u{constructor(e={},t=[],i=[]){this._contents=e,this._keys=t,this._overrides=i,this.isFrozen=!1}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return 0===this._keys.length&&0===Object.keys(this._contents).length&&0===this._overrides.length}getValue(e){return e?(0,l.Mt)(this.contents,e):this.contents}override(e){const t=this.getContentsForOverrideIdentifer(e);if(!t||"object"!=typeof t||!Object.keys(t).length)return this;let i={};for(const e of s.EB([...Object.keys(this.contents),...Object.keys(t)])){let n=this.contents[e],s=t[e];s&&("object"==typeof n&&"object"==typeof s?(n=o.I8(n),this.mergeContents(n,s)):n=s),i[e]=n}return new u(i,this.keys,this.overrides)}merge(...e){const t=o.I8(this.contents),i=o.I8(this.overrides),n=[...this.keys];for(const r of e){this.mergeContents(t,r.contents);for(const e of r.overrides){const[t]=i.filter((t=>s.fS(t.identifiers,e.identifiers)));t?this.mergeContents(t.contents,e.contents):i.push(o.I8(e))}for(const e of r.keys)-1===n.indexOf(e)&&n.push(e)}return new u(t,n,i)}freeze(){return this.isFrozen=!0,this}mergeContents(e,t){for(const i of Object.keys(t))i in e&&r.Kn(e[i])&&r.Kn(t[i])?this.mergeContents(e[i],t[i]):e[i]=o.I8(t[i])}checkAndFreeze(e){return this.isFrozen&&!Object.isFrozen(e)?o._A(e):e}getContentsForOverrideIdentifer(e){for(const t of this.overrides)if(-1!==t.identifiers.indexOf(e))return t.contents;return null}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(e,t){this.addKey(e),(0,l.KV)(this.contents,e,t,(e=>{throw new Error(e)}))}removeValue(e){this.removeKey(e)&&(0,l.xL)(this.contents,e)}addKey(e){let t=this.keys.length;for(let i=0;i<t;i++)0===e.indexOf(this.keys[i])&&(t=i);this.keys.splice(t,1,e)}removeKey(e){let t=this.keys.indexOf(e);return-1!==t&&(this.keys.splice(t,1),!0)}}class h extends u{constructor(){const e=(0,l.O4)(),t=(0,l.MR)(),i=[];for(const t of Object.keys(e))c.G1.test(t)&&i.push({identifiers:[(0,c.Uh)(t).trim()],keys:Object.keys(e[t]),contents:(0,l.Od)(e[t],(e=>console.error(`Conflict in default settings file: ${e}`)))});super(e,t,i)}}class d{constructor(e,t,i=new u,s=new u,r=new n.Y9,o=new u,a=new n.Y9,c=!0){this._defaultConfiguration=e,this._localUserConfiguration=t,this._remoteUserConfiguration=i,this._workspaceConfiguration=s,this._folderConfigurations=r,this._memoryConfiguration=o,this._memoryConfigurationByResource=a,this._freeze=c,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new n.Y9,this._userConfiguration=null}getValue(e,t,i){return this.getConsolidateConfigurationModel(t,i).getValue(e)}updateValue(e,t,i={}){let n;i.resource?(n=this._memoryConfigurationByResource.get(i.resource),n||(n=new u,this._memoryConfigurationByResource.set(i.resource,n))):n=this._memoryConfiguration,void 0===t?n.removeValue(e):n.setValue(e,t),i.resource||(this._workspaceConsolidatedConfiguration=null)}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}getConsolidateConfigurationModel(e,t){let i=this.getConsolidatedConfigurationModelForResource(e,t);return e.overrideIdentifier?i.override(e.overrideIdentifier):i}getConsolidatedConfigurationModelForResource({resource:e},t){let i=this.getWorkspaceConsolidatedConfiguration();if(t&&e){const n=t.getFolder(e);n&&(i=this.getFolderConsolidatedConfiguration(n.uri)||i);const s=this._memoryConfigurationByResource.get(e);s&&(i=i.merge(s))}return i}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(e){let t=this._foldersConsolidatedConfigurations.get(e);if(!t){const i=this.getWorkspaceConsolidatedConfiguration(),n=this._folderConfigurations.get(e);n?(t=i.merge(n),this._freeze&&(t=t.freeze()),this._foldersConsolidatedConfigurations.set(e,t)):t=i}return t}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce(((e,t)=>{const{contents:i,overrides:n,keys:s}=this._folderConfigurations.get(t);return e.push([t,{contents:i,overrides:n,keys:s}]),e}),[])}}static parse(e){const t=this.parseConfigurationModel(e.defaults),i=this.parseConfigurationModel(e.user),s=this.parseConfigurationModel(e.workspace),r=e.folders.reduce(((e,t)=>(e.set(a.o.revive(t[0]),this.parseConfigurationModel(t[1])),e)),new n.Y9);return new d(t,i,new u,s,r,new u,new n.Y9,!1)}static parseConfigurationModel(e){return new u(e.contents,e.keys,e.overrides).freeze()}}class p{constructor(e,t,i,n){this.change=e,this.previous=t,this.currentConfiguraiton=i,this.currentWorkspace=n,this._previousConfiguration=void 0;const s=new Set;e.keys.forEach((e=>s.add(e))),e.overrides.forEach((([,e])=>e.forEach((e=>s.add(e))))),this.affectedKeys=[...s.values()];const r=new u;this.affectedKeys.forEach((e=>r.setValue(e,{}))),this.affectedKeysTree=r.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=d.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(e,t){var i;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,e)){if(t){const n=this.previousConfiguration?this.previousConfiguration.getValue(e,t,null===(i=this.previous)||void 0===i?void 0:i.workspace):void 0,s=this.currentConfiguraiton.getValue(e,t,this.currentWorkspace);return!o.fS(n,s)}return!0}return!1}doesAffectedKeysTreeContains(e,t){let i,n=(0,l.Od)({[t]:!0},(()=>{}));for(;"object"==typeof n&&(i=Object.keys(n)[0]);){if(!(e=e[i]))return!1;n=n[i]}return!0}}},23193:function(e,t,i){i.d(t,{IP:function(){return c},G1:function(){return m},Uh:function(){return v}});var n=i(63580),s=i(4669),r=i(89872),o=i(98401),a=i(81294);const c={Configuration:"base.contributions.configuration"},l={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},h={properties:{},patternProperties:{}},d={properties:{},patternProperties:{}},p={properties:{},patternProperties:{}},g={properties:{},patternProperties:{}},f="vscode://schemas/settings/resourceLanguage",y=r.B.as(a.I.JSONContribution);const m=new RegExp("\\[.*\\]$");function v(e){return e.substring(1,e.length-1)}const _=new class{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new s.Q5,this._onDidUpdateConfiguration=new s.Q5,this.defaultValues={},this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:n.N("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.excludedConfigurationProperties={},y.registerSchema(f,this.resourceLanguageSettingsSchema)}registerConfiguration(e,t=!0){this.registerConfigurations([e],t)}registerConfigurations(e,t=!0){const i=[];e.forEach((e=>{i.push(...this.validateAndRegisterProperties(e,t,e.extensionInfo)),this.configurationContributors.push(e),this.registerJSONConfiguration(e)})),y.registerSchema(f,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire(i)}registerOverrideIdentifiers(e){for(const t of e)this.overrideIdentifiers.add(t);this.updateOverridePropertyPatternKey()}validateAndRegisterProperties(e,t=!0,i,n=3){var s;n=o.Jp(e.scope)?n:e.scope;let r=[],a=e.properties;if(a)for(let e in a){if(t&&C(e)){delete a[e];continue}const c=a[e];this.updatePropertyDefaultValue(e,c),m.test(e)?c.scope=void 0:(c.scope=o.Jp(c.scope)?n:c.scope,c.restricted=o.Jp(c.restricted)?!!(null===(s=null==i?void 0:i.restrictedConfigurations)||void 0===s?void 0:s.includes(e)):c.restricted),!a[e].hasOwnProperty("included")||a[e].included?(this.configurationProperties[e]=a[e],!a[e].deprecationMessage&&a[e].markdownDeprecationMessage&&(a[e].deprecationMessage=a[e].markdownDeprecationMessage),r.push(e)):(this.excludedConfigurationProperties[e]=a[e],delete a[e])}let c=e.allOf;if(c)for(let e of c)r.push(...this.validateAndRegisterProperties(e,t,i,n));return r}getConfigurationProperties(){return this.configurationProperties}registerJSONConfiguration(e){const t=e=>{let i=e.properties;if(i)for(const e in i)this.updateSchema(e,i[e]);let n=e.allOf;n&&n.forEach(t)};t(e)}updateSchema(e,t){switch(l.properties[e]=t,t.scope){case 1:u.properties[e]=t;break;case 2:h.properties[e]=t;break;case 6:d.properties[e]=t;break;case 3:p.properties[e]=t;break;case 4:g.properties[e]=t;break;case 5:g.properties[e]=t,this.resourceLanguageSettingsSchema.properties[e]=t}}updateOverridePropertyPatternKey(){for(const e of this.overrideIdentifiers.values()){const t=`[${e}]`,i={type:"object",description:n.N("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:n.N("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:f};this.updatePropertyDefaultValue(t,i),l.properties[t]=i,u.properties[t]=i,h.properties[t]=i,d.properties[t]=i,p.properties[t]=i,g.properties[t]=i}this._onDidSchemaChange.fire()}updatePropertyDefaultValue(e,t){let i=this.defaultValues[e];o.o8(i)&&(i=t.default),o.o8(i)&&(i=function(e){switch(Array.isArray(e)?e[0]:e){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}(t.type)),t.default=i}};function C(e){return e.trim()?m.test(e)?n.N("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",e):void 0!==_.getConfigurationProperties()[e]?n.N("config.property.duplicate","Cannot register '{0}'. This property is already registered.",e):null:n.N("config.property.empty","Cannot register an empty property")}r.B.add(c.Configuration,_)},49536:function(e,t,i){i.d(t,{aY:function(){return w}});var n=i(4669),s=i(53725),r=i(5976),o=i(43702),a=i(63580),c=i(94565),l=i(33108),u=i(38819),h=i(38439),d=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},p=function(e,t){return function(i,n){t(i,n,e)}};const g="data-keybinding-context";class f{constructor(e,t){this._id=e,this._parent=t,this._value=Object.create(null),this._value._contextId=e}setValue(e,t){return this._value[e]!==t&&(this._value[e]=t,!0)}removeValue(e){return e in this._value&&(delete this._value[e],!0)}getValue(e){const t=this._value[e];return void 0===t&&this._parent?this._parent.getValue(e):t}}class y extends f{constructor(){super(-1,null)}setValue(e,t){return!1}removeValue(e){return!1}getValue(e){}}y.INSTANCE=new y;class m extends f{constructor(e,t,i){super(e,null),this._configurationService=t,this._values=o.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration((e=>{if(6===e.source){const e=Array.from(s.$.map(this._values,(([e])=>e)));this._values.clear(),i.fire(new C(e))}else{const t=[];for(const i of e.affectedKeys){const e=`config.${i}`,n=this._values.findSuperstr(e);void 0!==n&&(t.push(...s.$.map(n,(([e])=>e))),this._values.deleteSuperstr(e)),this._values.has(e)&&(t.push(e),this._values.delete(e))}i.fire(new C(t))}}))}dispose(){this._listener.dispose()}getValue(e){if(0!==e.indexOf(m._keyPrefix))return super.getValue(e);if(this._values.has(e))return this._values.get(e);const t=e.substr(m._keyPrefix.length),i=this._configurationService.getValue(t);let n;switch(typeof i){case"number":case"boolean":case"string":n=i;break;default:n=Array.isArray(i)?JSON.stringify(i):i}return this._values.set(e,n),n}setValue(e,t){return super.setValue(e,t)}removeValue(e){return super.removeValue(e)}}m._keyPrefix="config.";class v{constructor(e,t,i){this._service=e,this._key=t,this._defaultValue=i,this.reset()}set(e){this._service.setContext(this._key,e)}reset(){void 0===this._defaultValue?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class _{constructor(e){this.key=e}affectsSome(e){return e.has(this.key)}}class C{constructor(e){this.keys=e}affectsSome(e){for(const t of this.keys)if(e.has(t))return!0;return!1}}class S{constructor(e){this.events=e}affectsSome(e){for(const t of this.events)if(t.affectsSome(e))return!0;return!1}}class b{constructor(e){this._onDidChangeContext=new n.K3({merge:e=>new S(e)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=e}createKey(e,t){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new v(this,e,t)}bufferChangeEvents(e){this._onDidChangeContext.pause();try{e()}finally{this._onDidChangeContext.resume()}}createScoped(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new k(this,e)}contextMatchesRules(e){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const t=this.getContextValuesContainer(this._myContextId);return h.s.contextMatchesRules(t,e)}getContextKeyValue(e){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(e)}setContext(e,t){if(this._isDisposed)return;const i=this.getContextValuesContainer(this._myContextId);i&&i.setValue(e,t)&&this._onDidChangeContext.fire(new _(e))}removeContext(e){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(e)&&this._onDidChangeContext.fire(new _(e))}getContext(e){return this._isDisposed?y.INSTANCE:this.getContextValuesContainer(function(e){for(;e;){if(e.hasAttribute(g)){const t=e.getAttribute(g);return t?parseInt(t,10):NaN}e=e.parentElement}return 0}(e))}}let w=class extends b{constructor(e){super(0),this._contexts=new Map,this._toDispose=new r.SL,this._lastContextId=0;const t=new m(this._myContextId,e,this._onDidChangeContext);this._contexts.set(this._myContextId,t),this._toDispose.add(t)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(e){return this._isDisposed?y.INSTANCE:this._contexts.get(e)||y.INSTANCE}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");let t=++this._lastContextId;return this._contexts.set(t,new f(t,this.getContextValuesContainer(e))),t}disposeContext(e){this._isDisposed||this._contexts.delete(e)}};w=d([p(0,l.Ui)],w);class k extends b{constructor(e,t){if(super(e.createChildContext()),this._parentChangeListener=new r.XK,this._parent=e,this._updateParentChangeListener(),this._domNode=t,this._domNode.hasAttribute(g)){let e="";this._domNode.classList&&(e=Array.from(this._domNode.classList.values()).join(", ")),console.error("Element already has context attribute"+(e?": "+e:""))}this._domNode.setAttribute(g,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(this._onDidChangeContext.fire,this._onDidChangeContext)}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(g),this._isDisposed=!0)}getContextValuesContainer(e){return this._isDisposed?y.INSTANCE:this._parent.getContextValuesContainer(e)}createChildContext(e=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(e)}disposeContext(e){this._isDisposed||this._parent.disposeContext(e)}}c.P.registerCommand(u.Eq,(function(e,t,i){e.get(u.i6).createKey(String(t),i)})),c.P.registerCommand({id:"getContextKeyInfo",handler:()=>[...u.uy.all()].sort(((e,t)=>e.key.localeCompare(t.key))),description:{description:(0,a.N)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),c.P.registerCommand("_generateContextKeyInfo",(function(){const e=[],t=new Set;for(let i of u.uy.all())t.has(i.key)||(t.add(i.key),e.push(i));e.sort(((e,t)=>e.key.localeCompare(t.key))),console.log(JSON.stringify(e,void 0,2))}))},38819:function(e,t,i){i.d(t,{Ao:function(){return l},uy:function(){return K},i6:function(){return A},Eq:function(){return I}});var n=i(97295),s=i(72065),r=i(1432);let o=r.WE||"";const a=new Map;a.set("false",!1),a.set("true",!0),a.set("isMac",r.dz),a.set("isLinux",r.IJ),a.set("isWindows",r.ED),a.set("isWeb",r.$L),a.set("isMacNative",r.dz&&!r.$L),a.set("isEdge",o.indexOf("Edg/")>=0),a.set("isFirefox",o.indexOf("Firefox")>=0),a.set("isChrome",o.indexOf("Chrome")>=0),a.set("isSafari",o.indexOf("Safari")>=0);const c=Object.prototype.hasOwnProperty;class l{static has(e){return p.create(e)}static equals(e,t){return g.create(e,t)}static regex(e,t){return w.create(e,t)}static not(e){return v.create(e)}static and(...e){return x.create(e)}static or(...e){return O.create(e)}static deserialize(e,t=!1){if(e)return this._deserializeOrExpression(e,t)}static _deserializeOrExpression(e,t){let i=e.split("||");return O.create(i.map((e=>this._deserializeAndExpression(e,t))))}static _deserializeAndExpression(e,t){let i=e.split("&&");return x.create(i.map((e=>this._deserializeOne(e,t))))}static _deserializeOne(e,t){if((e=e.trim()).indexOf("!=")>=0){let i=e.split("!=");return m.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("==")>=0){let i=e.split("==");return g.create(i[0].trim(),this._deserializeValue(i[1],t))}if(e.indexOf("=~")>=0){let i=e.split("=~");return w.create(i[0].trim(),this._deserializeRegexValue(i[1],t))}if(e.indexOf(" in ")>=0){let t=e.split(" in ");return f.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(e)){const t=e.split(">=");return C.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(e)){const t=e.split(">");return _.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(e)){const t=e.split("<=");return b.create(t[0].trim(),t[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(e)){const t=e.split("<");return S.create(t[0].trim(),t[1].trim())}return/^\!\s*/.test(e)?v.create(e.substr(1).trim()):p.create(e)}static _deserializeValue(e,t){if("true"===(e=e.trim()))return!0;if("false"===e)return!1;let i=/^'([^']*)'$/.exec(e);return i?i[1].trim():e}static _deserializeRegexValue(e,t){if((0,n.m5)(e)){if(t)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}let i=e.indexOf("/"),s=e.lastIndexOf("/");if(i===s||i<0){if(t)throw new Error(`bad regexp-value '${e}', missing /-enclosure`);return console.warn(`bad regexp-value '${e}', missing /-enclosure`),null}let r=e.slice(i+1,s),o="i"===e[s+1]?"i":"";try{return new RegExp(r,o)}catch(i){if(t)throw new Error(`bad regexp-value '${e}', parse error: ${i}`);return console.warn(`bad regexp-value '${e}', parse error: ${i}`),null}}}function u(e,t){return e.cmp(t)}class h{constructor(){this.type=0}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!1}serialize(){return"false"}keys(){return[]}negate(){return d.INSTANCE}}h.INSTANCE=new h;class d{constructor(){this.type=1}cmp(e){return this.type-e.type}equals(e){return e.type===this.type}evaluate(e){return!0}serialize(){return"true"}keys(){return[]}negate(){return h.INSTANCE}}d.INSTANCE=new d;class p{constructor(e){this.key=e,this.type=2}static create(e){const t=a.get(e);return"boolean"==typeof t?t?d.INSTANCE:h.INSTANCE:new p(e)}cmp(e){return e.type!==this.type?this.type-e.type:D(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!!e.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return v.create(this.key)}}class g{constructor(e,t){this.key=e,this.value=t,this.type=4}static create(e,t){if("boolean"==typeof t)return t?p.create(e):v.create(e);const i=a.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?d.INSTANCE:h.INSTANCE}return new g(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return m.create(this.key,this.value)}}class f{constructor(e,t){this.key=e,this.valueKey=t,this.type=10}static create(e,t){return new f(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.valueKey,e.key,e.valueKey)}equals(e){return e.type===this.type&&(this.key===e.key&&this.valueKey===e.valueKey)}evaluate(e){const t=e.getValue(this.valueKey),i=e.getValue(this.key);return Array.isArray(t)?t.indexOf(i)>=0:"string"==typeof i&&"object"==typeof t&&null!==t&&c.call(t,i)}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return y.create(this)}}class y{constructor(e){this._actual=e,this.type=11}static create(e){return new y(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class m{constructor(e,t){this.key=e,this.value=t,this.type=5}static create(e,t){if("boolean"==typeof t)return t?v.create(e):p.create(e);const i=a.get(e);if("boolean"==typeof i){return t===(i?"true":"false")?h.INSTANCE:d.INSTANCE}return new m(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return e.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return g.create(this.key,this.value)}}class v{constructor(e){this.key=e,this.type=3}static create(e){const t=a.get(e);return"boolean"==typeof t?t?h.INSTANCE:d.INSTANCE:new v(e)}cmp(e){return e.type!==this.type?this.type-e.type:D(this.key,e.key)}equals(e){return e.type===this.type&&this.key===e.key}evaluate(e){return!e.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return p.create(this.key)}}class _{constructor(e,t){this.key=e,this.value=t,this.type=12}static create(e,t){return new _(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))>parseFloat(this.value)}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return b.create(this.key,this.value)}}class C{constructor(e,t){this.key=e,this.value=t,this.type=13}static create(e,t){return new C(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))>=parseFloat(this.value)}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return S.create(this.key,this.value)}}class S{constructor(e,t){this.key=e,this.value=t,this.type=14}static create(e,t){return new S(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))<parseFloat(this.value)}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return C.create(this.key,this.value)}}class b{constructor(e,t){this.key=e,this.value=t,this.type=15}static create(e,t){return new b(e,t)}cmp(e){return e.type!==this.type?this.type-e.type:M(this.key,this.value,e.key,e.value)}equals(e){return e.type===this.type&&(this.key===e.key&&this.value===e.value)}evaluate(e){return parseFloat(e.getValue(this.key))<=parseFloat(this.value)}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return _.create(this.key,this.value)}}class w{constructor(e,t){this.key=e,this.regexp=t,this.type=7}static create(e,t){return new w(e,t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.key<e.key)return-1;if(this.key>e.key)return 1;const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return t<i?-1:t>i?1:0}equals(e){if(e.type===this.type){const t=this.regexp?this.regexp.source:"",i=e.regexp?e.regexp.source:"";return this.key===e.key&&t===i}return!1}evaluate(e){let t=e.getValue(this.key);return!!this.regexp&&this.regexp.test(t)}serialize(){const e=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${e}`}keys(){return[this.key]}negate(){return k.create(this)}}class k{constructor(e){this._actual=e,this.type=8}static create(e){return new k(e)}cmp(e){return e.type!==this.type?this.type-e.type:this._actual.cmp(e._actual)}equals(e){return e.type===this.type&&this._actual.equals(e._actual)}evaluate(e){return!this._actual.evaluate(e)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}class x{constructor(e){this.expr=e,this.type=6}static create(e){return x._normalizeArr(e)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=u(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].evaluate(e))return!1;return!0}static _normalizeArr(e){const t=[];let i=!1;for(const n of e)if(n)if(1!==n.type){if(0===n.type)return h.INSTANCE;6!==n.type?t.push(n):t.push(...n.expr)}else i=!0;if(0===t.length&&i)return d.INSTANCE;if(0!==t.length){if(1===t.length)return t[0];for(t.sort(u);t.length>1;){const e=t[t.length-1];if(9!==e.type)break;t.pop();const i=t.pop(),n=O.create(e.expr.map((e=>x.create([e,i]))));n&&(t.push(n),t.sort(u))}return 1===t.length?t[0]:new x(t)}}serialize(){return this.expr.map((e=>e.serialize())).join(" && ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let t of this.expr)e.push(t.negate());return O.create(e)}}class O{constructor(e){this.expr=e,this.type=9}static create(e){const t=O._normalizeArr(e);if(0!==t.length)return 1===t.length?t[0]:new O(t)}cmp(e){if(e.type!==this.type)return this.type-e.type;if(this.expr.length<e.expr.length)return-1;if(this.expr.length>e.expr.length)return 1;for(let t=0,i=this.expr.length;t<i;t++){const i=u(this.expr[t],e.expr[t]);if(0!==i)return i}return 0}equals(e){if(e.type===this.type){if(this.expr.length!==e.expr.length)return!1;for(let t=0,i=this.expr.length;t<i;t++)if(!this.expr[t].equals(e.expr[t]))return!1;return!0}return!1}evaluate(e){for(let t=0,i=this.expr.length;t<i;t++)if(this.expr[t].evaluate(e))return!0;return!1}static _normalizeArr(e){let t=[],i=!1;if(e){for(let n=0,s=e.length;n<s;n++){const s=e[n];if(s)if(0!==s.type){if(1===s.type)return[d.INSTANCE];9!==s.type?t.push(s):t=t.concat(s.expr)}else i=!0}if(0===t.length&&i)return[h.INSTANCE];t.sort(u)}return t}serialize(){return this.expr.map((e=>e.serialize())).join(" || ")}keys(){const e=[];for(let t of this.expr)e.push(...t.keys());return e}negate(){let e=[];for(let t of this.expr)e.push(t.negate());const t=e=>9===e.type?e.expr:[e];for(;e.length>1;){const i=e.shift(),n=e.shift(),s=[];for(const e of t(i))for(const i of t(n))s.push(l.and(e,i));e.unshift(l.or(...s))}return e[0]}}class K extends p{constructor(e,t,i){super(e),this._defaultValue=t,"object"==typeof i?K._info.push(Object.assign(Object.assign({},i),{key:e})):!0!==i&&K._info.push({key:e,description:i,type:null!=t?typeof t:void 0})}static all(){return K._info.values()}bindTo(e){return e.createKey(this.key,this._defaultValue)}getValue(e){return e.getContextKeyValue(this.key)}toNegated(){return l.not(this.key)}isEqualTo(e){return l.equals(this.key,e)}}K._info=[];const A=(0,s.yh)("contextKeyService"),I="setContext";function D(e,t){return e<t?-1:e>t?1:0}function M(e,t,i,n){return e<i?-1:e>i?1:t<n?-1:t>n?1:0}},39282:function(e,t,i){i.d(t,{c:function(){return o},d:function(){return a}});var n=i(63580),s=i(38819),r=i(1432);const o=new s.uy("isWindows",r.ED,(0,n.N)("isWindows","Whether the operating system is Windows")),a="inputFocus"},36744:function(e,t,i){i.d(t,{L:function(){return v}});var n=i(74741),s=i(5976),r=i(68272),o=i(65321),a=i(88810),c=i(23938),l=i(17301);class u{constructor(e,t,i,n,s){this.contextViewService=e,this.telemetryService=t,this.notificationService=i,this.keybindingService=n,this.themeService=s,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(e){this.options=e}showContextMenu(e){const t=e.getActions();if(!t.length)return;let i;this.focusToReturn=document.activeElement;let l=(0,o.Re)(e.domForShadowRoot)?e.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>e.getAnchor(),canRelayout:!1,anchorAlignment:e.anchorAlignment,anchorAxisAlignment:e.anchorAxisAlignment,render:l=>{let u=e.getMenuClassName?e.getMenuClassName():"";u&&(l.className+=" "+u),this.options.blockMouse&&(this.block=l.appendChild((0,o.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,o.nm)(this.block,o.tw.MOUSE_DOWN,(e=>e.stopPropagation())));const h=new s.SL,d=e.actionRunner||new n.Wi;return d.onBeforeRun(this.onActionRun,this,h),d.onDidRun(this.onDidActionRun,this,h),i=new r.v2(l,t,{actionViewItemProvider:e.getActionViewItem,context:e.getActionsContext?e.getActionsContext():null,actionRunner:d,getKeyBinding:e.getKeyBinding?e.getKeyBinding:e=>this.keybindingService.lookupKeybinding(e.id)}),h.add((0,a.tj)(i,this.themeService)),i.onDidCancel((()=>this.contextViewService.hideContextView(!0)),null,h),i.onDidBlur((()=>this.contextViewService.hideContextView(!0)),null,h),h.add((0,o.nm)(window,o.tw.BLUR,(()=>this.contextViewService.hideContextView(!0)))),h.add((0,o.nm)(window,o.tw.MOUSE_DOWN,(e=>{if(e.defaultPrevented)return;let t=new c.n(e),i=t.target;if(!t.rightButton){for(;i;){if(i===l)return;i=i.parentElement}this.contextViewService.hideContextView(!0)}}))),(0,s.F8)(h,i)},focus:()=>{i&&i.focus(!!e.autoSelectFirstItem)},onHide:t=>{e.onHide&&e.onHide(!!t),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},l,!!l)}onActionRun(e){this.telemetryService.publicLog2("workbenchActionExecuted",{id:e.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(e){e.error&&!(0,l.VV)(e.error)&&this.notificationService.error(e.error)}}var h=i(5606),d=i(10829),p=i(59422),g=i(97781),f=i(91847),y=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},m=function(e,t){return function(i,n){t(i,n,e)}};let v=class extends s.JT{constructor(e,t,i,n,s){super(),this.contextMenuHandler=new u(i,e,t,n,s)}configure(e){this.contextMenuHandler.configure(e)}showContextMenu(e){this.contextMenuHandler.showContextMenu(e),o._q.getInstance().resetKeyStatus()}};v=y([m(0,d.b),m(1,p.lT),m(2,h.u),m(3,f.d),m(4,g.XE)],v)},5606:function(e,t,i){i.d(t,{u:function(){return s},i:function(){return r}});var n=i(72065);const s=(0,n.yh)("contextViewService"),r=(0,n.yh)("contextMenuService")},44995:function(e,t,i){i.d(t,{g:function(){return c}});var n=i(75636),s=i(5976),r=i(34277),o=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},a=function(e,t){return function(i,n){t(i,n,e)}};let c=class extends s.JT{constructor(e){super(),this.layoutService=e,this.currentViewDisposable=s.JT.None,this.container=e.container,this.contextView=this._register(new n.Ry(this.container,1)),this.layout(),this._register(e.onDidLayout((()=>this.layout())))}setContainer(e,t){this.contextView.setContainer(e,t||1)}showContextView(e,t,i){t?t!==this.container&&(this.container=t,this.setContainer(t,i?3:2)):this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.contextView.show(e);const n=(0,s.OF)((()=>{this.currentViewDisposable===n&&this.hideContextView()}));return this.currentViewDisposable=n,n}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(e){this.contextView.hide(e)}};c=o([a(0,r.F)],c)},28820:function(e,t,i){i.d(t,{S:function(){return n}});const n=(0,i(72065).yh)("dialogService")},22844:function(e,t,i){var n;i.d(t,{Y:function(){return n}}),function(e){e[e.API=0]="API",e[e.USER=1]="USER"}(n||(n={}))},90553:function(e,t,i){i.d(t,{k:function(){return n}});class n{constructor(e){this.value=e,this._lower=e.toLowerCase()}static toKey(e){return"string"==typeof e?e.toLowerCase():e._lower}}},75761:function(e,t,i){var n;i.d(t,{R:function(){return n}}),function(e){e[e.FILE=0]="FILE",e[e.FOLDER=1]="FOLDER",e[e.ROOT_FOLDER=2]="ROOT_FOLDER"}(n||(n={}))},97108:function(e,t,i){i.d(t,{M:function(){return n}});class n{constructor(e,t=[],i=!1){this.ctor=e,this.staticArguments=t,this.supportsDelayedInstantiation=i}}},65026:function(e,t,i){i.d(t,{z:function(){return r},d:function(){return o}});var n=i(97108);const s=[];function r(e,t,i){t instanceof n.M||(t=new n.M(t,[],i)),s.push([e,t])}function o(){return s}},72065:function(e,t,i){var n;i.d(t,{I8:function(){return n},TG:function(){return s},yh:function(){return o},jt:function(){return a}}),function(e){e.serviceIds=new Map,e.DI_TARGET="$di$target",e.DI_DEPENDENCIES="$di$dependencies",e.getServiceDependencies=function(t){return t[e.DI_DEPENDENCIES]||[]}}(n||(n={}));const s=o("instantiationService");function r(e,t,i,s){t[n.DI_TARGET]===t?t[n.DI_DEPENDENCIES].push({id:e,index:i,optional:s}):(t[n.DI_DEPENDENCIES]=[{id:e,index:i,optional:s}],t[n.DI_TARGET]=t)}function o(e){if(n.serviceIds.has(e))return n.serviceIds.get(e);const t=function(e,i,n){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");r(t,e,n,!1)};return t.toString=()=>e,n.serviceIds.set(e,t),t}function a(e){return function(t,i,n){if(3!==arguments.length)throw new Error("@optional-decorator can only be used to decorate a parameter");r(e,t,n,!0)}}},22058:function(e,t,i){i.d(t,{F:function(){return h}});var n=i(17301);class s{constructor(e){this.incoming=new Map,this.outgoing=new Map,this.data=e}}class r{constructor(e){this._hashFn=e,this._nodes=new Map}roots(){const e=[];for(let t of this._nodes.values())0===t.outgoing.size&&e.push(t);return e}insertEdge(e,t){const i=this.lookupOrInsertNode(e),n=this.lookupOrInsertNode(t);i.outgoing.set(this._hashFn(t),n),n.incoming.set(this._hashFn(e),i)}removeNode(e){const t=this._hashFn(e);this._nodes.delete(t);for(let e of this._nodes.values())e.outgoing.delete(t),e.incoming.delete(t)}lookupOrInsertNode(e){const t=this._hashFn(e);let i=this._nodes.get(t);return i||(i=new s(e),this._nodes.set(t,i)),i}isEmpty(){return 0===this._nodes.size}toString(){let e=[];for(let[t,i]of this._nodes)e.push(`${t}, (incoming)[${[...i.incoming.keys()].join(", ")}], (outgoing)[${[...i.outgoing.keys()].join(",")}]`);return e.join("\n")}findCycleSlow(){for(let[e,t]of this._nodes){const i=new Set([e]),n=this._findCycle(t,i);if(n)return n}}_findCycle(e,t){for(let[i,n]of e.outgoing){if(t.has(i))return[...t,i].join(" -> ");t.add(i);const e=this._findCycle(n,t);if(e)return e;t.delete(i)}}}var o=i(97108),a=i(72065),c=i(60972),l=i(15393);class u extends Error{constructor(e){var t;super("cyclic dependency between services"),this.message=null!==(t=e.findCycleSlow())&&void 0!==t?t:`UNABLE to detect cycle, dumping graph: \n${e.toString()}`}}class h{constructor(e=new c.y,t=!1,i){this._activeInstantiations=new Set,this._services=e,this._strict=t,this._parent=i,this._services.set(a.TG,this)}createChild(e){return new h(e,this._strict,this)}invokeFunction(e,...t){let i=d.traceInvocation(e),s=!1;try{return e({get:(e,t)=>{if(s)throw(0,n.L6)("service accessor is only valid during the invocation of its target method");const r=this._getOrCreateServiceInstance(e,i);if(!r&&t!==a.jt)throw new Error(`[invokeFunction] unknown service '${e}'`);return r}},...t)}finally{s=!0,i.stop()}}createInstance(e,...t){let i,n;return e instanceof o.M?(i=d.traceCreation(e.ctor),n=this._createInstance(e.ctor,e.staticArguments.concat(t),i)):(i=d.traceCreation(e),n=this._createInstance(e,t,i)),i.stop(),n}_createInstance(e,t=[],i){let n=a.I8.getServiceDependencies(e).sort(((e,t)=>e.index-t.index)),s=[];for(const t of n){let n=this._getOrCreateServiceInstance(t.id,i);if(!n&&this._strict&&!t.optional)throw new Error(`[createInstance] ${e.name} depends on UNKNOWN service ${t.id}.`);s.push(n)}let r=n.length>0?n[0].index:t.length;if(t.length!==r){console.warn(`[createInstance] First service dependency of ${e.name} at position ${r+1} conflicts with ${t.length} static arguments`);let i=r-t.length;t=i>0?t.concat(new Array(i)):t.slice(0,r)}return new e(...[...t,...s])}_setServiceInstance(e,t){if(this._services.get(e)instanceof o.M)this._services.set(e,t);else{if(!this._parent)throw new Error("illegalState - setting UNKNOWN service instance");this._parent._setServiceInstance(e,t)}}_getServiceInstanceOrDescriptor(e){let t=this._services.get(e);return!t&&this._parent?this._parent._getServiceInstanceOrDescriptor(e):t}_getOrCreateServiceInstance(e,t){let i=this._getServiceInstanceOrDescriptor(e);return i instanceof o.M?this._safeCreateAndCacheServiceInstance(e,i,t.branch(e,!0)):(t.branch(e,!1),i)}_safeCreateAndCacheServiceInstance(e,t,i){if(this._activeInstantiations.has(e))throw new Error(`illegal state - RECURSIVELY instantiating service '${e}'`);this._activeInstantiations.add(e);try{return this._createAndCacheServiceInstance(e,t,i)}finally{this._activeInstantiations.delete(e)}}_createAndCacheServiceInstance(e,t,i){const n=new r((e=>e.id.toString()));let s=0;const c=[{id:e,desc:t,_trace:i}];for(;c.length;){const t=c.pop();if(n.lookupOrInsertNode(t),s++>1e3)throw new u(n);for(let i of a.I8.getServiceDependencies(t.desc.ctor)){let s=this._getServiceInstanceOrDescriptor(i.id);if(s||i.optional||console.warn(`[createInstance] ${e} depends on ${i.id} which is NOT registered.`),s instanceof o.M){const e={id:i.id,desc:s,_trace:t._trace.branch(i.id,!0)};n.insertEdge(t,e),c.push(e)}}}for(;;){const e=n.roots();if(0===e.length){if(!n.isEmpty())throw new u(n);break}for(const{data:t}of e){if(this._getServiceInstanceOrDescriptor(t.id)instanceof o.M){const e=this._createServiceInstanceWithOwner(t.id,t.desc.ctor,t.desc.staticArguments,t.desc.supportsDelayedInstantiation,t._trace);this._setServiceInstance(t.id,e)}n.removeNode(t)}}return this._getServiceInstanceOrDescriptor(e)}_createServiceInstanceWithOwner(e,t,i=[],n,s){if(this._services.get(e)instanceof o.M)return this._createServiceInstance(t,i,n,s);if(this._parent)return this._parent._createServiceInstanceWithOwner(e,t,i,n,s);throw new Error(`illegalState - creating UNKNOWN service instance ${t.name}`)}_createServiceInstance(e,t=[],i,n){if(i){const i=new l.Ue((()=>this._createInstance(e,t,n)));return new Proxy(Object.create(null),{get(e,t){if(t in e)return e[t];let n=i.value,s=n[t];return"function"!=typeof s||(s=s.bind(n),e[t]=s),s},set:(e,t,n)=>(i.value[t]=n,!0)})}return this._createInstance(e,t,n)}}class d{constructor(e,t){this.type=e,this.name=t,this._start=Date.now(),this._dep=[]}static traceInvocation(e){return d._None}static traceCreation(e){return d._None}branch(e,t){let i=new d(2,e.toString());return this._dep.push([e,t,i]),i}stop(){let e=Date.now()-this._start;d._totals+=e;let t=!1;let i=[`${0===this.type?"CREATE":"CALL"} ${this.name}`,`${function e(i,n){let s=[],r=new Array(i+1).join("\t");for(const[o,a,c]of n._dep)if(a&&c){t=!0,s.push(`${r}CREATES -> ${o}`);let n=e(i+1,c);n&&s.push(n)}else s.push(`${r}uses -> ${o}`);return s.join("\n")}(1,this)}`,`DONE, took ${e.toFixed(2)}ms (grand total ${d._totals.toFixed(2)}ms)`];(e>2||t)&&console.log(i.join("\n"))}}d._None=new class extends d{constructor(){super(-1,null)}stop(){}branch(){return this}},d._totals=0},60972:function(e,t,i){i.d(t,{y:function(){return n}});class n{constructor(...e){this._entries=new Map;for(let[t,i]of e)this.set(t,i)}set(e,t){const i=this._entries.get(e);return this._entries.set(e,t),i}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}},81294:function(e,t,i){i.d(t,{I:function(){return r}});var n=i(89872),s=i(4669);const r={JSONContribution:"base.contributions.json"};const o=new class{constructor(){this._onDidChangeSchema=new s.Q5,this.schemasById={}}registerSchema(e,t){var i;this.schemasById[(i=e,i.length>0&&"#"===i.charAt(i.length-1)?i.substring(0,i.length-1):i)]=t,this._onDidChangeSchema.fire(e)}notifySchemaChanged(e){this._onDidChangeSchema.fire(e)}};n.B.add(r.JSONContribution,o)},25244:function(e,t,i){i.d(t,{F:function(){return a}});var n=i(63580),s=i(15393),r=i(4669),o=i(5976);class a extends o.JT{constructor(e,t,i,n,o){super(),this._contextKeyService=e,this._commandService=t,this._telemetryService=i,this._notificationService=n,this._logService=o,this._onDidUpdateKeybindings=this._register(new r.Q5),this._currentChord=null,this._currentChordChecker=new s.zh,this._currentChordStatusMessage=null,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new s._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:r.ju.None}dispose(){super.dispose()}_log(e){this._logging&&this._logService.info(`[KeybindingService]: ${e}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(e,t){const i=this._getResolver().lookupPrimaryKeybinding(e,t||this._contextKeyService);if(i)return i.resolvedKeybinding}dispatchEvent(e,t){return this._dispatch(e,t)}softDispatch(e,t){const i=this.resolveKeyboardEvent(e);if(i.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[n]=i.getDispatchParts();if(null===n)return null;const s=this._contextKeyService.getContext(t),r=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(s,r,n)}_enterChordMode(e,t){this._currentChord={keypress:e,label:t},this._currentChordStatusMessage=this._notificationService.status(n.N("first.chord","({0}) was pressed. Waiting for second key of chord...",t));const i=Date.now();this._currentChordChecker.cancelAndSet((()=>{this._documentHasFocus()?Date.now()-i>5e3&&this._leaveChordMode():this._leaveChordMode()}),500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(e,t){return this._doDispatch(this.resolveKeyboardEvent(e),t,!1)}_singleModifierDispatch(e,t){const i=this.resolveKeyboardEvent(e),[n]=i.getSingleModifierDispatchParts();return null!==n&&null===this._currentSingleModifier?(this._log(`+ Storing single modifier for possible chord ${n}.`),this._currentSingleModifier=n,this._currentSingleModifierClearTimeout.cancelAndSet((()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null}),300),!1):null!==n&&n===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${n} ${n}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(i,t,!0)):(this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1)}_doDispatch(e,t,i=!1){let s=!1;if(e.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let r=null,o=null;if(i){const[t]=e.getSingleModifierDispatchParts();r=t,o=t}else[r]=e.getDispatchParts(),o=this._currentChord?this._currentChord.keypress:null;if(null===r)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),s;const a=this._contextKeyService.getContext(t),c=e.getLabel(),l=this._getResolver().resolve(a,o,r);return this._logService.trace("KeybindingService#dispatch",c,null==l?void 0:l.commandId),l&&l.enterChord?(s=!0,this._enterChordMode(r,c),s):(this._currentChord&&(l&&l.commandId||(this._notificationService.status(n.N("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,c),{hideAfter:1e4}),s=!0)),this._leaveChordMode(),l&&l.commandId&&(l.bubble||(s=!0),void 0===l.commandArgs?this._commandService.executeCommand(l.commandId).then(void 0,(e=>this._notificationService.warn(e))):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,(e=>this._notificationService.warn(e))),this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding"})),s)}mightProducePrintableCharacter(e){return!e.ctrlKey&&!e.metaKey&&(e.keyCode>=31&&e.keyCode<=56||e.keyCode>=21&&e.keyCode<=30)}}},91847:function(e,t,i){i.d(t,{d:function(){return n}});const n=(0,i(72065).yh)("keybindingService")},38439:function(e,t,i){i.d(t,{s:function(){return n}});class n{constructor(e,t,i){this._log=i,this._defaultKeybindings=e,this._defaultBoundCommands=new Map;for(let t=0,i=e.length;t<i;t++){const i=e[t].command;i&&this._defaultBoundCommands.set(i,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=n.combine(e,t);for(let e=0,t=this._keybindings.length;e<t;e++){let t=this._keybindings[e];0!==t.keypressParts.length&&(t.when&&0===t.when.type||this._addKeyPress(t.keypressParts[0],t))}}static _isTargetedForRemoval(e,t,i,n,s){if(e.command!==n)return!1;if(t&&e.keypressParts[0]!==t)return!1;if(i&&e.keypressParts[1]!==i)return!1;if(s){if(!e.when)return!1;if(!s.equals(e.when))return!1}return!0}static combine(e,t){e=e.slice(0);let i=[];for(const n of t){if(!n.command||0===n.command.length||"-"!==n.command.charAt(0)){i.push(n);continue}const t=n.command.substr(1),s=n.keypressParts[0],r=n.keypressParts[1],o=n.when;for(let i=e.length-1;i>=0;i--)this._isTargetedForRemoval(e[i],s,r,t,o)&&e.splice(i,1)}return e.concat(i)}_addKeyPress(e,t){const i=this._map.get(e);if(void 0===i)return this._map.set(e,[t]),void this._addToLookupMap(t);for(let e=i.length-1;e>=0;e--){let s=i[e];if(s.command===t.command)continue;const r=s.keypressParts.length>1,o=t.keypressParts.length>1;r&&o&&s.keypressParts[1]!==t.keypressParts[1]||n.whenIsEntirelyIncluded(s.when,t.when)&&this._removeFromLookupMap(s)}i.push(t),this._addToLookupMap(t)}_addToLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);void 0===t?(t=[e],this._lookupMap.set(e.command,t)):t.push(e)}_removeFromLookupMap(e){if(!e.command)return;let t=this._lookupMap.get(e.command);if(void 0!==t)for(let i=0,n=t.length;i<n;i++)if(t[i]===e)return void t.splice(i,1)}static whenIsEntirelyIncluded(e,t){return!t||1===t.type||!(!e||1===e.type)&&this._implies(e,t)}static _implies(e,t){const i=e=>9===e.type?e.expr:[e];let n=i(e.negate()).concat(i(t));for(let e=0;e<n.length;e++){const t=n[e].negate();for(let i=e+1;i<n.length;i++){const e=n[i];if(t.equals(e))return!0}}return!1}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(e,t){const i=this._lookupMap.get(e);if(void 0===i||0===i.length)return null;if(1===i.length)return i[0];for(let e=i.length-1;e>=0;e--){const n=i[e];if(t.contextMatchesRules(n.when))return n}return i[i.length-1]}resolve(e,t,i){this._log(`| Resolving ${i}${t?` chorded from ${t}`:""}`);let n=null;if(null!==t){const e=this._map.get(t);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=[];for(let t=0,s=e.length;t<s;t++){let s=e[t];s.keypressParts[1]===i&&n.push(s)}}else{const e=this._map.get(i);if(void 0===e)return this._log("\\ No keybinding entries."),null;n=e}let o=this._findCommand(e,n);return o?null===t&&o.keypressParts.length>1&&null!==o.keypressParts[1]?(this._log(`\\ From ${n.length} keybinding entries, matched chord, when: ${s(o.when)}, source: ${r(o)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${n.length} keybinding entries, matched ${o.command}, when: ${s(o.when)}, source: ${r(o)}.`),{enterChord:!1,leaveChord:o.keypressParts.length>1,commandId:o.command,commandArgs:o.commandArgs,bubble:o.bubble}):(this._log(`\\ From ${n.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(e,t){for(let i=t.length-1;i>=0;i--){let s=t[i];if(n.contextMatchesRules(e,s.when))return s}return null}static contextMatchesRules(e,t){return!t||t.evaluate(e)}}function s(e){return e?`${e.serialize()}`:"no when condition"}function r(e){return e.extensionId?e.isBuiltinExtension?`built-in extension ${e.extensionId}`:`user extension ${e.extensionId}`:e.isDefault?"built-in":"user"}},49989:function(e,t,i){i.d(t,{W:function(){return c}});var n=i(22258),s=i(1432),r=i(94565),o=i(89872);class a{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(e){if(1===s.OS){if(e&&e.win)return e.win}else if(2===s.OS){if(e&&e.mac)return e.mac}else if(e&&e.linux)return e.linux;return e}registerKeybindingRule(e){const t=a.bindToCurrentPlatform(e);if(t&&t.primary){const i=(0,n.gm)(t.primary,s.OS);i&&this._registerDefaultKeybinding(i,e.id,e.args,e.weight,0,e.when)}if(t&&Array.isArray(t.secondary))for(let i=0,r=t.secondary.length;i<r;i++){const r=t.secondary[i],o=(0,n.gm)(r,s.OS);o&&this._registerDefaultKeybinding(o,e.id,e.args,e.weight,-i-1,e.when)}}registerCommandAndKeybindingRule(e){this.registerKeybindingRule(e),r.P.registerCommand(e)}static _mightProduceChar(e){return e>=21&&e<=30||(e>=31&&e<=56||(80===e||81===e||82===e||83===e||84===e||85===e||86===e||110===e||111===e||87===e||88===e||89===e||90===e||91===e||92===e))}_assertNoCtrlAlt(e,t){e.ctrlKey&&e.altKey&&!e.metaKey&&a._mightProduceChar(e.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",e," for ",t)}_registerDefaultKeybinding(e,t,i,n,r,o){1===s.OS&&this._assertNoCtrlAlt(e.parts[0],t),this._coreKeybindings.push({keybinding:e,command:t,commandArgs:i,when:o,weight1:n,weight2:r,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(l)),this._cachedMergedKeybindings.slice(0)}}const c=new a;function l(e,t){return e.weight1!==t.weight1?e.weight1-t.weight1:e.command<t.command?-1:e.command>t.command?1:e.weight2-t.weight2}o.B.add("platform.keybindingsRegistry",c)},14923:function(e,t,i){i.d(t,{M:function(){return n}});class n{constructor(e,t,i,n,r,o,a){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=e,this.keypressParts=e?s(e.getDispatchParts()):[],e&&0===this.keypressParts.length&&(this.keypressParts=s(e.getSingleModifierDispatchParts())),this.bubble=!!t&&94===t.charCodeAt(0),this.command=this.bubble?t.substr(1):t,this.commandArgs=i,this.when=n,this.isDefault=r,this.extensionId=o,this.isBuiltinExtension=a}}function s(e){let t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];if(!n)return t;t.push(n)}return t}},54610:function(e,t,i){i.d(t,{j:function(){return a}});var n=i(22258),s=i(17301),r=i(8030);class o extends n.f1{constructor(e,t){if(super(),0===t.length)throw(0,s.b1)("parts");this._os=e,this._parts=t}getLabel(){return r.xo.toLabel(this._os,this._parts,(e=>this._getLabel(e)))}getAriaLabel(){return r.X4.toLabel(this._os,this._parts,(e=>this._getAriaLabel(e)))}isChord(){return this._parts.length>1}getParts(){return this._parts.map((e=>this._getPart(e)))}_getPart(e){return new n.BQ(e.ctrlKey,e.shiftKey,e.altKey,e.metaKey,this._getLabel(e),this._getAriaLabel(e))}getDispatchParts(){return this._parts.map((e=>this._getDispatchPart(e)))}getSingleModifierDispatchParts(){return this._parts.map((e=>this._getSingleModifierDispatchPart(e)))}}class a extends o{constructor(e,t){super(t,e.parts)}_keyCodeToUILabel(e){if(2===this._os)switch(e){case 15:return"";case 16:return"";case 17:return"";case 18:return""}return n.kL.toString(e)}_getLabel(e){return e.isDuplicateModifierCase()?"":this._keyCodeToUILabel(e.keyCode)}_getAriaLabel(e){return e.isDuplicateModifierCase()?"":n.kL.toString(e.keyCode)}_getDispatchPart(e){return a.getDispatchStr(e)}static getDispatchStr(e){if(e.isModifierKey())return null;let t="";return e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),e.altKey&&(t+="alt+"),e.metaKey&&(t+="meta+"),t+=n.kL.toString(e.keyCode),t}_getSingleModifierDispatchPart(e){return 5!==e.keyCode||e.shiftKey||e.altKey||e.metaKey?4!==e.keyCode||e.ctrlKey||e.altKey||e.metaKey?6!==e.keyCode||e.ctrlKey||e.shiftKey||e.metaKey?57!==e.keyCode||e.ctrlKey||e.shiftKey||e.altKey?null:"meta":"alt":"shift":"ctrl"}}},44349:function(e,t,i){i.d(t,{e:function(){return n}});const n=(0,i(72065).yh)("labelService")},34277:function(e,t,i){i.d(t,{F:function(){return n}});const n=(0,i(72065).yh)("layoutService")},32414:function(e,t,i){i.d(t,{Lw:function(){return x},XN:function(){return O},CQ:function(){return I},ev:function(){return X},ls:function(){return ae}});var n=i(65321),s=i(95210),r=i(43799),o=i(4669),a=i(5976),c=i(63580),l=i(33108),u=i(23193),h=i(38819),d=i(72065),p=i(91847),g=i(89872),f=i(88810),y=i(97781),m=i(39282),v=i(4903),_=i(6126),C=i(32481),S=i(31106),b=i(1812),w=function(e,t,i,n){var s,r=arguments.length,o=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(r<3?s(o):r>3?s(t,i,o):s(t,i))||o);return r>3&&o&&Object.defineProperty(t,i,o),o},k=function(e,t){return function(i,n){t(i,n,e)}};const x=(0,d.yh)("listService");let O=class{constructor(e){this._themeService=e,this.disposables=new a.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}register(e,t){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const e=new r.wD((0,n.dS)(),"");this.disposables.add((0,f.Jl)(e,this._themeService))}if(this.lists.some((t=>t.widget===e)))throw new Error("Cannot register the same widget multiple times");const i={widget:e,extraContextKeys:t};return this.lists.push(i),e.getHTMLElement()===document.activeElement&&(this._lastFocusedWidget=e),(0,a.F8)(e.onDidFocus((()=>this._lastFocusedWidget=e)),(0,a.OF)((()=>this.lists.splice(this.lists.indexOf(i),1))),e.onDidDispose((()=>{this.lists=this.lists.filter((e=>e!==i)),this._lastFocusedWidget===e&&(this._lastFocusedWidget=void 0)})))}dispose(){this.disposables.dispose()}};O=w([k(0,y.XE)],O);const K=new h.uy("listFocus",!0),A=new h.uy("listSupportsMultiselect",!0),I=h.Ao.and(K,h.Ao.not(m.d)),D=new h.uy("listHasSelectionOrFocus",!1),M=new h.uy("listDoubleSelection",!1),E=new h.uy("listMultiSelection",!1),N=new h.uy("listSelectionNavigation",!1),V="listAutomaticKeyboardNavigation";function T(e,t){const i=e.createScoped(t.getHTMLElement());return K.bindTo(i),i}const P="workbench.list.multiSelectModifier",j="workbench.list.openMode",R="workbench.list.horizontalScrolling",F="workbench.list.keyboardNavigation",$="workbench.list.automaticKeyboardNavigation",z="workbench.tree.indent",L="workbench.tree.renderIndentGuides",B="workbench.list.smoothScrolling",U="workbench.list.mouseWheelScrollSensitivity",W="workbench.list.fastScrollSensitivity",q="workbench.tree.expandMode";function H(e){return"alt"===e.getValue(P)}class J extends a.JT{constructor(e){super(),this.configurationService=e,this.useAltAsMultipleSelectionModifier=H(e),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(P)&&(this.useAltAsMultipleSelectionModifier=H(this.configurationService))})))}isSelectionSingleChangeEvent(e){return this.useAltAsMultipleSelectionModifier?e.browserEvent.altKey:(0,r.Zo)(e)}isSelectionRangeChangeEvent(e){return(0,r.wn)(e)}}function Y(e,t,i){var n;const s=new a.SL;return[Object.assign(Object.assign({},e),{keyboardNavigationDelegate:{mightProducePrintableCharacter:e=>i.mightProducePrintableCharacter(e)},smoothScrolling:Boolean(t.getValue(B)),mouseWheelScrollSensitivity:t.getValue(U),fastScrollSensitivity:t.getValue(W),multipleSelectionController:null!==(n=e.multipleSelectionController)&&void 0!==n?n:s.add(new J(t))}),s]}let X=class extends r.aV{constructor(e,t,i,n,s,r,o,a,c,l){const u=void 0!==s.horizontalScrolling?s.horizontalScrolling:Boolean(c.getValue(R)),[h,d]=Y(s,c,l);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,f.o)(a.getColorTheme(),f.O2)),h),{horizontalScrolling:u})),this.disposables.add(d),this.contextKeyService=T(r,this),this.themeService=a,this.listSupportsMultiSelect=A.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport);N.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this.listHasSelectionOrFocus=D.bindTo(this.contextKeyService),this.listDoubleSelection=M.bindTo(this.contextKeyService),this.listMultiSelection=E.bindTo(this.contextKeyService),this.horizontalScrolling=s.horizontalScrolling,this._useAltAsMultipleSelectionModifier=H(c),this.disposables.add(this.contextKeyService),this.disposables.add(o.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(c.onDidChangeConfiguration((e=>{e.affectsConfiguration(P)&&(this._useAltAsMultipleSelectionModifier=H(c));let t={};if(e.affectsConfiguration(R)&&void 0===this.horizontalScrolling){const e=Boolean(c.getValue(R));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(B)){const e=Boolean(c.getValue(B));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(U)){const e=c.getValue(U);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(W)){const e=c.getValue(W);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new ee(this,Object.assign({configurationService:c},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,f.Jl)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),super.dispose()}};X=w([k(5,h.i6),k(6,x),k(7,y.XE),k(8,l.Ui),k(9,p.d)],X);let G=class extends s.j{constructor(e,t,i,n,s,r,o,c,l,u){const h=void 0!==s.horizontalScrolling?s.horizontalScrolling:Boolean(l.getValue(R)),[d,p]=Y(s,l,u);super(e,t,i,n,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,f.o)(c.getColorTheme(),f.O2)),d),{horizontalScrolling:h})),this.disposables=new a.SL,this.disposables.add(p),this.contextKeyService=T(r,this),this.themeService=c,this.horizontalScrolling=s.horizontalScrolling,this.listSupportsMultiSelect=A.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==s.multipleSelectionSupport);N.bindTo(this.contextKeyService).set(Boolean(s.selectionNavigation)),this._useAltAsMultipleSelectionModifier=H(l),this.disposables.add(this.contextKeyService),this.disposables.add(o.register(this)),s.overrideStyles&&this.updateStyles(s.overrideStyles),s.overrideStyles&&this.disposables.add((0,f.Jl)(this,c,s.overrideStyles)),this.disposables.add(l.onDidChangeConfiguration((e=>{e.affectsConfiguration(P)&&(this._useAltAsMultipleSelectionModifier=H(l));let t={};if(e.affectsConfiguration(R)&&void 0===this.horizontalScrolling){const e=Boolean(l.getValue(R));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(B)){const e=Boolean(l.getValue(B));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(U)){const e=l.getValue(U);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(W)){const e=l.getValue(W);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new ee(this,Object.assign({configurationService:l},s)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,f.Jl)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};G=w([k(5,h.i6),k(6,x),k(7,y.XE),k(8,l.Ui),k(9,p.d)],G);let Q=class extends b.i{constructor(e,t,i,n,s,r,o,c,l,u,h){const d=void 0!==r.horizontalScrolling?r.horizontalScrolling:Boolean(u.getValue(R)),[p,g]=Y(r,u,h);super(e,t,i,n,s,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,f.o)(l.getColorTheme(),f.O2)),p),{horizontalScrolling:d})),this.disposables=new a.SL,this.disposables.add(g),this.contextKeyService=T(o,this),this.themeService=l,this.listSupportsMultiSelect=A.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==r.multipleSelectionSupport);N.bindTo(this.contextKeyService).set(Boolean(r.selectionNavigation)),this.listHasSelectionOrFocus=D.bindTo(this.contextKeyService),this.listDoubleSelection=M.bindTo(this.contextKeyService),this.listMultiSelection=E.bindTo(this.contextKeyService),this.horizontalScrolling=r.horizontalScrolling,this._useAltAsMultipleSelectionModifier=H(u),this.disposables.add(this.contextKeyService),this.disposables.add(c.register(this)),r.overrideStyles&&this.updateStyles(r.overrideStyles),this.disposables.add(this.onDidChangeSelection((()=>{const e=this.getSelection(),t=this.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.listHasSelectionOrFocus.set(e.length>0||t.length>0),this.listMultiSelection.set(e.length>1),this.listDoubleSelection.set(2===e.length)}))}))),this.disposables.add(this.onDidChangeFocus((()=>{const e=this.getSelection(),t=this.getFocus();this.listHasSelectionOrFocus.set(e.length>0||t.length>0)}))),this.disposables.add(u.onDidChangeConfiguration((e=>{e.affectsConfiguration(P)&&(this._useAltAsMultipleSelectionModifier=H(u));let t={};if(e.affectsConfiguration(R)&&void 0===this.horizontalScrolling){const e=Boolean(u.getValue(R));t=Object.assign(Object.assign({},t),{horizontalScrolling:e})}if(e.affectsConfiguration(B)){const e=Boolean(u.getValue(B));t=Object.assign(Object.assign({},t),{smoothScrolling:e})}if(e.affectsConfiguration(U)){const e=u.getValue(U);t=Object.assign(Object.assign({},t),{mouseWheelScrollSensitivity:e})}if(e.affectsConfiguration(W)){const e=u.getValue(W);t=Object.assign(Object.assign({},t),{fastScrollSensitivity:e})}Object.keys(t).length>0&&this.updateOptions(t)}))),this.navigator=new te(this,Object.assign({configurationService:u},r)),this.disposables.add(this.navigator)}updateOptions(e){super.updateOptions(e),e.overrideStyles&&this.updateStyles(e.overrideStyles),void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyles(e){var t;null===(t=this._styler)||void 0===t||t.dispose(),this._styler=(0,f.Jl)(this,this.themeService,e)}dispose(){var e;null===(e=this._styler)||void 0===e||e.dispose(),this.disposables.dispose(),super.dispose()}};Q=w([k(6,h.i6),k(7,x),k(8,y.XE),k(9,l.Ui),k(10,p.d)],Q);class Z extends a.JT{constructor(e,t){var i;super(),this.widget=e,this._onDidOpen=this._register(new o.Q5),this.onDidOpen=this._onDidOpen.event,this._register(o.ju.filter(this.widget.onDidChangeSelection,(e=>e.browserEvent instanceof KeyboardEvent))((e=>this.onSelectionFromKeyboard(e)))),this._register(this.widget.onPointer((e=>this.onPointer(e.element,e.browserEvent)))),this._register(this.widget.onMouseDblClick((e=>this.onMouseDblClick(e.element,e.browserEvent)))),"boolean"!=typeof(null==t?void 0:t.openOnSingleClick)&&(null==t?void 0:t.configurationService)?(this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(j)),this._register(null==t?void 0:t.configurationService.onDidChangeConfiguration((()=>{this.openOnSingleClick="doubleClick"!==(null==t?void 0:t.configurationService.getValue(j))})))):this.openOnSingleClick=null===(i=null==t?void 0:t.openOnSingleClick)||void 0===i||i}onSelectionFromKeyboard(e){if(1!==e.elements.length)return;const t=e.browserEvent,i="boolean"!=typeof t.preserveFocus||t.preserveFocus,n="boolean"==typeof t.pinned?t.pinned:!i;this._open(this.getSelectedElement(),i,n,!1,e.browserEvent)}onPointer(e,t){if(!this.openOnSingleClick)return;if(2===t.detail)return;const i=1===t.button,n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!0,i,n,t)}onMouseDblClick(e,t){if(!t)return;const i=t.target;if(i.classList.contains("monaco-tl-twistie")||i.classList.contains("monaco-icon-label")&&i.classList.contains("folder-icon")&&t.offsetX<16)return;const n=t.ctrlKey||t.metaKey||t.altKey;this._open(e,!1,!0,n,t)}_open(e,t,i,n,s){e&&this._onDidOpen.fire({editorOptions:{preserveFocus:t,pinned:i,revealIfVisible:!0},sideBySide:n,element:e,browserEvent:s})}}class ee extends Z{constructor(e,t){super(e,t),this.widget=e}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class te extends Z{constructor(e,t){super(e,t)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ie extends Z{constructor(e,t){super(e,t)}getSelectedElement(){var e;return null!==(e=this.widget.getSelection()[0])&&void 0!==e?e:void 0}}function ne(e,t){let i=!1;return n=>{if(i)return i=!1,!1;const s=t.softDispatch(n,e);return s&&s.enterChord?(i=!0,!1):(i=!1,!0)}}let se=class extends v.H{constructor(e,t,i,n,s,r,o,a,c,l,u){const{options:h,getAutomaticKeyboardNavigation:d,disposable:p}=le(t,s,r,c,l,u);super(e,t,i,n,h),this.disposables.add(p),this.internals=new ue(this,s,d,s.overrideStyles,r,o,a,c,u),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};se=w([k(5,h.i6),k(6,x),k(7,y.XE),k(8,l.Ui),k(9,p.d),k(10,S.F)],se);let re=class extends v.h{constructor(e,t,i,n,s,r,o,a,c,l,u){const{options:h,getAutomaticKeyboardNavigation:d,disposable:p}=le(t,s,r,c,l,u);super(e,t,i,n,h),this.disposables.add(p),this.internals=new ue(this,s,d,s.overrideStyles,r,o,a,c,u),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};re=w([k(5,h.i6),k(6,x),k(7,y.XE),k(8,l.Ui),k(9,p.d),k(10,S.F)],re);let oe=class extends C.u{constructor(e,t,i,n,s,r,o,a,c,l,u,h){const{options:d,getAutomaticKeyboardNavigation:p,disposable:g}=le(t,r,o,l,u,h);super(e,t,i,n,s,d),this.disposables.add(g),this.internals=new ue(this,r,p,r.overrideStyles,o,a,c,l,h),this.disposables.add(this.internals)}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};oe=w([k(6,h.i6),k(7,x),k(8,y.XE),k(9,l.Ui),k(10,p.d),k(11,S.F)],oe);let ae=class extends _.c{constructor(e,t,i,n,s,r,o,a,c,l,u,h){const{options:d,getAutomaticKeyboardNavigation:p,disposable:g}=le(t,r,o,l,u,h);super(e,t,i,n,s,d),this.disposables.add(g),this.internals=new ue(this,r,p,r.overrideStyles,o,a,c,l,h),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(e={}){super.updateOptions(e),e.overrideStyles&&this.internals.updateStyleOverrides(e.overrideStyles),this.internals.updateOptions(e)}};ae=w([k(6,h.i6),k(7,x),k(8,y.XE),k(9,l.Ui),k(10,p.d),k(11,S.F)],ae);let ce=class extends _.h{constructor(e,t,i,n,s,r,o,a,c,l,u,h,d){const{options:p,getAutomaticKeyboardNavigation:g,disposable:f}=le(t,o,a,u,h,d);super(e,t,i,n,s,r,p),this.disposables.add(f),this.internals=new ue(this,o,g,o.overrideStyles,a,c,l,u,d),this.disposables.add(this.internals)}updateOptions(e){super.updateOptions(e),this.internals.updateOptions(e)}};function le(e,t,i,n,s,r){var o;const a=()=>{let e=Boolean(i.getContextKeyValue(V));return e&&(e=Boolean(n.getValue($))),e},c=r.isScreenReaderOptimized(),l=t.simpleKeyboardNavigation||c?"simple":n.getValue(F),u=void 0!==t.horizontalScrolling?t.horizontalScrolling:Boolean(n.getValue(R)),[h,d]=Y(t,n,s),p=t.additionalScrollHeight;return{getAutomaticKeyboardNavigation:a,disposable:d,options:Object.assign(Object.assign({keyboardSupport:!1},h),{indent:"number"==typeof n.getValue(z)?n.getValue(z):void 0,renderIndentGuides:n.getValue(L),smoothScrolling:Boolean(n.getValue(B)),automaticKeyboardNavigation:a(),simpleKeyboardNavigation:"simple"===l,filterOnType:"filter"===l,horizontalScrolling:u,keyboardNavigationEventFilter:ne(e,s),additionalScrollHeight:p,hideTwistiesOfChildlessElements:t.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:null!==(o=t.expandOnlyOnTwistieClick)&&void 0!==o?o:"doubleClick"===n.getValue(q)})}}ce=w([k(7,h.i6),k(8,x),k(9,y.XE),k(10,l.Ui),k(11,p.d),k(12,S.F)],ce);let ue=class{constructor(e,t,i,n,s,r,o,a,c){this.tree=e,this.themeService=o,this.disposables=[],this.contextKeyService=T(s,e),this.listSupportsMultiSelect=A.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(!1!==t.multipleSelectionSupport);N.bindTo(this.contextKeyService).set(Boolean(t.selectionNavigation)),this.hasSelectionOrFocus=D.bindTo(this.contextKeyService),this.hasDoubleSelection=M.bindTo(this.contextKeyService),this.hasMultiSelection=E.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=H(a);const l=new Set;l.add(V);const u=()=>{const t=c.isScreenReaderOptimized()?"simple":a.getValue(F);e.updateOptions({simpleKeyboardNavigation:"simple"===t,filterOnType:"filter"===t})};this.updateStyleOverrides(n),this.disposables.push(this.contextKeyService,r.register(e),e.onDidChangeSelection((()=>{const t=e.getSelection(),i=e.getFocus();this.contextKeyService.bufferChangeEvents((()=>{this.hasSelectionOrFocus.set(t.length>0||i.length>0),this.hasMultiSelection.set(t.length>1),this.hasDoubleSelection.set(2===t.length)}))})),e.onDidChangeFocus((()=>{const t=e.getSelection(),i=e.getFocus();this.hasSelectionOrFocus.set(t.length>0||i.length>0)})),a.onDidChangeConfiguration((n=>{let s={};if(n.affectsConfiguration(P)&&(this._useAltAsMultipleSelectionModifier=H(a)),n.affectsConfiguration(z)){const e=a.getValue(z);s=Object.assign(Object.assign({},s),{indent:e})}if(n.affectsConfiguration(L)){const e=a.getValue(L);s=Object.assign(Object.assign({},s),{renderIndentGuides:e})}if(n.affectsConfiguration(B)){const e=Boolean(!!a.getValue(B));s=Object.assign(Object.assign({},s),{smoothScrolling:e})}if(n.affectsConfiguration(F)&&u(),n.affectsConfiguration($)&&(s=Object.assign(Object.assign({},s),{automaticKeyboardNavigation:i()})),n.affectsConfiguration(R)&&void 0===t.horizontalScrolling){const e=Boolean(!!a.getValue(R));s=Object.assign(Object.assign({},s),{horizontalScrolling:e})}if(n.affectsConfiguration(q)&&void 0===t.expandOnlyOnTwistieClick&&(s=Object.assign(Object.assign({},s),{expandOnlyOnTwistieClick:"doubleClick"===a.getValue(q)})),n.affectsConfiguration(U)){const e=a.getValue(U);s=Object.assign(Object.assign({},s),{mouseWheelScrollSensitivity:e})}if(n.affectsConfiguration(W)){const e=a.getValue(W);s=Object.assign(Object.assign({},s),{fastScrollSensitivity:e})}Object.keys(s).length>0&&e.updateOptions(s)})),this.contextKeyService.onDidChangeContext((t=>{t.affectsSome(l)&&e.updateOptions({automaticKeyboardNavigation:i()})})),c.onDidChangeScreenReaderOptimized((()=>u()))),this.navigator=new ie(e,Object.assign({configurationService:a},t)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(e){void 0!==e.multipleSelectionSupport&&this.listSupportsMultiSelect.set(!!e.multipleSelectionSupport)}updateStyleOverrides(e){(0,a.B9)(this.styler),this.styler=e?(0,f.Jl)(this.tree,this.themeService,e):a.JT.None}dispose(){this.disposables=(0,a.B9)(this.disposables),(0,a.B9)(this.styler),this.styler=void 0}};ue=w([k(4,h.i6),k(5,x),k(6,y.XE),k(7,l.Ui),k(8,S.F)],ue);g.B.as(u.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,c.N)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[P]:{type:"string",enum:["ctrlCmd","alt"],enumDescriptions:[(0,c.N)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,c.N)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,c.N)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[j]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,c.N)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[R]:{type:"boolean",default:!1,description:(0,c.N)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[z]:{type:"number",default:8,minimum:0,maximum:40,description:(0,c.N)("tree indent setting","Controls tree indentation in pixels.")},[L]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,c.N)("render tree indent guides","Controls whether the tree should render indent guides.")},[B]:{type:"boolean",default:!1,description:(0,c.N)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[U]:{type:"number",default:1,description:(0,c.N)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the deltaX and deltaY of mouse wheel scroll events.")},[W]:{type:"number",default:5,description:(0,c.N)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing Alt.")},[F]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,c.N)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,c.N)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,c.N)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,c.N)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter.")},[$]:{type:"boolean",default:!0,markdownDescription:(0,c.N)("automatic keyboard navigation setting","Controls whether keyboard navigation in lists and trees is automatically triggered simply by typing. If set to `false`, keyboard navigation is only triggered when executing the `list.toggleKeyboardNavigation` command, for which you can assign a keyboard shortcut.")},[q]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,c.N)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})}}]);