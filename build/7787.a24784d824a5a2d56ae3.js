"use strict";(self.webpackChunkcloud_builder=self.webpackChunkcloud_builder||[]).push([[7787],{53953:function(e,t,n){n.d(t,{U:function(){return p}});var i=n(17301),r=n(97295),o=n(83735),s=n(33181),l=n(31380),u=n(28536),a=n(24314),c=n(3860),m=n(83256),d=n(33805),h=n(5976),f=n(69903);class g{constructor(e,t){this.modelVersionId=e.getVersionId(),this.cursorState=t.getCursorStates()}equals(e){if(!e)return!1;if(this.modelVersionId!==e.modelVersionId)return!1;if(this.cursorState.length!==e.cursorState.length)return!1;for(let t=0,n=this.cursorState.length;t<n;t++)if(!this.cursorState[t].equals(e.cursorState[t]))return!1;return!0}}class C{constructor(e,t,n){this._model=e,this._autoClosedCharactersDecorations=t,this._autoClosedEnclosingDecorations=n}static getAllAutoClosedCharacters(e){let t=[];for(const n of e)t=t.concat(n.getAutoClosedCharactersRanges());return t}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){let e=[];for(let t=0;t<this._autoClosedCharactersDecorations.length;t++){const n=this._model.getDecorationRange(this._autoClosedCharactersDecorations[t]);n&&e.push(n)}return e}isValid(e){let t=[];for(let e=0;e<this._autoClosedEnclosingDecorations.length;e++){const n=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[e]);if(n&&(t.push(n),n.startLineNumber!==n.endLineNumber))return!1}t.sort(a.e.compareRangesUsingStarts),e.sort(a.e.compareRangesUsingStarts);for(let n=0;n<e.length;n++){if(n>=t.length)return!1;if(!t[n].strictContainsRange(e[n]))return!1}return!0}}class p extends h.JT{constructor(e,t,n,i){super(),this._model=e,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=t,this._coordinatesConverter=n,this.context=new s.zp(this._model,this._viewModel,this._coordinatesConverter,i),this._cursors=new o.s(this.context),this._hasFocus=!1,this._isHandling=!1,this._isDoingComposition=!1,this._selectionsWhenCompositionStarted=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,h.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(e){this.context=new s.zp(this._model,this._viewModel,this._coordinatesConverter,e),this._cursors.updateContext(this.context)}onLineMappingChanged(e){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(e,"viewModel",0,this.getCursorStates())}setHasFocus(e){this._hasFocus=e}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){let e=this._cursors.getSelections();for(let t=0;t<this._autoClosedActions.length;t++){const n=this._autoClosedActions[t];n.isValid(e)||(n.dispose(),this._autoClosedActions.splice(t,1),t--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(e,t,n,i){let r=!1;null!==i&&i.length>p.MAX_CURSOR_COUNT&&(i=i.slice(0,p.MAX_CURSOR_COUNT),r=!0);const o=new g(this._model,this);return this._cursors.setStates(i),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,t,n,o,r)}setCursorColumnSelectData(e){this._columnSelectData=e}revealPrimary(e,t,n,i){const r=this._cursors.getViewPositions();if(r.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),0,n,i);else{const o=r[0],s=new a.e(o.lineNumber,o.column,o.lineNumber,o.column);this._emitCursorRevealRange(e,t,s,null,0,n,i)}}_revealPrimaryCursor(e,t,n,i,r){const o=this._cursors.getViewPositions();if(o.length>1)this._emitCursorRevealRange(e,t,null,this._cursors.getViewSelections(),n,i,r);else{const s=o[0],l=new a.e(s.lineNumber,s.column,s.lineNumber,s.column);this._emitCursorRevealRange(e,t,l,null,n,i,r)}}_emitCursorRevealRange(e,t,n,i,r,o,s){e.emitViewEvent(new d.Qb(t,n,i,r,o,s))}saveState(){let e=[];const t=this._cursors.getSelections();for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push({inSelectionMode:!i.isEmpty(),selectionStart:{lineNumber:i.selectionStartLineNumber,column:i.selectionStartColumn},position:{lineNumber:i.positionLineNumber,column:i.positionColumn}})}return e}restoreState(e,t){let n=[];for(let e=0,i=t.length;e<i;e++){const i=t[e];let r=1,o=1;i.position&&i.position.lineNumber&&(r=i.position.lineNumber),i.position&&i.position.column&&(o=i.position.column);let s=r,l=o;i.selectionStart&&i.selectionStart.lineNumber&&(s=i.selectionStart.lineNumber),i.selectionStart&&i.selectionStart.column&&(l=i.selectionStart.column),n.push({selectionStartLineNumber:s,selectionStartColumn:l,positionLineNumber:r,positionColumn:o})}this.setStates(e,"restoreState",0,s.Vi.fromModelSelections(n)),this.revealPrimary(e,"restoreState",!0,1)}onModelContentChanged(e,t){if(t instanceof m.D8){const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,s.Vi.fromModelSelections(t))}else{if(this._knownModelVersionId=t.versionId,this._isHandling)return;const n=t.containsEvent(1);if(this._prevEditOperationType=0,n)this._cursors.dispose(),this._cursors=new o.s(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(e,"model",1,null,!1);else if(this._hasFocus&&t.resultingSelection&&t.resultingSelection.length>0){const n=s.Vi.fromModelSelections(t.resultingSelection);this.setStates(e,"modelChange",t.isUndoing?5:t.isRedoing?6:2,n)&&this._revealPrimaryCursor(e,"modelChange",0,!0,0)}else{const t=this._cursors.readSelectionFromMarkers();this.setStates(e,"modelChange",2,s.Vi.fromModelSelections(t))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const e=this._cursors.getPrimaryCursor(),t=e.viewState.selectionStart.getStartPosition(),n=e.viewState.position;return{isReal:!1,fromViewLineNumber:t.lineNumber,fromViewVisualColumn:s.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,t),toViewLineNumber:n.lineNumber,toViewVisualColumn:s.io.visibleColumnFromColumn2(this.context.cursorConfig,this._viewModel,n)}}getSelections(){return this._cursors.getSelections()}setSelections(e,t,n,i){this.setStates(e,t,i,s.Vi.fromModelSelections(n))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(e){this._prevEditOperationType=e}_pushAutoClosedAction(e,t){let n=[],i=[];for(let r=0,o=e.length;r<o;r++)n.push({range:e[r],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),i.push({range:t[r],options:{description:"auto-closed-enclosing",stickiness:1}});const r=this._model.deltaDecorations([],n),o=this._model.deltaDecorations([],i);this._autoClosedActions.push(new C(this._model,r,o))}_executeEditOperation(e){if(!e)return;e.shouldPushStackElementBefore&&this._model.pushStackElement();const t=class{static executeCommands(e,t,n){const i={model:e,selectionsBefore:t,trackedRanges:[],trackedRangesDirection:[]},r=this._innerExecuteCommands(i,n);for(let e=0,t=i.trackedRanges.length;e<t;e++)i.model._setTrackedRange(i.trackedRanges[e],null,0);return r}static _innerExecuteCommands(e,t){if(this._arrayIsEmpty(t))return null;const n=this._getEditOperations(e,t);if(0===n.operations.length)return null;const i=n.operations,r=this._getLoserCursorMap(i);if(r.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;let o=[];for(let e=0,t=i.length;e<t;e++)r.hasOwnProperty(i[e].identifier.major.toString())||o.push(i[e]);n.hadTrackedEditOperation&&o.length>0&&(o[0]._isTracked=!0);let s=e.model.pushEditOperations(e.selectionsBefore,o,(n=>{let i=[];for(let t=0;t<e.selectionsBefore.length;t++)i[t]=[];for(const e of n)e.identifier&&i[e.identifier.major].push(e);const r=(e,t)=>e.identifier.minor-t.identifier.minor;let o=[];for(let n=0;n<e.selectionsBefore.length;n++)i[n].length>0?(i[n].sort(r),o[n]=t[n].computeCursorState(e.model,{getInverseEditOperations:()=>i[n],getTrackedSelection:t=>{const n=parseInt(t,10),i=e.model._getTrackedRange(e.trackedRanges[n]);return 0===e.trackedRangesDirection[n]?new c.Y(i.startLineNumber,i.startColumn,i.endLineNumber,i.endColumn):new c.Y(i.endLineNumber,i.endColumn,i.startLineNumber,i.startColumn)}})):o[n]=e.selectionsBefore[n];return o}));s||(s=e.selectionsBefore);let l=[];for(let e in r)r.hasOwnProperty(e)&&l.push(parseInt(e,10));l.sort(((e,t)=>t-e));for(const e of l)s.splice(e,1);return s}static _arrayIsEmpty(e){for(let t=0,n=e.length;t<n;t++)if(e[t])return!1;return!0}static _getEditOperations(e,t){let n=[],i=!1;for(let r=0,o=t.length;r<o;r++){const o=t[r];if(o){const t=this._getEditOperationsFromCommand(e,r,o);n=n.concat(t.operations),i=i||t.hadTrackedEditOperation}}return{operations:n,hadTrackedEditOperation:i}}static _getEditOperationsFromCommand(e,t,n){let r=[],o=0;const s=(e,i,s=!1)=>{a.e.isEmpty(e)&&""===i||r.push({identifier:{major:t,minor:o++},range:e,text:i,forceMoveMarkers:s,isAutoWhitespaceEdit:n.insertsAutoWhitespace})};let l=!1;const u=(e,t,n)=>{l=!0,s(e,t,n)},m={addEditOperation:s,addTrackedEditOperation:u,trackSelection:(t,n)=>{const i=c.Y.liftSelection(t);let r;if(i.isEmpty())if("boolean"==typeof n)r=n?2:3;else{const t=e.model.getLineMaxColumn(i.startLineNumber);r=i.startColumn===t?2:3}else r=1;const o=e.trackedRanges.length,s=e.model._setTrackedRange(null,i,r);return e.trackedRanges[o]=s,e.trackedRangesDirection[o]=i.getDirection(),o.toString()}};try{n.getEditOperations(e.model,m)}catch(e){return(0,i.dL)(e),{operations:[],hadTrackedEditOperation:!1}}return{operations:r,hadTrackedEditOperation:l}}static _getLoserCursorMap(e){(e=e.slice(0)).sort(((e,t)=>-a.e.compareRangesUsingEnds(e.range,t.range)));let t={};for(let n=1;n<e.length;n++){const i=e[n-1],r=e[n];if(a.e.getStartPosition(i.range).isBefore(a.e.getEndPosition(r.range))){let o;o=i.identifier.major>r.identifier.major?i.identifier.major:r.identifier.major,t[o.toString()]=!0;for(let t=0;t<e.length;t++)e[t].identifier.major===o&&(e.splice(t,1),t<n&&n--,t--);n>0&&n--}}return t}}.executeCommands(this._model,this._cursors.getSelections(),e.commands);if(t){this._interpretCommandResult(t);let n=[],i=[];for(let t=0;t<e.commands.length;t++){const r=e.commands[t];r instanceof u.g&&r.enclosingRange&&r.closeCharacterRange&&(n.push(r.closeCharacterRange),i.push(r.enclosingRange))}n.length>0&&this._pushAutoClosedAction(n,i),this._prevEditOperationType=e.type}e.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(e){e&&0!==e.length||(e=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(e),this._cursors.normalize()}_emitStateChangedIfNecessary(e,t,n,i,r){const o=new g(this._model,this);if(o.equals(i))return!1;const s=this._cursors.getSelections(),l=this._cursors.getViewSelections();if(e.emitViewEvent(new d.e$(l,s)),!i||i.cursorState.length!==o.cursorState.length||o.cursorState.some(((e,t)=>!e.modelState.equals(i.cursorState[t].modelState)))){const l=i?i.cursorState.map((e=>e.modelState.selection)):null,u=i?i.modelVersionId:0;e.emitOutgoingEvent(new f.H6(l,s,u,o.modelVersionId,t||"keyboard",n,r))}return!0}_findAutoClosingPairs(e){if(!e.length)return null;let t=[];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!i.text||i.text.indexOf("\n")>=0)return null;const r=i.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!r)return null;const o=r[1],s=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(o);if(!s||1!==s.length)return null;const l=s[0].open,u=i.text.length-r[2].length-1,a=i.text.lastIndexOf(l,u-1);if(-1===a)return null;t.push([a,u])}return t}executeEdits(e,t,n,i){let r=null;"snippet"===t&&(r=this._findAutoClosingPairs(n)),r&&(n[0]._isTracked=!0);let o=[],s=[];const l=this._model.pushEditOperations(this.getSelections(),n,(e=>{if(r)for(let t=0,n=r.length;t<n;t++){const[n,i]=r[t],l=e[t],u=l.range.startLineNumber,c=l.range.startColumn-1+n,m=l.range.startColumn-1+i;o.push(new a.e(u,m+1,u,m+2)),s.push(new a.e(u,c+1,u,m+2))}const t=i(e);return t&&(this._isHandling=!0),t}));l&&(this._isHandling=!1,this.setSelections(e,t,l,0)),o.length>0&&this._pushAutoClosedAction(o,s)}_executeEdit(e,t,n,r=0){if(this.context.cursorConfig.readOnly)return;const o=new g(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),e()}catch(e){(0,i.dL)(e)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(t,n,r,o,!1)&&this._revealPrimaryCursor(t,n,0,!0,0)}setIsDoingComposition(e){this._isDoingComposition=e}getAutoClosedCharacters(){return C.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(e){this._selectionsWhenCompositionStarted=this.getSelections().slice(0)}endComposition(e,t){this._executeEdit((()=>{"keyboard"===t&&(this._executeEditOperation(u.u.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this._selectionsWhenCompositionStarted,this.getSelections(),this.getAutoClosedCharacters())),this._selectionsWhenCompositionStarted=null)}),e,t)}type(e,t,n){this._executeEdit((()=>{if("keyboard"===n){const e=t.length;let n=0;for(;n<e;){const e=r.vH(t,n),i=t.substr(n,e);this._executeEditOperation(u.u.typeWithInterceptors(this._isDoingComposition,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),i)),n+=e}}else this._executeEditOperation(u.u.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t))}),e,n)}compositionType(e,t,n,i,r,o){if(0!==t.length||0!==n||0!==i)this._executeEdit((()=>{this._executeEditOperation(u.u.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),t,n,i,r))}),e,o);else if(0!==r){const t=this.getSelections().map((e=>{const t=e.getPosition();return new c.Y(t.lineNumber,t.column+r,t.lineNumber,t.column+r)}));this.setSelections(e,o,t,0)}}paste(e,t,n,i,r){this._executeEdit((()=>{this._executeEditOperation(u.u.paste(this.context.cursorConfig,this._model,this.getSelections(),t,n,i||[]))}),e,r,4)}cut(e,t){this._executeEdit((()=>{this._executeEditOperation(l.A.cut(this.context.cursorConfig,this._model,this.getSelections()))}),e,t)}executeCommand(e,t,n){this._executeEdit((()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new s.Tp(0,[t],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}executeCommands(e,t,n){this._executeEdit((()=>{this._executeEditOperation(new s.Tp(0,t,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))}),e,n)}}p.MAX_CURSOR_COUNT=1e4},31380:function(e,t,n){n.d(t,{A:function(){return a}});var i=n(97295),r=n(61329),o=n(33181),s=n(88784),l=n(24314),u=n(50187);class a{static deleteRight(e,t,n,i){let o=[],u=3!==e;for(let e=0,a=i.length;e<a;e++){const a=i[e];let c=a;if(c.isEmpty()){let e=a.getPosition(),i=s.o.right(t,n,e);c=new l.e(i.lineNumber,i.column,e.lineNumber,e.column)}c.isEmpty()?o[e]=null:(c.startLineNumber!==c.endLineNumber&&(u=!0),o[e]=new r.T4(c,""))}return[u,o]}static isAutoClosingPairDelete(e,t,n,i,r,s,l){if("never"===t&&"never"===n)return!1;if("never"===e)return!1;for(let u=0,a=s.length;u<a;u++){const a=s[u],c=a.getPosition();if(!a.isEmpty())return!1;const m=r.getLineContent(c.lineNumber);if(c.column<2||c.column>=m.length+1)return!1;const d=m.charAt(c.column-2),h=i.get(d);if(!h)return!1;if((0,o.LN)(d)){if("never"===n)return!1}else if("never"===t)return!1;const f=m.charAt(c.column-1);let g=!1;for(const e of h)e.open===d&&e.close===f&&(g=!0);if(!g)return!1;if("auto"===e){let e=!1;for(let t=0,n=l.length;t<n;t++){const n=l[t];if(c.lineNumber===n.startLineNumber&&c.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingPairDelete(e,t,n){let i=[];for(let e=0,t=n.length;e<t;e++){const t=n[e].getPosition(),o=new l.e(t.lineNumber,t.column-1,t.lineNumber,t.column+1);i[e]=new r.T4(o,"")}return[!0,i]}static deleteLeft(e,t,n,i,o){if(this.isAutoClosingPairDelete(t.autoClosingDelete,t.autoClosingBrackets,t.autoClosingQuotes,t.autoClosingPairs.autoClosingPairsOpenByEnd,n,i,o))return this._runAutoClosingPairDelete(t,n,i);const s=[];let l=2!==e;for(let e=0,o=i.length;e<o;e++){let o=a.getDeleteRange(i[e],n,t);o.isEmpty()?s[e]=null:(o.startLineNumber!==o.endLineNumber&&(l=!0),s[e]=new r.T4(o,""))}return[l,s]}static getDeleteRange(e,t,n){if(!e.isEmpty())return e;const r=e.getPosition();if(n.useTabStops&&r.column>1){const e=t.getLineContent(r.lineNumber),s=i.LC(e),u=-1===s?e.length+1:s+1;if(r.column<=u){const e=o.io.visibleColumnFromColumn2(n,t,r),i=o.io.prevIndentTabStop(e,n.indentSize),s=o.io.columnFromVisibleColumn2(n,t,r.lineNumber,i);return new l.e(r.lineNumber,s,r.lineNumber,r.column)}}return l.e.fromPositions(a.getPositionAfterDeleteLeft(r,t),r)}static getPositionAfterDeleteLeft(e,t){if(e.column>1){const n=i.oH(e.column-1,t.getLineContent(e.lineNumber));return e.with(void 0,n+1)}if(e.lineNumber>1){const n=e.lineNumber-1;return new u.L(n,t.getLineMaxColumn(n))}return e}static cut(e,t,n){let i=[];for(let o=0,s=n.length;o<s;o++){const s=n[o];if(s.isEmpty())if(e.emptySelectionClipboard){let e,n,u,a,c=s.getPosition();c.lineNumber<t.getLineCount()?(e=c.lineNumber,n=1,u=c.lineNumber+1,a=1):c.lineNumber>1?(e=c.lineNumber-1,n=t.getLineMaxColumn(c.lineNumber-1),u=c.lineNumber,a=t.getLineMaxColumn(c.lineNumber)):(e=c.lineNumber,n=1,u=c.lineNumber,a=t.getLineMaxColumn(c.lineNumber));let m=new l.e(e,n,u,a);m.isEmpty()?i[o]=null:i[o]=new r.T4(m,"")}else i[o]=null;else i[o]=new r.T4(s,"")}return new o.Tp(0,i,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},83814:function(e,t,n){n.d(t,{P:function(){return c},N:function(){return i}});var i,r=n(98401),o=n(33181),s=n(88784),l=n(5795),u=n(50187),a=n(24314);class c{static addCursorDown(e,t,n){let i=[],r=0;for(let l=0,u=t.length;l<u;l++){const u=t[l];i[r++]=new o.Vi(u.modelState,u.viewState),i[r++]=n?o.Vi.fromModelState(s.o.translateDown(e.cursorConfig,e.model,u.modelState)):o.Vi.fromViewState(s.o.translateDown(e.cursorConfig,e,u.viewState))}return i}static addCursorUp(e,t,n){let i=[],r=0;for(let l=0,u=t.length;l<u;l++){const u=t[l];i[r++]=new o.Vi(u.modelState,u.viewState),i[r++]=n?o.Vi.fromModelState(s.o.translateUp(e.cursorConfig,e.model,u.modelState)):o.Vi.fromViewState(s.o.translateUp(e.cursorConfig,e,u.viewState))}return i}static moveToBeginningOfLine(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r];i[r]=this._moveToLineStart(e,o,n)}return i}static _moveToLineStart(e,t,n){const i=t.viewState.position.column,r=i===t.modelState.position.column,o=t.viewState.position.lineNumber,s=e.getLineFirstNonWhitespaceColumn(o);return r||i===s?this._moveToLineStartByModel(e,t,n):this._moveToLineStartByView(e,t,n)}static _moveToLineStartByView(e,t,n){return o.Vi.fromViewState(s.o.moveToBeginningOfLine(e.cursorConfig,e,t.viewState,n))}static _moveToLineStartByModel(e,t,n){return o.Vi.fromModelState(s.o.moveToBeginningOfLine(e.cursorConfig,e.model,t.modelState,n))}static moveToEndOfLine(e,t,n,i){let r=[];for(let o=0,s=t.length;o<s;o++){const s=t[o];r[o]=this._moveToLineEnd(e,s,n,i)}return r}static _moveToLineEnd(e,t,n,i){const r=t.viewState.position,o=e.getLineMaxColumn(r.lineNumber),s=r.column===o,l=t.modelState.position,u=e.model.getLineMaxColumn(l.lineNumber),a=o-r.column==u-l.column;return s||a?this._moveToLineEndByModel(e,t,n,i):this._moveToLineEndByView(e,t,n,i)}static _moveToLineEndByView(e,t,n,i){return o.Vi.fromViewState(s.o.moveToEndOfLine(e.cursorConfig,e,t.viewState,n,i))}static _moveToLineEndByModel(e,t,n,i){return o.Vi.fromModelState(s.o.moveToEndOfLine(e.cursorConfig,e.model,t.modelState,n,i))}static expandLineSelection(e,t){let n=[];for(let i=0,r=t.length;i<r;i++){const r=t[i],s=r.modelState.selection.startLineNumber,l=e.model.getLineCount();let c,m=r.modelState.selection.endLineNumber;m===l?c=e.model.getLineMaxColumn(l):(m++,c=1),n[i]=o.Vi.fromModelState(new o.rS(new a.e(s,1,s,1),0,new u.L(m,c),0))}return n}static moveToBeginningOfBuffer(e,t,n){let i=[];for(let r=0,l=t.length;r<l;r++){const l=t[r];i[r]=o.Vi.fromModelState(s.o.moveToBeginningOfBuffer(e.cursorConfig,e.model,l.modelState,n))}return i}static moveToEndOfBuffer(e,t,n){let i=[];for(let r=0,l=t.length;r<l;r++){const l=t[r];i[r]=o.Vi.fromModelState(s.o.moveToEndOfBuffer(e.cursorConfig,e.model,l.modelState,n))}return i}static selectAll(e,t){const n=e.model.getLineCount(),i=e.model.getLineMaxColumn(n);return o.Vi.fromModelState(new o.rS(new a.e(1,1,1,1),0,new u.L(n,i),0))}static line(e,t,n,i,r){const s=e.model.validatePosition(i),l=r?e.coordinatesConverter.validateViewPosition(new u.L(r.lineNumber,r.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);if(!n||!t.modelState.hasSelection()){const t=e.model.getLineCount();let n=s.lineNumber+1,i=1;return n>t&&(n=t,i=e.model.getLineMaxColumn(n)),o.Vi.fromModelState(new o.rS(new a.e(s.lineNumber,1,n,i),0,new u.L(n,i),0))}const c=t.modelState.selectionStart.getStartPosition().lineNumber;if(s.lineNumber<c)return o.Vi.fromViewState(t.viewState.move(t.modelState.hasSelection(),l.lineNumber,1,0));if(s.lineNumber>c){const n=e.getLineCount();let i=l.lineNumber+1,r=1;return i>n&&(i=n,r=e.getLineMaxColumn(i)),o.Vi.fromViewState(t.viewState.move(t.modelState.hasSelection(),i,r,0))}{const e=t.modelState.selectionStart.getEndPosition();return o.Vi.fromModelState(t.modelState.move(t.modelState.hasSelection(),e.lineNumber,e.column,0))}}static word(e,t,n,i){const r=e.model.validatePosition(i);return o.Vi.fromModelState(l.w.word(e.cursorConfig,e.model,t.modelState,n,r))}static cancelSelection(e,t){if(!t.modelState.hasSelection())return new o.Vi(t.modelState,t.viewState);const n=t.viewState.position.lineNumber,i=t.viewState.position.column;return o.Vi.fromViewState(new o.rS(new a.e(n,i,n,i),0,new u.L(n,i),0))}static moveTo(e,t,n,i,r){const s=e.model.validatePosition(i),l=r?e.coordinatesConverter.validateViewPosition(new u.L(r.lineNumber,r.column),s):e.coordinatesConverter.convertModelPositionToViewPosition(s);return o.Vi.fromViewState(t.viewState.move(n,l.lineNumber,l.column,0))}static simpleMove(e,t,n,i,r,l){switch(n){case 0:return 4===l?this._moveHalfLineLeft(e,t,i):this._moveLeft(e,t,i,r);case 1:return 4===l?this._moveHalfLineRight(e,t,i):this._moveRight(e,t,i,r);case 2:return 2===l?this._moveUpByViewLines(e,t,i,r):this._moveUpByModelLines(e,t,i,r);case 3:return 2===l?this._moveDownByViewLines(e,t,i,r):this._moveDownByModelLines(e,t,i,r);case 4:return 2===l?t.map((t=>o.Vi.fromViewState(s.o.moveToPrevBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>o.Vi.fromModelState(s.o.moveToPrevBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 5:return 2===l?t.map((t=>o.Vi.fromViewState(s.o.moveToNextBlankLine(e.cursorConfig,e,t.viewState,i)))):t.map((t=>o.Vi.fromModelState(s.o.moveToNextBlankLine(e.cursorConfig,e.model,t.modelState,i))));case 6:return this._moveToViewMinColumn(e,t,i);case 7:return this._moveToViewFirstNonWhitespaceColumn(e,t,i);case 8:return this._moveToViewCenterColumn(e,t,i);case 9:return this._moveToViewMaxColumn(e,t,i);case 10:return this._moveToViewLastNonWhitespaceColumn(e,t,i);default:return null}}static viewportMove(e,t,n,i,r){const o=e.getCompletelyVisibleViewRange(),s=e.coordinatesConverter.convertViewRangeToModelRange(o);switch(n){case 11:{const n=this._firstLineNumberInRange(e.model,s,r),o=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,o)]}case 13:{const n=this._lastLineNumberInRange(e.model,s,r),o=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,o)]}case 12:{const n=Math.round((s.startLineNumber+s.endLineNumber)/2),r=e.model.getLineFirstNonWhitespaceColumn(n);return[this._moveToModelPosition(e,t[0],i,n,r)]}case 14:{let n=[];for(let r=0,s=t.length;r<s;r++){const s=t[r];n[r]=this.findPositionInViewportIfOutside(e,s,o,i)}return n}default:return null}}static findPositionInViewportIfOutside(e,t,n,i){let r=t.viewState.position.lineNumber;if(n.startLineNumber<=r&&r<=n.endLineNumber-1)return new o.Vi(t.modelState,t.viewState);{r>n.endLineNumber-1&&(r=n.endLineNumber-1),r<n.startLineNumber&&(r=n.startLineNumber);const o=e.getLineFirstNonWhitespaceColumn(r);return this._moveToViewPosition(e,t,i,r,o)}}static _firstLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.min(t.endLineNumber,i+n-1)}static _lastLineNumberInRange(e,t,n){let i=t.startLineNumber;return t.startColumn!==e.getLineMinColumn(i)&&i++,Math.max(i,t.endLineNumber-n+1)}static _moveLeft(e,t,n,i){return t.map((t=>o.Vi.fromViewState(s.o.moveLeft(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineLeft(e,t,n){let i=[];for(let r=0,l=t.length;r<l;r++){const l=t[r],u=l.viewState.position.lineNumber,a=Math.round(e.getLineContent(u).length/2);i[r]=o.Vi.fromViewState(s.o.moveLeft(e.cursorConfig,e,l.viewState,n,a))}return i}static _moveRight(e,t,n,i){return t.map((t=>o.Vi.fromViewState(s.o.moveRight(e.cursorConfig,e,t.viewState,n,i))))}static _moveHalfLineRight(e,t,n){let i=[];for(let r=0,l=t.length;r<l;r++){const l=t[r],u=l.viewState.position.lineNumber,a=Math.round(e.getLineContent(u).length/2);i[r]=o.Vi.fromViewState(s.o.moveRight(e.cursorConfig,e,l.viewState,n,a))}return i}static _moveDownByViewLines(e,t,n,i){let r=[];for(let l=0,u=t.length;l<u;l++){const u=t[l];r[l]=o.Vi.fromViewState(s.o.moveDown(e.cursorConfig,e,u.viewState,n,i))}return r}static _moveDownByModelLines(e,t,n,i){let r=[];for(let l=0,u=t.length;l<u;l++){const u=t[l];r[l]=o.Vi.fromModelState(s.o.moveDown(e.cursorConfig,e.model,u.modelState,n,i))}return r}static _moveUpByViewLines(e,t,n,i){let r=[];for(let l=0,u=t.length;l<u;l++){const u=t[l];r[l]=o.Vi.fromViewState(s.o.moveUp(e.cursorConfig,e,u.viewState,n,i))}return r}static _moveUpByModelLines(e,t,n,i){let r=[];for(let l=0,u=t.length;l<u;l++){const u=t[l];r[l]=o.Vi.fromModelState(s.o.moveUp(e.cursorConfig,e.model,u.modelState,n,i))}return r}static _moveToViewPosition(e,t,n,i,r){return o.Vi.fromViewState(t.viewState.move(n,i,r,0))}static _moveToModelPosition(e,t,n,i,r){return o.Vi.fromModelState(t.modelState.move(n,i,r,0))}static _moveToViewMinColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,l=e.getLineMinColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,l)}return i}static _moveToViewFirstNonWhitespaceColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,l=e.getLineFirstNonWhitespaceColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,l)}return i}static _moveToViewCenterColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,l=Math.round((e.getLineMaxColumn(s)+e.getLineMinColumn(s))/2);i[r]=this._moveToViewPosition(e,o,n,s,l)}return i}static _moveToViewMaxColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,l=e.getLineMaxColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,l)}return i}static _moveToViewLastNonWhitespaceColumn(e,t,n){let i=[];for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.viewState.position.lineNumber,l=e.getLineLastNonWhitespaceColumn(s);i[r]=this._moveToViewPosition(e,o,n,s,l)}return i}}!function(e){e.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t* 'to': A mandatory logical position value providing where to move the cursor.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',\n\t\t\t\t\t\t'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'\n\t\t\t\t\t\t'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'\n\t\t\t\t\t\t'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'by': Unit to move. Default is computed based on 'to' value.\n\t\t\t\t\t\t```\n\t\t\t\t\t\t'line', 'wrappedLine', 'character', 'halfLine'\n\t\t\t\t\t\t```\n\t\t\t\t\t* 'value': Number of units to move. Default is '1'.\n\t\t\t\t\t* 'select': If 'true' makes the selection. Default is 'false'.\n\t\t\t\t",constraint:function(e){if(!r.Kn(e))return!1;let t=e;return!!r.HD(t.to)&&(!(!r.o8(t.select)&&!r.jn(t.select))&&(!(!r.o8(t.by)&&!r.HD(t.by))&&!(!r.o8(t.value)&&!r.hj(t.value))))},schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},e.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},e.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"},e.parse=function(t){if(!t.to)return null;let n;switch(t.to){case e.RawDirection.Left:n=0;break;case e.RawDirection.Right:n=1;break;case e.RawDirection.Up:n=2;break;case e.RawDirection.Down:n=3;break;case e.RawDirection.PrevBlankLine:n=4;break;case e.RawDirection.NextBlankLine:n=5;break;case e.RawDirection.WrappedLineStart:n=6;break;case e.RawDirection.WrappedLineFirstNonWhitespaceCharacter:n=7;break;case e.RawDirection.WrappedLineColumnCenter:n=8;break;case e.RawDirection.WrappedLineEnd:n=9;break;case e.RawDirection.WrappedLineLastNonWhitespaceCharacter:n=10;break;case e.RawDirection.ViewPortTop:n=11;break;case e.RawDirection.ViewPortBottom:n=13;break;case e.RawDirection.ViewPortCenter:n=12;break;case e.RawDirection.ViewPortIfOutside:n=14;break;default:return null}let i=0;switch(t.by){case e.RawUnit.Line:i=1;break;case e.RawUnit.WrappedLine:i=2;break;case e.RawUnit.Character:i=3;break;case e.RawUnit.HalfLine:i=4}return{direction:n,unit:i,select:!!t.select,value:t.value||1}}}(i||(i={}))},88784:function(e,t,n){n.d(t,{o:function(){return a}});var i=n(33181),r=n(50187),o=n(24314),s=n(97295),l=n(3675);class u{constructor(e,t,n){this._cursorPositionBrand=void 0,this.lineNumber=e,this.column=t,this.leftoverVisibleColumns=n}}class a{static leftPosition(e,t){if(t.column>e.getLineMinColumn(t.lineNumber))return t.delta(void 0,-s.HO(e.getLineContent(t.lineNumber),t.column-1));if(t.lineNumber>1){const n=t.lineNumber-1;return new r.L(n,e.getLineMaxColumn(n))}return t}static leftPositionAtomicSoftTabs(e,t,n){if(t.column<=e.getLineIndentColumn(t.lineNumber)){const i=e.getLineMinColumn(t.lineNumber),o=e.getLineContent(t.lineNumber),s=l.l.atomicPosition(o,t.column-1,n,0);if(-1!==s&&s+1>=i)return new r.L(t.lineNumber,s+1)}return this.leftPosition(e,t)}static left(e,t,n){const i=e.stickyTabStops?a.leftPositionAtomicSoftTabs(t,n,e.tabSize):a.leftPosition(t,n);return new u(i.lineNumber,i.column,0)}static moveLeft(e,t,n,i,r){let o,s;if(n.hasSelection()&&!i)o=n.selection.startLineNumber,s=n.selection.startColumn;else{const i=n.position.delta(void 0,-(r-1)),l=t.normalizePosition(a.clipPositionColumn(i,t),0),u=a.left(e,t,l);o=u.lineNumber,s=u.column}return n.move(i,o,s,0)}static clipPositionColumn(e,t){return new r.L(e.lineNumber,a.clipRange(e.column,t.getLineMinColumn(e.lineNumber),t.getLineMaxColumn(e.lineNumber)))}static clipRange(e,t,n){return e<t?t:e>n?n:e}static rightPosition(e,t,n){return n<e.getLineMaxColumn(t)?n+=s.vH(e.getLineContent(t),n-1):t<e.getLineCount()&&(t+=1,n=e.getLineMinColumn(t)),new r.L(t,n)}static rightPositionAtomicSoftTabs(e,t,n,i,o){if(n<e.getLineIndentColumn(t)){const o=e.getLineContent(t),s=l.l.atomicPosition(o,n-1,i,1);if(-1!==s)return new r.L(t,s+1)}return this.rightPosition(e,t,n)}static right(e,t,n){const i=e.stickyTabStops?a.rightPositionAtomicSoftTabs(t,n.lineNumber,n.column,e.tabSize,e.indentSize):a.rightPosition(t,n.lineNumber,n.column);return new u(i.lineNumber,i.column,0)}static moveRight(e,t,n,i,r){let o,s;if(n.hasSelection()&&!i)o=n.selection.endLineNumber,s=n.selection.endColumn;else{const i=n.position.delta(void 0,r-1),l=t.normalizePosition(a.clipPositionColumn(i,t),1),u=a.right(e,t,l);o=u.lineNumber,s=u.column}return n.move(i,o,s,0)}static down(e,t,n,r,o,s,l){const a=i.io.visibleColumnFromColumn(t.getLineContent(n),r,e.tabSize)+o,c=t.getLineCount(),m=n===c&&r===t.getLineMaxColumn(n);return(n+=s)>c?(n=c,r=l?t.getLineMaxColumn(n):Math.min(t.getLineMaxColumn(n),r)):r=i.io.columnFromVisibleColumn2(e,t,n,a),o=m?0:a-i.io.visibleColumnFromColumn(t.getLineContent(n),r,e.tabSize),new u(n,r,o)}static moveDown(e,t,n,i,r){let o,s;n.hasSelection()&&!i?(o=n.selection.endLineNumber,s=n.selection.endColumn):(o=n.position.lineNumber,s=n.position.column);let l=a.down(e,t,o,s,n.leftoverVisibleColumns,r,!0);return n.move(i,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateDown(e,t,n){let s=n.selection,l=a.down(e,t,s.selectionStartLineNumber,s.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),u=a.down(e,t,s.positionLineNumber,s.positionColumn,n.leftoverVisibleColumns,1,!1);return new i.rS(new o.e(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new r.L(u.lineNumber,u.column),u.leftoverVisibleColumns)}static up(e,t,n,r,o,s,l){const a=i.io.visibleColumnFromColumn(t.getLineContent(n),r,e.tabSize)+o,c=1===n&&1===r;return(n-=s)<1?(n=1,r=l?t.getLineMinColumn(n):Math.min(t.getLineMaxColumn(n),r)):r=i.io.columnFromVisibleColumn2(e,t,n,a),o=c?0:a-i.io.visibleColumnFromColumn(t.getLineContent(n),r,e.tabSize),new u(n,r,o)}static moveUp(e,t,n,i,r){let o,s;n.hasSelection()&&!i?(o=n.selection.startLineNumber,s=n.selection.startColumn):(o=n.position.lineNumber,s=n.position.column);let l=a.up(e,t,o,s,n.leftoverVisibleColumns,r,!0);return n.move(i,l.lineNumber,l.column,l.leftoverVisibleColumns)}static translateUp(e,t,n){let s=n.selection,l=a.up(e,t,s.selectionStartLineNumber,s.selectionStartColumn,n.selectionStartLeftoverVisibleColumns,1,!1),u=a.up(e,t,s.positionLineNumber,s.positionColumn,n.leftoverVisibleColumns,1,!1);return new i.rS(new o.e(l.lineNumber,l.column,l.lineNumber,l.column),l.leftoverVisibleColumns,new r.L(u.lineNumber,u.column),u.leftoverVisibleColumns)}static _isBlankLine(e,t){return 0===e.getLineFirstNonWhitespaceColumn(t)}static moveToPrevBlankLine(e,t,n,i){let r=n.position.lineNumber;for(;r>1&&this._isBlankLine(t,r);)r--;for(;r>1&&!this._isBlankLine(t,r);)r--;return n.move(i,r,t.getLineMinColumn(r),0)}static moveToNextBlankLine(e,t,n,i){const r=t.getLineCount();let o=n.position.lineNumber;for(;o<r&&this._isBlankLine(t,o);)o++;for(;o<r&&!this._isBlankLine(t,o);)o++;return n.move(i,o,t.getLineMinColumn(o),0)}static moveToBeginningOfLine(e,t,n,i){let r,o=n.position.lineNumber,s=t.getLineMinColumn(o),l=t.getLineFirstNonWhitespaceColumn(o)||s;return r=n.position.column===l?s:l,n.move(i,o,r,0)}static moveToEndOfLine(e,t,n,i,r){let o=n.position.lineNumber,s=t.getLineMaxColumn(o);return n.move(i,o,s,r?1073741824-s:0)}static moveToBeginningOfBuffer(e,t,n,i){return n.move(i,1,1,0)}static moveToEndOfBuffer(e,t,n,i){let r=t.getLineCount(),o=t.getLineMaxColumn(r);return n.move(i,r,o,0)}}},28536:function(e,t,n){n.d(t,{u:function(){return f},g:function(){return g}});var i=n(17301),r=n(97295),o=n(61329),s=n(10291),l=n(69317),u=n(33181),a=n(59410),c=n(24314),m=n(3860),d=n(97354),h=n(83831);class f{static indent(e,t,n){if(null===t||null===n)return[];let i=[];for(let t=0,r=n.length;t<r;t++)i[t]=new s.U(n[t],{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return i}static outdent(e,t,n){let i=[];for(let t=0,r=n.length;t<r;t++)i[t]=new s.U(n[t],{isUnshift:!0,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent});return i}static shiftIndent(e,t,n){return n=n||1,s.U.shiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static unshiftIndent(e,t,n){return n=n||1,s.U.unshiftIndent(t,t.length+n,e.tabSize,e.indentSize,e.insertSpaces)}static _distributedPaste(e,t,n,i){let r=[];for(let e=0,t=n.length;e<t;e++)r[e]=new o.T4(n[e],i[e]);return new u.Tp(0,r,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(e,t,n,i,r){let s=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];let l=t.getPosition();if(r&&!t.isEmpty()&&(r=!1),r&&i.indexOf("\n")!==i.length-1&&(r=!1),r){let n=new c.e(l.lineNumber,1,l.lineNumber,1);s[e]=new o.hP(n,i,t,!0)}else s[e]=new o.T4(t,i)}return new u.Tp(0,s,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(e,t,n,i,o){if(i)return null;if(1===t.length)return null;if(o&&o.length===t.length)return o;if("spread"===e.multiCursorPaste){10===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1)),13===n.charCodeAt(n.length-1)&&(n=n.substr(0,n.length-1));let e=r.uq(n);if(e.length===t.length)return e}return null}static paste(e,t,n,i,r,o){const s=this._distributePasteToCursors(e,n,i,r,o);return s?(n=n.sort(c.e.compareRangesUsingStarts),this._distributedPaste(e,t,n,s)):this._simplePaste(e,t,n,i,r)}static _goodIndentForLine(e,t,n){let i=null,o="";const s=h.zu.getInheritIndentForLine(e.autoIndent,t,n,!1);if(s)i=s.action,o=s.indentation;else if(n>1){let i;for(i=n-1;i>=1;i--){const e=t.getLineContent(i);if(r.ow(e)>=0)break}if(i<1)return null;const s=t.getLineMaxColumn(i),l=h.zu.getEnterAction(e.autoIndent,t,new c.e(i,s,i,s));l&&(o=l.indentation+l.appendText)}return i&&(i===d.wU.Indent&&(o=f.shiftIndent(e,o)),i===d.wU.Outdent&&(o=f.unshiftIndent(e,o)),o=e.normalizeIndentation(o)),o||null}static _replaceJumpToNextIndent(e,t,n,i){let r="",s=n.getStartPosition();if(e.insertSpaces){let n=u.io.visibleColumnFromColumn2(e,t,s),i=e.indentSize,o=i-n%i;for(let e=0;e<o;e++)r+=" "}else r="\t";return new o.T4(n,r,i)}static tab(e,t,n){let i=[];for(let r=0,l=n.length;r<l;r++){const l=n[r];if(l.isEmpty()){let n=t.getLineContent(l.startLineNumber);if(/^\s*$/.test(n)&&t.isCheapToTokenize(l.startLineNumber)){let s=this._goodIndentForLine(e,t,l.startLineNumber);s=s||"\t";let u=e.normalizeIndentation(s);if(!n.startsWith(u)){i[r]=new o.T4(new c.e(l.startLineNumber,1,l.startLineNumber,n.length+1),u,!0);continue}}i[r]=this._replaceJumpToNextIndent(e,t,l,!0)}else{if(l.startLineNumber===l.endLineNumber){let n=t.getLineMaxColumn(l.startLineNumber);if(1!==l.startColumn||l.endColumn!==n){i[r]=this._replaceJumpToNextIndent(e,t,l,!1);continue}}i[r]=new s.U(l,{isUnshift:!1,tabSize:e.tabSize,indentSize:e.indentSize,insertSpaces:e.insertSpaces,useTabStops:e.useTabStops,autoIndent:e.autoIndent})}}return i}static compositionType(e,t,n,i,r,o,s,l){const a=i.map((e=>this._compositionType(n,e,r,o,s,l)));return new u.Tp(4,a,{shouldPushStackElementBefore:p(e,4),shouldPushStackElementAfter:!1})}static _compositionType(e,t,n,i,r,s){if(!t.isEmpty())return null;const l=t.getPosition(),u=Math.max(1,l.column-i),a=Math.min(e.getLineMaxColumn(l.lineNumber),l.column+r),m=new c.e(l.lineNumber,u,l.lineNumber,a);return e.getValueInRange(m)===n&&0===s?null:new o.Uo(m,n,0,s)}static _typeCommand(e,t,n){return n?new o.Sj(e,t,!0):new o.T4(e,t,!0)}static _enter(e,t,n,i){if(0===e.autoIndent)return f._typeCommand(i,"\n",n);if(!t.isCheapToTokenize(i.getStartPosition().lineNumber)||1===e.autoIndent){let o=t.getLineContent(i.startLineNumber),s=r.V8(o).substring(0,i.startColumn-1);return f._typeCommand(i,"\n"+e.normalizeIndentation(s),n)}const s=h.zu.getEnterAction(e.autoIndent,t,i);if(s){if(s.indentAction===d.wU.None)return f._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===d.wU.Indent)return f._typeCommand(i,"\n"+e.normalizeIndentation(s.indentation+s.appendText),n);if(s.indentAction===d.wU.IndentOutdent){const t=e.normalizeIndentation(s.indentation),r=e.normalizeIndentation(s.indentation+s.appendText),l="\n"+r+"\n"+t;return n?new o.Sj(i,l,!0):new o.Uo(i,l,-1,r.length-t.length,!0)}if(s.indentAction===d.wU.Outdent){const t=f.unshiftIndent(e,s.indentation);return f._typeCommand(i,"\n"+e.normalizeIndentation(t+s.appendText),n)}}const l=t.getLineContent(i.startLineNumber),a=r.V8(l).substring(0,i.startColumn-1);if(e.autoIndent>=4){const s=h.zu.getIndentForEnter(e.autoIndent,t,i,{unshiftIndent:t=>f.unshiftIndent(e,t),shiftIndent:t=>f.shiftIndent(e,t),normalizeIndentation:t=>e.normalizeIndentation(t)});if(s){let l=u.io.visibleColumnFromColumn2(e,t,i.getEndPosition());const a=i.endColumn,c=t.getLineContent(i.endLineNumber),m=r.LC(c);if(i=m>=0?i.setEndPosition(i.endLineNumber,Math.max(i.endColumn,m+1)):i.setEndPosition(i.endLineNumber,t.getLineMaxColumn(i.endLineNumber)),n)return new o.Sj(i,"\n"+e.normalizeIndentation(s.afterEnter),!0);{let t=0;return a<=m+1&&(e.insertSpaces||(l=Math.ceil(l/e.indentSize)),t=Math.min(l+1-e.normalizeIndentation(s.afterEnter).length-1,0)),new o.Uo(i,"\n"+e.normalizeIndentation(s.afterEnter),0,t,!0)}}}return f._typeCommand(i,"\n"+e.normalizeIndentation(a),n)}static _isAutoIndentType(e,t,n){if(e.autoIndent<4)return!1;for(let e=0,i=n.length;e<i;e++)if(!t.isCheapToTokenize(n[e].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(e,t,n,i){const r=h.zu.getIndentationAtPosition(t,n.startLineNumber,n.startColumn),o=h.zu.getIndentActionForType(e.autoIndent,t,n,i,{shiftIndent:t=>f.shiftIndent(e,t),unshiftIndent:t=>f.unshiftIndent(e,t)});if(null===o)return null;if(o!==e.normalizeIndentation(r)){const r=t.getLineFirstNonWhitespaceColumn(n.startLineNumber);return 0===r?f._typeCommand(new c.e(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(o)+i,!1):f._typeCommand(new c.e(n.startLineNumber,1,n.endLineNumber,n.endColumn),e.normalizeIndentation(o)+t.getLineContent(n.startLineNumber).substring(r-1,n.startColumn-1)+i,!1)}return null}static _isAutoClosingOvertype(e,t,n,i,r){if("never"===e.autoClosingOvertype)return!1;if(!e.autoClosingPairs.autoClosingPairsCloseSingleChar.has(r))return!1;for(let o=0,s=n.length;o<s;o++){const s=n[o];if(!s.isEmpty())return!1;const l=s.getPosition(),a=t.getLineContent(l.lineNumber);if(a.charAt(l.column-1)!==r)return!1;const c=(0,u.LN)(r);if(92===(l.column>2?a.charCodeAt(l.column-2):0)&&c)return!1;if("auto"===e.autoClosingOvertype){let e=!1;for(let t=0,n=i.length;t<n;t++){const n=i[t];if(l.lineNumber===n.startLineNumber&&l.column===n.startColumn){e=!0;break}}if(!e)return!1}}return!0}static _runAutoClosingOvertype(e,t,n,i,r){let s=[];for(let e=0,t=i.length;e<t;e++){const t=i[e].getPosition(),n=new c.e(t.lineNumber,t.column,t.lineNumber,t.column+1);s[e]=new o.T4(n,r)}return new u.Tp(4,s,{shouldPushStackElementBefore:p(e,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(e,t){const n=t.charAt(0),i=e.autoClosingPairs.autoClosingPairsOpenByStart.get(n)||[],r=e.autoClosingPairs.autoClosingPairsCloseByStart.get(n)||[],o=i.some((e=>t.startsWith(e.open))),s=r.some((e=>t.startsWith(e.close)));return!o&&s}static _findAutoClosingPairOpen(e,t,n,i){const r=e.autoClosingPairs.autoClosingPairsOpenByEnd.get(i);if(!r)return null;let o=null;for(const e of r)if(null===o||e.open.length>o.open.length){let r=!0;for(const o of n){if(t.getValueInRange(new c.e(o.lineNumber,o.column-e.open.length+1,o.lineNumber,o.column))+i!==e.open){r=!1;break}}r&&(o=e)}return o}static _findSubAutoClosingPairClose(e,t){if(t.open.length<=1)return"";const n=t.close.charAt(t.close.length-1),i=e.autoClosingPairs.autoClosingPairsCloseByEnd.get(n)||[];let r=null;for(const e of i)e.open!==t.open&&t.open.includes(e.open)&&t.close.endsWith(e.close)&&(!r||e.open.length>r.open.length)&&(r=e);return r?r.close:""}static _getAutoClosingPairClose(e,t,n,r,o){const s=(0,u.LN)(r),l=s?e.autoClosingQuotes:e.autoClosingBrackets;if("never"===l)return null;const c=this._findAutoClosingPairOpen(e,t,n.map((e=>e.getPosition())),r);if(!c)return null;const m=this._findSubAutoClosingPairClose(e,c);let d=!0;const g=s?e.shouldAutoCloseBefore.quote:e.shouldAutoCloseBefore.bracket;for(let r=0,u=n.length;r<u;r++){const u=n[r];if(!u.isEmpty())return null;const C=u.getPosition(),p=t.getLineContent(C.lineNumber),L=p.substring(C.column-1);if(L.startsWith(m)||(d=!1),p.length>C.column-1){const t=p.charAt(C.column-1);if(!f._isBeforeClosingBrace(e,L)&&!g(t))return null}if(!t.isCheapToTokenize(C.lineNumber))return null;if(1===c.open.length&&s&&"always"!==l){const t=(0,a.u)(e.wordSeparators);if(o&&C.column>1&&0===t.get(p.charCodeAt(C.column-2)))return null;if(!o&&C.column>2&&0===t.get(p.charCodeAt(C.column-3)))return null}t.forceTokenization(C.lineNumber);const b=t.getLineTokens(C.lineNumber);let _=!1;try{_=h.zu.shouldAutoClosePair(c,b,o?C.column:C.column-1)}catch(e){(0,i.dL)(e)}if(!_)return null}return d?c.close.substring(0,c.close.length-m.length):c.close}static _runAutoClosingOpenCharType(e,t,n,i,r,o,s){let l=[];for(let e=0,t=i.length;e<t;e++){const t=i[e];l[e]=new g(t,r,o,s)}return new u.Tp(4,l,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(e,t){return(0,u.LN)(t)?"quotes"===e.autoSurround||"languageDefined"===e.autoSurround:"brackets"===e.autoSurround||"languageDefined"===e.autoSurround}static _isSurroundSelectionType(e,t,n,i){if(!f._shouldSurroundChar(e,i)||!e.surroundingPairs.hasOwnProperty(i))return!1;const r=(0,u.LN)(i);for(let e=0,i=n.length;e<i;e++){const i=n[e];if(i.isEmpty())return!1;let o=!0;for(let e=i.startLineNumber;e<=i.endLineNumber;e++){const n=t.getLineContent(e),r=e===i.startLineNumber?i.startColumn-1:0,s=e===i.endLineNumber?i.endColumn-1:n.length,l=n.substring(r,s);if(/[^ \t]/.test(l)){o=!1;break}}if(o)return!1;if(r&&i.startLineNumber===i.endLineNumber&&i.startColumn+1===i.endColumn){const e=t.getValueInRange(i);if((0,u.LN)(e))return!1}}return!0}static _runSurroundSelectionType(e,t,n,i,r){let o=[];for(let e=0,n=i.length;e<n;e++){const n=i[e],s=t.surroundingPairs[r];o[e]=new l.F(n,r,s)}return new u.Tp(0,o,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(e,t,n){return!(1!==n.length||!t.isCheapToTokenize(n[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(e,t,n,s,l){if(!t.electricChars.hasOwnProperty(l)||!s.isEmpty())return null;let a=s.getPosition();n.forceTokenization(a.lineNumber);let m,d=n.getLineTokens(a.lineNumber);try{m=h.zu.onElectricCharacter(l,d,a.column)}catch(e){return(0,i.dL)(e),null}if(!m)return null;if(m.matchOpenBracket){let i=(d.getLineContent()+l).lastIndexOf(m.matchOpenBracket)+1,s=n.findMatchingBracketUp(m.matchOpenBracket,{lineNumber:a.lineNumber,column:i});if(s){if(s.startLineNumber===a.lineNumber)return null;let i=n.getLineContent(s.startLineNumber),m=r.V8(i),d=t.normalizeIndentation(m),h=n.getLineContent(a.lineNumber),f=n.getLineFirstNonWhitespaceColumn(a.lineNumber)||a.column,g=d+h.substring(f-1,a.column-1)+l,p=new c.e(a.lineNumber,1,a.lineNumber,a.column);const L=new o.T4(p,g);return new u.Tp(C(g,e),[L],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(e,t,n,i,r,s){if(!i||m.Y.selectionsArrEqual(i,r))return null;let l=null;for(const e of r){if(!e.isEmpty())return null;const t=e.getPosition(),i=n.getValueInRange(new c.e(t.lineNumber,t.column-1,t.lineNumber,t.column));if(null===l)l=i;else if(l!==i)return null}if(!l)return null;if(this._isAutoClosingOvertype(t,n,r,s,l)){const e=r.map((e=>new o.T4(new c.e(e.positionLineNumber,e.positionColumn,e.positionLineNumber,e.positionColumn+1),"",!1)));return new u.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const a=this._getAutoClosingPairClose(t,n,r,l,!1);return null!==a?this._runAutoClosingOpenCharType(e,t,n,r,l,!1,a):null}static typeWithInterceptors(e,t,n,i,r,s,l){if(!e&&"\n"===l){let e=[];for(let t=0,o=r.length;t<o;t++)e[t]=f._enter(n,i,!1,r[t]);return new u.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoIndentType(n,i,r)){let e=[],t=!1;for(let o=0,s=r.length;o<s;o++)if(e[o]=this._runAutoIndentType(n,i,r[o],l),!e[o]){t=!0;break}if(!t)return new u.Tp(4,e,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!e&&this._isAutoClosingOvertype(n,i,r,s,l))return this._runAutoClosingOvertype(t,n,i,r,l);if(!e){const e=this._getAutoClosingPairClose(n,i,r,l,!0);if(e)return this._runAutoClosingOpenCharType(t,n,i,r,l,!0,e)}if(this._isSurroundSelectionType(n,i,r,l))return this._runSurroundSelectionType(t,n,i,r,l);if(!e&&this._isTypeInterceptorElectricChar(n,i,r)){const e=this._typeInterceptorElectricChar(t,n,i,r[0],l);if(e)return e}let a=[];for(let e=0,t=r.length;e<t;e++)a[e]=new o.T4(r[e],l);const c=C(l,t);return new u.Tp(c,a,{shouldPushStackElementBefore:p(t,c),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(e,t,n,i,r){let s=[];for(let e=0,t=i.length;e<t;e++)s[e]=new o.T4(i[e],r);const l=C(r,e);return new u.Tp(l,s,{shouldPushStackElementBefore:p(e,l),shouldPushStackElementAfter:!1})}static lineInsertBefore(e,t,n){if(null===t||null===n)return[];let i=[];for(let r=0,s=n.length;r<s;r++){let s=n[r].positionLineNumber;if(1===s)i[r]=new o.Sj(new c.e(1,1,1,1),"\n");else{s--;let n=t.getLineMaxColumn(s);i[r]=this._enter(e,t,!1,new c.e(s,n,s,n))}}return i}static lineInsertAfter(e,t,n){if(null===t||null===n)return[];let i=[];for(let r=0,o=n.length;r<o;r++){const o=n[r].positionLineNumber;let s=t.getLineMaxColumn(o);i[r]=this._enter(e,t,!1,new c.e(o,s,o,s))}return i}static lineBreakInsert(e,t,n){let i=[];for(let r=0,o=n.length;r<o;r++)i[r]=this._enter(e,t,!0,n[r]);return i}}class g extends o.Uo{constructor(e,t,n,i){super(e,(n?t:"")+i,0,-i.length),this._openCharacter=t,this._closeCharacter=i,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(e,t){let n=t.getInverseEditOperations()[0].range;return this.closeCharacterRange=new c.e(n.startLineNumber,n.endColumn-this._closeCharacter.length,n.endLineNumber,n.endColumn),this.enclosingRange=new c.e(n.startLineNumber,n.endColumn-this._openCharacter.length-this._closeCharacter.length,n.endLineNumber,n.endColumn),super.computeCursorState(e,t)}}function C(e,t){return" "===e?5===t||6===t?6:5:4}function p(e,t){return!(!b(e)||b(t))||5!==e&&L(e)!==L(t)}function L(e){return 6===e||5===e?"space":e}function b(e){return 4===e||5===e||6===e}},5795:function(e,t,n){n.d(t,{w:function(){return a},L:function(){return c}});var i=n(97295),r=n(33181),o=n(31380),s=n(59410),l=n(50187),u=n(24314);class a{static _createWord(e,t,n,i,r){return{start:i,end:r,wordType:t,nextCharClass:n}}static _findPreviousWordOnLine(e,t,n){let i=t.getLineContent(n.lineNumber);return this._doFindPreviousWordOnLine(i,e,n)}static _doFindPreviousWordOnLine(e,t,n){let i=0;for(let r=n.column-2;r>=0;r--){let n=e.charCodeAt(r),o=t.get(n);if(0===o){if(2===i)return this._createWord(e,i,o,r+1,this._findEndOfWord(e,t,i,r+1));i=1}else if(2===o){if(1===i)return this._createWord(e,i,o,r+1,this._findEndOfWord(e,t,i,r+1));i=2}else if(1===o&&0!==i)return this._createWord(e,i,o,r+1,this._findEndOfWord(e,t,i,r+1))}return 0!==i?this._createWord(e,i,1,0,this._findEndOfWord(e,t,i,0)):null}static _findEndOfWord(e,t,n,i){let r=e.length;for(let o=i;o<r;o++){let i=e.charCodeAt(o),r=t.get(i);if(1===r)return o;if(1===n&&2===r)return o;if(2===n&&0===r)return o}return r}static _findNextWordOnLine(e,t,n){let i=t.getLineContent(n.lineNumber);return this._doFindNextWordOnLine(i,e,n)}static _doFindNextWordOnLine(e,t,n){let i=0,r=e.length;for(let o=n.column-1;o<r;o++){let n=e.charCodeAt(o),r=t.get(n);if(0===r){if(2===i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,o-1),o);i=1}else if(2===r){if(1===i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,o-1),o);i=2}else if(1===r&&0!==i)return this._createWord(e,i,r,this._findStartOfWord(e,t,i,o-1),o)}return 0!==i?this._createWord(e,i,1,this._findStartOfWord(e,t,i,r-1),r):null}static _findStartOfWord(e,t,n,i){for(let r=i;r>=0;r--){let i=e.charCodeAt(r),o=t.get(i);if(1===o)return r+1;if(1===n&&2===o)return r+1;if(2===n&&0===o)return r+1}return 0}static moveWordLeft(e,t,n,i){let r=n.lineNumber,o=n.column;1===o&&r>1&&(r-=1,o=t.getLineMaxColumn(r));let s=a._findPreviousWordOnLine(e,t,new l.L(r,o));if(0===i)return new l.L(r,s?s.start+1:1);if(1===i)return s&&2===s.wordType&&s.end-s.start==1&&0===s.nextCharClass&&(s=a._findPreviousWordOnLine(e,t,new l.L(r,s.start+1))),new l.L(r,s?s.start+1:1);if(3===i){for(;s&&2===s.wordType;)s=a._findPreviousWordOnLine(e,t,new l.L(r,s.start+1));return new l.L(r,s?s.start+1:1)}return s&&o<=s.end+1&&(s=a._findPreviousWordOnLine(e,t,new l.L(r,s.start+1))),new l.L(r,s?s.end+1:1)}static _moveWordPartLeft(e,t){const n=t.lineNumber,r=e.getLineMaxColumn(n);if(1===t.column)return n>1?new l.L(n-1,e.getLineMaxColumn(n-1)):t;const o=e.getLineContent(n);for(let e=t.column-1;e>1;e--){const t=o.charCodeAt(e-2),s=o.charCodeAt(e-1);if(95===t&&95!==s)return new l.L(n,e);if(i.mK(t)&&i.df(s))return new l.L(n,e);if(i.df(t)&&i.df(s)&&e+1<r){const t=o.charCodeAt(e);if(i.mK(t))return new l.L(n,e)}}return new l.L(n,1)}static moveWordRight(e,t,n,i){let r=n.lineNumber,o=n.column,s=!1;o===t.getLineMaxColumn(r)&&r<t.getLineCount()&&(s=!0,r+=1,o=1);let u=a._findNextWordOnLine(e,t,new l.L(r,o));if(2===i)u&&2===u.wordType&&u.end-u.start==1&&0===u.nextCharClass&&(u=a._findNextWordOnLine(e,t,new l.L(r,u.end+1))),o=u?u.end+1:t.getLineMaxColumn(r);else if(3===i){for(s&&(o=0);u&&(2===u.wordType||u.start+1<=o);)u=a._findNextWordOnLine(e,t,new l.L(r,u.end+1));o=u?u.start+1:t.getLineMaxColumn(r)}else u&&!s&&o>=u.start+1&&(u=a._findNextWordOnLine(e,t,new l.L(r,u.end+1))),o=u?u.start+1:t.getLineMaxColumn(r);return new l.L(r,o)}static _moveWordPartRight(e,t){const n=t.lineNumber,r=e.getLineMaxColumn(n);if(t.column===r)return n<e.getLineCount()?new l.L(n+1,1):t;const o=e.getLineContent(n);for(let e=t.column+1;e<r;e++){const t=o.charCodeAt(e-2),s=o.charCodeAt(e-1);if(95!==t&&95===s)return new l.L(n,e);if(i.mK(t)&&i.df(s))return new l.L(n,e);if(i.df(t)&&i.df(s)&&e+1<r){const t=o.charCodeAt(e);if(i.mK(t))return new l.L(n,e)}}return new l.L(n,r)}static _deleteWordLeftWhitespace(e,t){const n=e.getLineContent(t.lineNumber),r=t.column-2,o=i.ow(n,r);return o+1<r?new u.e(t.lineNumber,o+2,t.lineNumber,t.column):null}static deleteWordLeft(e,t){const n=e.wordSeparators,i=e.model,r=e.selection,s=e.whitespaceHeuristics;if(!r.isEmpty())return r;if(o.A.isAutoClosingPairDelete(e.autoClosingDelete,e.autoClosingBrackets,e.autoClosingQuotes,e.autoClosingPairs.autoClosingPairsOpenByEnd,e.model,[e.selection],e.autoClosedCharacters)){const t=e.selection.getPosition();return new u.e(t.lineNumber,t.column-1,t.lineNumber,t.column+1)}const c=new l.L(r.positionLineNumber,r.positionColumn);let m=c.lineNumber,d=c.column;if(1===m&&1===d)return null;if(s){let e=this._deleteWordLeftWhitespace(i,c);if(e)return e}let h=a._findPreviousWordOnLine(n,i,c);return 0===t?h?d=h.start+1:d>1?d=1:(m--,d=i.getLineMaxColumn(m)):(h&&d<=h.end+1&&(h=a._findPreviousWordOnLine(n,i,new l.L(m,h.start+1))),h?d=h.end+1:d>1?d=1:(m--,d=i.getLineMaxColumn(m))),new u.e(m,d,c.lineNumber,c.column)}static deleteInsideWord(e,t,n){if(!n.isEmpty())return n;const i=new l.L(n.positionLineNumber,n.positionColumn);let r=this._deleteInsideWordWhitespace(t,i);return r||this._deleteInsideWordDetermineDeleteRange(e,t,i)}static _charAtIsWhitespace(e,t){const n=e.charCodeAt(t);return 32===n||9===n}static _deleteInsideWordWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=n.length;if(0===i)return null;let r=Math.max(t.column-2,0);if(!this._charAtIsWhitespace(n,r))return null;let o=Math.min(t.column-1,i-1);if(!this._charAtIsWhitespace(n,o))return null;for(;r>0&&this._charAtIsWhitespace(n,r-1);)r--;for(;o+1<i&&this._charAtIsWhitespace(n,o+1);)o++;return new u.e(t.lineNumber,r+1,t.lineNumber,o+2)}static _deleteInsideWordDetermineDeleteRange(e,t,n){const i=t.getLineContent(n.lineNumber),r=i.length;if(0===r)return n.lineNumber>1?new u.e(n.lineNumber-1,t.getLineMaxColumn(n.lineNumber-1),n.lineNumber,1):n.lineNumber<t.getLineCount()?new u.e(n.lineNumber,1,n.lineNumber+1,1):new u.e(n.lineNumber,1,n.lineNumber,1);const o=e=>e.start+1<=n.column&&n.column<=e.end+1,s=(e,t)=>(e=Math.min(e,n.column),t=Math.max(t,n.column),new u.e(n.lineNumber,e,n.lineNumber,t)),l=e=>{let t=e.start+1,n=e.end+1,o=!1;for(;n-1<r&&this._charAtIsWhitespace(i,n-1);)o=!0,n++;if(!o)for(;t>1&&this._charAtIsWhitespace(i,t-2);)t--;return s(t,n)},c=a._findPreviousWordOnLine(e,t,n);if(c&&o(c))return l(c);const m=a._findNextWordOnLine(e,t,n);return m&&o(m)?l(m):c&&m?s(c.end+1,m.start+1):c?s(c.start+1,c.end+1):m?s(m.start+1,m.end+1):s(1,r+1)}static _deleteWordPartLeft(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=a._moveWordPartLeft(e,n);return new u.e(n.lineNumber,n.column,i.lineNumber,i.column)}static _findFirstNonWhitespaceChar(e,t){let n=e.length;for(let i=t;i<n;i++){let t=e.charAt(i);if(" "!==t&&"\t"!==t)return i}return n}static _deleteWordRightWhitespace(e,t){const n=e.getLineContent(t.lineNumber),i=t.column-1,r=this._findFirstNonWhitespaceChar(n,i);return i+1<r?new u.e(t.lineNumber,t.column,t.lineNumber,r+1):null}static deleteWordRight(e,t){const n=e.wordSeparators,i=e.model,r=e.selection,o=e.whitespaceHeuristics;if(!r.isEmpty())return r;const s=new l.L(r.positionLineNumber,r.positionColumn);let c=s.lineNumber,m=s.column;const d=i.getLineCount(),h=i.getLineMaxColumn(c);if(c===d&&m===h)return null;if(o){let e=this._deleteWordRightWhitespace(i,s);if(e)return e}let f=a._findNextWordOnLine(n,i,s);return 2===t?f?m=f.end+1:m<h||c===d?m=h:(c++,f=a._findNextWordOnLine(n,i,new l.L(c,1)),m=f?f.start+1:i.getLineMaxColumn(c)):(f&&m>=f.start+1&&(f=a._findNextWordOnLine(n,i,new l.L(c,f.end+1))),f?m=f.start+1:m<h||c===d?m=h:(c++,f=a._findNextWordOnLine(n,i,new l.L(c,1)),m=f?f.start+1:i.getLineMaxColumn(c))),new u.e(c,m,s.lineNumber,s.column)}static _deleteWordPartRight(e,t){if(!t.isEmpty())return t;const n=t.getPosition(),i=a._moveWordPartRight(e,n);return new u.e(n.lineNumber,n.column,i.lineNumber,i.column)}static _createWordAtPosition(e,t,n){const i=new u.e(t,n.start+1,t,n.end+1);return{word:e.getValueInRange(i),startColumn:i.startColumn,endColumn:i.endColumn}}static getWordAtPosition(e,t,n){const i=(0,s.u)(t),r=a._findPreviousWordOnLine(i,e,n);if(r&&1===r.wordType&&r.start<=n.column-1&&n.column-1<=r.end)return a._createWordAtPosition(e,n.lineNumber,r);const o=a._findNextWordOnLine(i,e,n);return o&&1===o.wordType&&o.start<=n.column-1&&n.column-1<=o.end?a._createWordAtPosition(e,n.lineNumber,o):null}static word(e,t,n,i,o){const c=(0,s.u)(e.wordSeparators);let m,d,h=a._findPreviousWordOnLine(c,t,o),f=a._findNextWordOnLine(c,t,o);if(!i){let e,n;return h&&1===h.wordType&&h.start<=o.column-1&&o.column-1<=h.end?(e=h.start+1,n=h.end+1):f&&1===f.wordType&&f.start<=o.column-1&&o.column-1<=f.end?(e=f.start+1,n=f.end+1):(e=h?h.end+1:1,n=f?f.start+1:t.getLineMaxColumn(o.lineNumber)),new r.rS(new u.e(o.lineNumber,e,o.lineNumber,n),0,new l.L(o.lineNumber,n),0)}h&&1===h.wordType&&h.start<o.column-1&&o.column-1<h.end?(m=h.start+1,d=h.end+1):f&&1===f.wordType&&f.start<o.column-1&&o.column-1<f.end?(m=f.start+1,d=f.end+1):(m=o.column,d=o.column);let g,C=o.lineNumber;if(n.selectionStart.containsPosition(o))g=n.selectionStart.endColumn;else if(o.isBeforeOrEqual(n.selectionStart.getStartPosition())){g=m;let e=new l.L(C,g);n.selectionStart.containsPosition(e)&&(g=n.selectionStart.endColumn)}else{g=d;let e=new l.L(C,g);n.selectionStart.containsPosition(e)&&(g=n.selectionStart.startColumn)}return n.move(!0,C,g,0)}}class c extends a{static deleteWordPartLeft(e){const t=m([a.deleteWordLeft(e,0),a.deleteWordLeft(e,2),a._deleteWordPartLeft(e.model,e.selection)]);return t.sort(u.e.compareRangesUsingEnds),t[2]}static deleteWordPartRight(e){const t=m([a.deleteWordRight(e,0),a.deleteWordRight(e,2),a._deleteWordPartRight(e.model,e.selection)]);return t.sort(u.e.compareRangesUsingStarts),t[0]}static moveWordPartLeft(e,t,n){const i=m([a.moveWordLeft(e,t,n,0),a.moveWordLeft(e,t,n,2),a._moveWordPartLeft(t,n)]);return i.sort(l.L.compare),i[2]}static moveWordPartRight(e,t,n){const i=m([a.moveWordRight(e,t,n,0),a.moveWordRight(e,t,n,2),a._moveWordPartRight(t,n)]);return i.sort(l.L.compare),i[0]}}function m(e){return e.filter((e=>Boolean(e)))}},82566:function(e,t,n){n.d(t,{C:function(){return l}});var i=n(33181),r=n(50187),o=n(24314),s=n(3860);class l{constructor(e){this._selTrackedRange=null,this._trackSelection=!0,this._setState(e,new i.rS(new o.e(1,1,1,1),0,new r.L(1,1),0),new i.rS(new o.e(1,1,1,1),0,new r.L(1,1),0))}dispose(e){this._removeTrackedRange(e)}startTrackingSelection(e){this._trackSelection=!0,this._updateTrackedRange(e)}stopTrackingSelection(e){this._trackSelection=!1,this._removeTrackedRange(e)}_updateTrackedRange(e){this._trackSelection&&(this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(e){this._selTrackedRange=e.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new i.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(e){const t=e.model._getTrackedRange(this._selTrackedRange);return 0===this.modelState.selection.getDirection()?new s.Y(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new s.Y(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}ensureValidState(e){this._setState(e,this.modelState,this.viewState)}setState(e,t,n){this._setState(e,t,n)}static _validatePositionWithCache(e,t,n,i){return t.equals(n)?i:e.normalizePosition(t,2)}static _validateViewState(e,t){const n=t.position,r=t.selectionStart.getStartPosition(),s=t.selectionStart.getEndPosition(),l=e.normalizePosition(n,2),u=this._validatePositionWithCache(e,r,n,l),a=this._validatePositionWithCache(e,s,r,u);return n.equals(l)&&r.equals(u)&&s.equals(a)?t:new i.rS(o.e.fromPositions(u,a),t.selectionStartLeftoverVisibleColumns+r.column-u.column,l,t.leftoverVisibleColumns+n.column-l.column)}_setState(e,t,n){if(n&&(n=l._validateViewState(e.viewModel,n)),t){const n=e.model.validateRange(t.selectionStart),r=t.selectionStart.equalsRange(n)?t.selectionStartLeftoverVisibleColumns:0,o=e.model.validatePosition(t.position),s=t.position.equals(o)?t.leftoverVisibleColumns:0;t=new i.rS(n,r,o,s)}else{if(!n)return;const r=e.model.validateRange(e.coordinatesConverter.convertViewRangeToModelRange(n.selectionStart)),o=e.model.validatePosition(e.coordinatesConverter.convertViewPositionToModelPosition(n.position));t=new i.rS(r,n.selectionStartLeftoverVisibleColumns,o,n.leftoverVisibleColumns)}if(n){const r=e.coordinatesConverter.validateViewRange(n.selectionStart,t.selectionStart),o=e.coordinatesConverter.validateViewPosition(n.position,t.position);n=new i.rS(r,t.selectionStartLeftoverVisibleColumns,o,t.leftoverVisibleColumns)}else{const s=e.coordinatesConverter.convertModelPositionToViewPosition(new r.L(t.selectionStart.startLineNumber,t.selectionStart.startColumn)),l=e.coordinatesConverter.convertModelPositionToViewPosition(new r.L(t.selectionStart.endLineNumber,t.selectionStart.endColumn)),u=new o.e(s.lineNumber,s.column,l.lineNumber,l.column),a=e.coordinatesConverter.convertModelPositionToViewPosition(t.position);n=new i.rS(u,t.selectionStartLeftoverVisibleColumns,a,t.leftoverVisibleColumns)}this.modelState=t,this.viewState=n,this._updateTrackedRange(e)}}},59410:function(e,t,n){n.d(t,{u:function(){return o}});var i=n(44906);class r extends i.N{constructor(e){super(0);for(let t=0,n=e.length;t<n;t++)this.set(e.charCodeAt(t),2);this.set(32,1),this.set(9,1)}}const o=function(e){let t={};return n=>(t.hasOwnProperty(n)||(t[n]=e(n)),t[n])}((e=>new r(e)))},44906:function(e,t,n){n.d(t,{N:function(){return r},q:function(){return o}});var i=n(85427);class r{constructor(e){let t=(0,i.K)(e);this._defaultValue=t,this._asciiMap=r._createAsciiMap(t),this._map=new Map}static _createAsciiMap(e){let t=new Uint8Array(256);for(let n=0;n<256;n++)t[n]=e;return t}set(e,t){let n=(0,i.K)(t);e>=0&&e<256?this._asciiMap[e]=n:this._map.set(e,n)}get(e){return e>=0&&e<256?this._asciiMap[e]:this._map.get(e)||this._defaultValue}}class o{constructor(){this._actual=new r(0)}add(e){this._actual.set(e,1)}has(e){return 1===this._actual.get(e)}}},69386:function(e,t,n){n.d(t,{h:function(){return r}});var i=n(24314);class r{static insert(e,t){return{range:new i.e(e.lineNumber,e.column,e.lineNumber,e.column),text:t,forceMoveMarkers:!0}}static delete(e){return{range:e,text:null}}static replace(e,t){return{range:e,text:t}}static replaceMove(e,t){return{range:e,text:t,forceMoveMarkers:!0}}}},78411:function(e,t,n){n.d(t,{A:function(){return r}});var i=n(44101);class r{constructor(e,t){this._lineTokensBrand=void 0,this._tokens=e,this._tokensCount=this._tokens.length>>>1,this._text=t}static createEmpty(e){const t=r.defaultTokenMetadata,n=new Uint32Array(2);return n[0]=e.length,n[1]=t,new r(n,e)}equals(e){return e instanceof r&&this.slicedEquals(e,0,this._tokensCount)}slicedEquals(e,t,n){if(this._text!==e._text)return!1;if(this._tokensCount!==e._tokensCount)return!1;const i=t<<1,r=i+(n<<1);for(let t=i;t<r;t++)if(this._tokens[t]!==e._tokens[t])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(e){return e>0?this._tokens[e-1<<1]:0}getMetadata(e){return this._tokens[1+(e<<1)]}getLanguageId(e){const t=this._tokens[1+(e<<1)];return i.NX.getLanguageId(t)}getStandardTokenType(e){const t=this._tokens[1+(e<<1)];return i.NX.getTokenType(t)}getForeground(e){const t=this._tokens[1+(e<<1)];return i.NX.getForeground(t)}getClassName(e){const t=this._tokens[1+(e<<1)];return i.NX.getClassNameFromMetadata(t)}getInlineStyle(e,t){const n=this._tokens[1+(e<<1)];return i.NX.getInlineStyleFromMetadata(n,t)}getEndOffset(e){return this._tokens[e<<1]}findTokenIndexAtOffset(e){return r.findIndexInTokensArray(this._tokens,e)}inflate(){return this}sliceAndInflate(e,t,n){return new o(this,e,t,n)}static convertToEndOffset(e,t){const n=(e.length>>>1)-1;for(let t=0;t<n;t++)e[t<<1]=e[t+1<<1];e[n<<1]=t}static findIndexInTokensArray(e,t){if(e.length<=2)return 0;let n=0,i=(e.length>>>1)-1;for(;n<i;){const r=n+Math.floor((i-n)/2),o=e[r<<1];if(o===t)return r+1;o<t?n=r+1:o>t&&(i=r)}return n}withInserted(e){if(0===e.length)return this;let t=0,n=0,i="";const o=new Array;let s=0;for(;;){let r=t<this._tokensCount?this._tokens[t<<1]:-1,l=n<e.length?e[n]:null;if(-1!==r&&(null===l||r<=l.offset)){i+=this._text.substring(s,r);const e=this._tokens[1+(t<<1)];o.push(i.length,e),t++,s=r}else{if(!l)break;if(l.offset>s){i+=this._text.substring(s,l.offset);const e=this._tokens[1+(t<<1)];o.push(i.length,e),s=l.offset}i+=l.text,o.push(i.length,l.tokenMetadata),n++}}return new r(new Uint32Array(o),i)}}r.defaultTokenMetadata=16793600;class o{constructor(e,t,n,i){this._source=e,this._startOffset=t,this._endOffset=n,this._deltaOffset=i,this._firstTokenIndex=e.findTokenIndexAtOffset(t),this._tokensCount=0;for(let t=this._firstTokenIndex,i=e.getCount();t<i;t++){if(e.getStartOffset(t)>=n)break;this._tokensCount++}}equals(e){return e instanceof o&&(this._startOffset===e._startOffset&&this._endOffset===e._endOffset&&this._deltaOffset===e._deltaOffset&&this._source.slicedEquals(e._source,this._firstTokenIndex,this._tokensCount))}getCount(){return this._tokensCount}getForeground(e){return this._source.getForeground(this._firstTokenIndex+e)}getEndOffset(e){const t=this._source.getEndOffset(this._firstTokenIndex+e);return Math.min(this._endOffset,t)-this._startOffset+this._deltaOffset}getClassName(e){return this._source.getClassName(this._firstTokenIndex+e)}getInlineStyle(e,t){return this._source.getInlineStyle(this._firstTokenIndex+e,t)}findTokenIndexAtOffset(e){return this._source.findTokenIndexAtOffset(e+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},50187:function(e,t,n){n.d(t,{L:function(){return i}});class i{constructor(e,t){this.lineNumber=e,this.column=t}with(e=this.lineNumber,t=this.column){return e===this.lineNumber&&t===this.column?this:new i(e,t)}delta(e=0,t=0){return this.with(this.lineNumber+e,this.column+t)}equals(e){return i.equals(this,e)}static equals(e,t){return!e&&!t||!!e&&!!t&&e.lineNumber===t.lineNumber&&e.column===t.column}isBefore(e){return i.isBefore(this,e)}static isBefore(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<t.column}isBeforeOrEqual(e){return i.isBeforeOrEqual(this,e)}static isBeforeOrEqual(e,t){return e.lineNumber<t.lineNumber||!(t.lineNumber<e.lineNumber)&&e.column<=t.column}static compare(e,t){let n=0|e.lineNumber,i=0|t.lineNumber;if(n===i){return(0|e.column)-(0|t.column)}return n-i}clone(){return new i(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(e){return new i(e.lineNumber,e.column)}static isIPosition(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}}},24314:function(e,t,n){n.d(t,{e:function(){return r}});var i=n(50187);class r{constructor(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}isEmpty(){return r.isEmpty(this)}static isEmpty(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn}containsPosition(e){return r.containsPosition(this,e)}static containsPosition(e,t){return!(t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber)&&(!(t.lineNumber===e.startLineNumber&&t.column<e.startColumn)&&!(t.lineNumber===e.endLineNumber&&t.column>e.endColumn))}containsRange(e){return r.containsRange(this,e)}static containsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn)))}strictContainsRange(e){return r.strictContainsRange(this,e)}static strictContainsRange(e,t){return!(t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber)&&(!(t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber)&&(!(t.startLineNumber===e.startLineNumber&&t.startColumn<=e.startColumn)&&!(t.endLineNumber===e.endLineNumber&&t.endColumn>=e.endColumn)))}plusRange(e){return r.plusRange(this,e)}static plusRange(e,t){let n,i,o,s;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,i=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,s=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,s=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,s=e.endColumn),new r(n,i,o,s)}intersectRanges(e){return r.intersectRanges(this,e)}static intersectRanges(e,t){let n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,s=e.endColumn,l=t.startLineNumber,u=t.startColumn,a=t.endLineNumber,c=t.endColumn;return n<l?(n=l,i=u):n===l&&(i=Math.max(i,u)),o>a?(o=a,s=c):o===a&&(s=Math.min(s,c)),n>o||n===o&&i>s?null:new r(n,i,o,s)}equalsRange(e){return r.equalsRange(this,e)}static equalsRange(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn}getEndPosition(){return r.getEndPosition(this)}static getEndPosition(e){return new i.L(e.endLineNumber,e.endColumn)}getStartPosition(){return r.getStartPosition(this)}static getStartPosition(e){return new i.L(e.startLineNumber,e.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(e,t){return new r(this.startLineNumber,this.startColumn,e,t)}setStartPosition(e,t){return new r(e,t,this.endLineNumber,this.endColumn)}collapseToStart(){return r.collapseToStart(this)}static collapseToStart(e){return new r(e.startLineNumber,e.startColumn,e.startLineNumber,e.startColumn)}static fromPositions(e,t=e){return new r(e.lineNumber,e.column,t.lineNumber,t.column)}static lift(e){return e?new r(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn):null}static isIRange(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}static areIntersectingOrTouching(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<e.startColumn)}static areIntersecting(e,t){return!(e.endLineNumber<t.startLineNumber||e.endLineNumber===t.startLineNumber&&e.endColumn<=t.startColumn)&&!(t.endLineNumber<e.startLineNumber||t.endLineNumber===e.startLineNumber&&t.endColumn<=e.startColumn)}static compareRangesUsingStarts(e,t){if(e&&t){const n=0|e.startLineNumber,i=0|t.startLineNumber;if(n===i){const n=0|e.startColumn,i=0|t.startColumn;if(n===i){const n=0|e.endLineNumber,i=0|t.endLineNumber;if(n===i){return(0|e.endColumn)-(0|t.endColumn)}return n-i}return n-i}return n-i}return(e?1:0)-(t?1:0)}static compareRangesUsingEnds(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber}static spansMultipleLines(e){return e.endLineNumber>e.startLineNumber}}},89636:function(e,t,n){n.d(t,{h:function(){return i}});class i{constructor(e,t,n,r){this._rgba8Brand=void 0,this.r=i._clamp(e),this.g=i._clamp(t),this.b=i._clamp(n),this.a=i._clamp(r)}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}static _clamp(e){return e<0?0:e>255?255:0|e}}i.Empty=new i(0,0,0,0)},3860:function(e,t,n){n.d(t,{Y:function(){return o}});var i=n(50187),r=n(24314);class o extends r.e{constructor(e,t,n,i){super(e,t,n,i),this.selectionStartLineNumber=e,this.selectionStartColumn=t,this.positionLineNumber=n,this.positionColumn=i}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(e){return o.selectionsEqual(this,e)}static selectionsEqual(e,t){return e.selectionStartLineNumber===t.selectionStartLineNumber&&e.selectionStartColumn===t.selectionStartColumn&&e.positionLineNumber===t.positionLineNumber&&e.positionColumn===t.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(e,t){return 0===this.getDirection()?new o(this.startLineNumber,this.startColumn,e,t):new o(e,t,this.startLineNumber,this.startColumn)}getPosition(){return new i.L(this.positionLineNumber,this.positionColumn)}setStartPosition(e,t){return 0===this.getDirection()?new o(e,t,this.endLineNumber,this.endColumn):new o(this.endLineNumber,this.endColumn,e,t)}static fromPositions(e,t=e){return new o(e.lineNumber,e.column,t.lineNumber,t.column)}static liftSelection(e){return new o(e.selectionStartLineNumber,e.selectionStartColumn,e.positionLineNumber,e.positionColumn)}static selectionsArrEqual(e,t){if(e&&!t||!e&&t)return!1;if(!e&&!t)return!0;if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(!this.selectionsEqual(e[n],t[n]))return!1;return!0}static isISelection(e){return e&&"number"==typeof e.selectionStartLineNumber&&"number"==typeof e.selectionStartColumn&&"number"==typeof e.positionLineNumber&&"number"==typeof e.positionColumn}static createWithDirection(e,t,n,i,r){return 0===r?new o(e,t,n,i):new o(n,i,e,t)}}},50072:function(e,t,n){n.d(t,{oe:function(){return c},lZ:function(){return m},l$:function(){return d},kH:function(){return h}});var i=n(97295),r=n(1432),o=n(53060);let s,l,u;function a(){return s||(s=new TextDecoder("UTF-16LE")),s}function c(){return u||(u=r.r()?a():(l||(l=new TextDecoder("UTF-16BE")),l)),u}const m="undefined"!=typeof TextDecoder;let d,h;function f(e,t,n){let i=[],r=0;for(let s=0;s<n;s++){const n=o.mP(e,t);t+=2,i[r++]=String.fromCharCode(n)}return i.join("")}m?(d=e=>new g(e),h=function(e,t,n){const i=new Uint16Array(e.buffer,t,n);if(n>0&&(65279===i[0]||65534===i[0]))return f(e,t,n);return a().decode(i)}):(d=e=>new C,h=f);class g{constructor(e){this._capacity=0|e,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return null!==this._completedStrings?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(0===this._bufferLength)return"";const e=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return c().decode(e)}_flushBuffer(){const e=this._buildBuffer();this._bufferLength=0,null===this._completedStrings?this._completedStrings=[e]:this._completedStrings[this._completedStrings.length]=e}write1(e){const t=this._capacity-this._bufferLength;t<=1&&(0===t||i.ZG(e))&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCII(e){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=e}appendASCIIString(e){const t=e.length;if(this._bufferLength+t>=this._capacity)return this._flushBuffer(),void(this._completedStrings[this._completedStrings.length]=e);for(let n=0;n<t;n++)this._buffer[this._bufferLength++]=e.charCodeAt(n)}}class C{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCII(e){this._pieces[this._piecesLen++]=String.fromCharCode(e)}appendASCIIString(e){this._pieces[this._piecesLen++]=e}}},85600:function(e,t,n){n.d(t,{WU:function(){return i},hG:function(){return r},Hi:function(){return o}});class i{constructor(e,t,n){this._tokenBrand=void 0,this.offset=0|e,this.type=t,this.language=n}toString(){return"("+this.offset+", "+this.type+")"}}class r{constructor(e,t){this._tokenizationResultBrand=void 0,this.tokens=e,this.endState=t}}class o{constructor(e,t){this._tokenizationResult2Brand=void 0,this.tokens=e,this.endState=t}}},86237:function(e,t,n){n.d(t,{g:function(){return c}});var i=n(2484),r=n(97295);function o(e,t,n,r){return new i.Hs(e,t,n).ComputeDiff(r)}class s{constructor(e){const t=[],n=[];for(let i=0,r=e.length;i<r;i++)t[i]=m(e[i],1),n[i]=d(e[i],1);this.lines=e,this._startColumns=t,this._endColumns=n}getElements(){const e=[];for(let t=0,n=this.lines.length;t<n;t++)e[t]=this.lines[t].substring(this._startColumns[t]-1,this._endColumns[t]-1);return e}getStrictElement(e){return this.lines[e]}getStartLineNumber(e){return e+1}getEndLineNumber(e){return e+1}createCharSequence(e,t,n){const i=[],r=[],o=[];let s=0;for(let l=t;l<=n;l++){const t=this.lines[l],n=e?this._startColumns[l]:1,u=e?this._endColumns[l]:t.length+1;for(let e=n;e<u;e++)i[s]=t.charCodeAt(e-1),r[s]=l+1,o[s]=e,s++}return new l(i,r,o)}}class l{constructor(e,t,n){this._charCodes=e,this._lineNumbers=t,this._columns=n}getElements(){return this._charCodes}getStartLineNumber(e){return this._lineNumbers[e]}getStartColumn(e){return this._columns[e]}getEndLineNumber(e){return this._lineNumbers[e]}getEndColumn(e){return this._columns[e]+1}}class u{constructor(e,t,n,i,r,o,s,l){this.originalStartLineNumber=e,this.originalStartColumn=t,this.originalEndLineNumber=n,this.originalEndColumn=i,this.modifiedStartLineNumber=r,this.modifiedStartColumn=o,this.modifiedEndLineNumber=s,this.modifiedEndColumn=l}static createFromDiffChange(e,t,n){let i,r,o,s,l,a,c,m;return 0===e.originalLength?(i=0,r=0,o=0,s=0):(i=t.getStartLineNumber(e.originalStart),r=t.getStartColumn(e.originalStart),o=t.getEndLineNumber(e.originalStart+e.originalLength-1),s=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(l=0,a=0,c=0,m=0):(l=n.getStartLineNumber(e.modifiedStart),a=n.getStartColumn(e.modifiedStart),c=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),m=n.getEndColumn(e.modifiedStart+e.modifiedLength-1)),new u(i,r,o,s,l,a,c,m)}}class a{constructor(e,t,n,i,r){this.originalStartLineNumber=e,this.originalEndLineNumber=t,this.modifiedStartLineNumber=n,this.modifiedEndLineNumber=i,this.charChanges=r}static createFromDiffResult(e,t,n,i,r,s,l){let c,m,d,h,f;if(0===t.originalLength?(c=n.getStartLineNumber(t.originalStart)-1,m=0):(c=n.getStartLineNumber(t.originalStart),m=n.getEndLineNumber(t.originalStart+t.originalLength-1)),0===t.modifiedLength?(d=i.getStartLineNumber(t.modifiedStart)-1,h=0):(d=i.getStartLineNumber(t.modifiedStart),h=i.getEndLineNumber(t.modifiedStart+t.modifiedLength-1)),s&&t.originalLength>0&&t.originalLength<20&&t.modifiedLength>0&&t.modifiedLength<20&&r()){const s=n.createCharSequence(e,t.originalStart,t.originalStart+t.originalLength-1),a=i.createCharSequence(e,t.modifiedStart,t.modifiedStart+t.modifiedLength-1);let c=o(s,a,r,!0).changes;l&&(c=function(e){if(e.length<=1)return e;const t=[e[0]];let n=t[0];for(let i=1,r=e.length;i<r;i++){const r=e[i],o=r.originalStart-(n.originalStart+n.originalLength),s=r.modifiedStart-(n.modifiedStart+n.modifiedLength);Math.min(o,s)<3?(n.originalLength=r.originalStart+r.originalLength-n.originalStart,n.modifiedLength=r.modifiedStart+r.modifiedLength-n.modifiedStart):(t.push(r),n=r)}return t}(c)),f=[];for(let e=0,t=c.length;e<t;e++)f.push(u.createFromDiffChange(c[e],s,a))}return new a(c,m,d,h,f)}}class c{constructor(e,t,n){this.shouldComputeCharChanges=n.shouldComputeCharChanges,this.shouldPostProcessCharChanges=n.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=n.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=n.shouldMakePrettyDiff,this.originalLines=e,this.modifiedLines=t,this.original=new s(e),this.modified=new s(t),this.continueLineDiff=h(n.maxComputationTime),this.continueCharDiff=h(0===n.maxComputationTime?0:Math.min(n.maxComputationTime,5e3))}computeDiff(){if(1===this.original.lines.length&&0===this.original.lines[0].length)return 1===this.modified.lines.length&&0===this.modified.lines[0].length?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(1===this.modified.lines.length&&0===this.modified.lines[0].length)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const e=o(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),t=e.changes,n=e.quitEarly;if(this.shouldIgnoreTrimWhitespace){const e=[];for(let n=0,i=t.length;n<i;n++)e.push(a.createFromDiffResult(this.shouldIgnoreTrimWhitespace,t[n],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:n,changes:e}}const i=[];let r=0,s=0;for(let e=-1,n=t.length;e<n;e++){const o=e+1<n?t[e+1]:null,l=o?o.originalStart:this.originalLines.length,u=o?o.modifiedStart:this.modifiedLines.length;for(;r<l&&s<u;){const e=this.originalLines[r],t=this.modifiedLines[s];if(e!==t){{let n=m(e,1),o=m(t,1);for(;n>1&&o>1;){if(e.charCodeAt(n-2)!==t.charCodeAt(o-2))break;n--,o--}(n>1||o>1)&&this._pushTrimWhitespaceCharChange(i,r+1,1,n,s+1,1,o)}{let n=d(e,1),o=d(t,1);const l=e.length+1,u=t.length+1;for(;n<l&&o<u;){if(e.charCodeAt(n-1)!==e.charCodeAt(o-1))break;n++,o++}(n<l||o<u)&&this._pushTrimWhitespaceCharChange(i,r+1,n,l,s+1,o,u)}}r++,s++}o&&(i.push(a.createFromDiffResult(this.shouldIgnoreTrimWhitespace,o,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),r+=o.originalLength,s+=o.modifiedLength)}return{quitEarly:n,changes:i}}_pushTrimWhitespaceCharChange(e,t,n,i,r,o,s){if(this._mergeTrimWhitespaceCharChange(e,t,n,i,r,o,s))return;let l;this.shouldComputeCharChanges&&(l=[new u(t,n,t,i,r,o,r,s)]),e.push(new a(t,t,r,r,l))}_mergeTrimWhitespaceCharChange(e,t,n,i,r,o,s){const l=e.length;if(0===l)return!1;const a=e[l-1];return 0!==a.originalEndLineNumber&&0!==a.modifiedEndLineNumber&&(a.originalEndLineNumber+1===t&&a.modifiedEndLineNumber+1===r&&(a.originalEndLineNumber=t,a.modifiedEndLineNumber=r,this.shouldComputeCharChanges&&a.charChanges&&a.charChanges.push(new u(t,n,t,i,r,o,r,s)),!0))}}function m(e,t){const n=r.LC(e);return-1===n?t:n+1}function d(e,t){const n=r.ow(e);return-1===n?t:n+2}function h(e){if(0===e)return()=>!0;const t=Date.now();return()=>Date.now()-t<e}}}]);